{"version":3,"file":"ali-1.0.1.umd.min.cloud-credential.js","mappings":"iXA0DUA,EAAAC,YAAYC,U,kBADpBC,EAAAA,EAAAA,aAGEC,EAAA,C,MADCC,SAAS,O,kBAEZC,EAAAA,EAAAA,oBAwBM,MAAAC,EAAA,EAvBJC,EAAAA,EAAAA,aAUEC,EAAA,CATCC,MAAOV,EAAAU,MAAMC,YAAYC,YAC1B,YAAU,wCACV,kBAAgB,8CAChBC,KAAK,OACJC,MAAOd,EAAAe,wBAAwB,2BAC/BC,KAAMhB,EAAAgB,KACNC,UAAU,EACX,cAAY,aACX,iBAAYC,EAAA,KAAAA,EAAA,GAAAC,GAAEnB,EAAAoB,MAAM,eAAgB,cAAeD,K,kCAEtDX,EAAAA,EAAAA,aAWEC,EAAA,CAVCC,MAAOV,EAAAU,MAAMC,YAAYU,gBAC1BC,MAAM,QACN,YAAU,4CACV,kBAAgB,kDAChBT,KAAK,WACJC,MAAOd,EAAAe,wBAAwB,+BAC/BC,KAAMhB,EAAAgB,KACNC,UAAU,EACX,cAAY,aACX,iBAAYC,EAAA,KAAAA,EAAA,GAAAC,GAAEnB,EAAAoB,MAAM,eAAgB,kBAAmBD,K,mFA5E9D,GAAeI,EAAAA,EAAAA,iBAAgB,CAC7BC,MAAO,CAAC,oBAAqB,gBAC7BC,KAAY,qBAEZC,WAAY,CAAEC,QAAO,IAAEC,aAAYA,EAAAA,GACnCC,OAAY,CAACC,EAAAA,EAAgBC,EAAAA,GAE7BC,IAAAA,GACE,MAAO,CACLC,eAAgB,CACd,CAAEC,KAAM,0BAA2BpB,MAAO,CAAC,aAC3C,CAAEoB,KAAM,8BAA+BpB,MAAO,CAAC,cAGrD,EAEAqB,MAAO,CACLC,aAAAA,CAAcC,GACZC,KAAKlB,MAAM,sBAAuBiB,EACpC,GAGFE,QAAS,CAIP,UAAMC,GACJ,IAYE,aAXMF,KAAKG,OAAOC,SAAS,qBAAsB,CAC/CC,IAAsB,gCACtBC,OAAsB,OACtBZ,KAAsB,CACpBpB,YAAkB0B,KAAK5B,MAAMC,YAAYC,YACzCS,gBAAsBiB,KAAK5B,MAAMC,YAAYU,gBAC7CwB,eAAiB,SAEnBC,sBAAsB,KAGjB,CACT,CAAE,MAAOC,GACP,OAAO,CACT,CACF,K,WC7CJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://ali-1.0.1/./cloud-credential/alibaba.vue","webpack://ali-1.0.1/./cloud-credential/alibaba.vue?6174"],"sourcesContent":["<script>\nimport { defineComponent } from 'vue';\nimport Loading from '@shell/components/Loading';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport FormValidation from '@shell/mixins/form-validation';\n\nexport default defineComponent({\n  emits: ['validationChanged', 'valueChanged'],\n  name:       'CloudCredentialAck',\n\n  components: { Loading, LabeledInput },\n  mixins:     [CreateEditView, FormValidation],\n\n  data() {\n    return {\n      fvFormRuleSets: [\n        { path: 'decodedData.accessKeyId', rules: ['required'] },\n        { path: 'decodedData.accessKeySecret', rules: ['required'] },\n      ]\n    };\n  },\n\n  watch: {\n    fvFormIsValid(newValue) {\n      this.$emit('validationChanged', !!newValue);\n    }\n  },\n\n  methods: {\n    //  TODO: once backend is done, check if this is enough or if we should check for something else,\n    //  because right now this can give false positivies\n\n    async test() {\n      try {\n        await this.$store.dispatch('management/request', {\n          url:                  '/meta/alibabaCheckCredentials',\n          method:               'POST',\n          data:                 {\n            accessKeyId:      this.value.decodedData.accessKeyId,\n            accessKeySecret:      this.value.decodedData.accessKeySecret,\n            acceptLanguage:  'en-US'\n          },\n          redirectUnauthorized: false,\n        });\n\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n\n  }\n});\n</script>\n\n<template>\n  <Loading\n    v-if=\"$fetchState.pending\"\n    :delayed=\"true\"\n  />\n  <div v-else>\n    <LabeledInput\n      :value=\"value.decodedData.accessKeyId\"\n      label-key=\"ali.cloudcredential.accessKeyID.label\"\n      placeholder-key=\"ali.cloudcredential.accessKeyID.placeholder\"\n      type=\"text\"\n      :rules=\"fvGetAndReportPathRules('decodedData.accessKeyId')\"\n      :mode=\"mode\"\n      :required=\"true\"\n      data-testid=\"access-key\"\n      @update:value=\"$emit('valueChanged', 'accessKeyId', $event)\"\n    />\n    <LabeledInput\n      :value=\"value.decodedData.accessKeySecret\"\n      class=\"mt-20\"\n      label-key=\"ali.cloudcredential.accessKeySecret.label\"\n      placeholder-key=\"ali.cloudcredential.accessKeySecret.placeholder\"\n      type=\"password\"\n      :rules=\"fvGetAndReportPathRules('decodedData.accessKeySecret')\"\n      :mode=\"mode\"\n      :required=\"true\"\n      data-testid=\"secret-key\"\n      @update:value=\"$emit('valueChanged', 'accessKeySecret', $event)\"\n    />\n  </div>\n</template>\n","import { render } from \"./alibaba.vue?vue&type=template&id=6ff84207\"\nimport script from \"./alibaba.vue?vue&type=script&lang=js\"\nexport * from \"./alibaba.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_ctx","$fetchState","pending","_createBlock","_component_Loading","delayed","_createElementBlock","_hoisted_1","_createVNode","_component_LabeledInput","value","decodedData","accessKeyId","type","rules","fvGetAndReportPathRules","mode","required","_cache","$event","$emit","accessKeySecret","class","defineComponent","emits","name","components","Loading","LabeledInput","mixins","CreateEditView","FormValidation","data","fvFormRuleSets","path","watch","fvFormIsValid","newValue","this","methods","test","$store","dispatch","url","method","acceptLanguage","redirectUnauthorized","e","__exports__","render"],"sourceRoot":""}