(("undefined"!==typeof self?self:this)["webpackChunkobservability_2_2_9"]=("undefined"!==typeof self?self:this)["webpackChunkobservability_2_2_9"]||[]).push([[645],{4134:function(e,t,r){"use strict";r.d(t,{Di:function(){return g},cQ:function(){return k}});var a=r(5664),o=r(8632);const n="pod",s="service",c="node",i="daemonset",l="deployment",u="statefulset",d="cronjob",p="job",h="replicaset",m="replication-controller",f="cluster",v="configmap",b="secret",y="namespace",E=new Map([[a.Sm,n],[a.YV,s],[a.NW,c],[a.oU.DAEMON_SET,i],[a.oU.DEPLOYMENT,l],[a.oU.STATEFUL_SET,u],[a.oU.CRON_JOB,d],[a.oU.JOB,p],[a.oU.REPLICA_SET,h],[a.oU.REPLICATION_CONTROLLER,m],[o.Bs,f],[a.K5,v],[a.bB,b],[a.CU,y]]);function g(e){return E.get(e)||e}function k(e,t){if(!e.type)return;const r=g(e.type.toLowerCase());if(!t)throw new Error(`Cluster name is required for ${r} URN`);const a=e.metadata?.namespace,o=e.metadata?.name||e.name;switch(r){case f:return`urn:cluster:/${t}`;case c:return`urn:kubernetes:/${t}:node/${o}`;case y:return`urn:kubernetes:/${t}:namespace/${o}`;default:return`urn:kubernetes:/${t}:${a}:${r}/${o}`}}},1809:function(e,t,r){"use strict";r.d(t,{A:function(){return l}});var a=r(9274);function o(e,t,r,o,n,s){return(0,a.openBlock)(),(0,a.createElementBlock)("span",{class:(0,a.normalizeClass)(`healthstate healthstate-${s.badgeColor}`)},(0,a.toDisplayString)(r.health??"LOADING"),3)}var n=r(4576),s={name:"HealthState",props:{health:{type:String,default:null},color:{type:String,default:null}},computed:{badgeColor(){if(this.color)return this.color;switch(this.health){case n.z6.CLEAR:return"green";case n.z6.DEVIATING:return"orange";case n.z6.CRITICAL:return"red";case n.z6.UNKNOWN:case n.z6.UNCONFIGURED:return"grey";default:return"skeleton"}}}},c=(r(3905),r(7433));const i=(0,c.A)(s,[["render",o],["__scopeId","data-v-04477c1a"]]);var l=i},950:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var a=r(9274);const o={key:0},n={class:"card"},s={key:1},c={class:"card"},i={key:2},l={class:"card"},u=["href"];function d(e,t,r,d,p,h){const m=(0,a.resolveComponent)("HealthState"),f=(0,a.resolveComponent)("LiveDate"),v=(0,a.resolveComponent)("SortableTable");return p.observationStatus===p.ObservationStatus.NotDeployed?((0,a.openBlock)(),(0,a.createElementBlock)("div",o,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.t("components.monitorTab.notEnabled")),1)])])):p.observationStatus===p.ObservationStatus.ConnectionError?((0,a.openBlock)(),(0,a.createElementBlock)("div",s,[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.t("components.monitorTab.connectionError")),1)])])):h.hasMonitors?((0,a.openBlock)(),(0,a.createBlock)(v,{key:3,rows:p.monitors,headers:p.MONITOR_HEADERS,"table-actions":!1,"row-actions":!1,"key-field":"checkStateId","default-sort-by":"state",paging:!0,"rows-per-page":40},{"col:state":(0,a.withCtx)((({row:e})=>[(0,a.createElementVNode)("td",null,[(0,a.createVNode)(m,{health:e.health},null,8,["health"])])])),"col:monitor":(0,a.withCtx)((({row:e})=>[(0,a.createElementVNode)("td",null,[(0,a.createElementVNode)("a",{href:`${p.url}/#/components/${encodeURIComponent(p.urn)}`,target:"_blank",rel:"nofollow noopener noreferrer"},(0,a.toDisplayString)(e.name),9,u)])])),"col:lastUpdate":(0,a.withCtx)((({row:e})=>[(0,a.createElementVNode)("td",null,[(0,a.createVNode)(f,{value:e.lastUpdateTimestamp},null,8,["value"])])])),_:1},8,["rows","headers"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",i,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.t("components.monitorTab.noMonitors")),1)])]))}var p=r(5359),h=r(6501),m=r(2027),f=r(7272),v=r(7512),b=r(4134),y=r(275),E=r(1809),g={name:"MonitorTab",components:{SortableTable:m.A,HealthState:E.A,LiveDate:h.A},props:{resource:{type:Object,required:!0}},data(){return{MONITOR_HEADERS:y.w,observationStatus:f.pX.Observed,ObservationStatus:f.pX,urn:"",url:"",monitors:[],currResourceData:void 0}},computed:{...(0,p.L8)(["currentCluster"]),clusterId(){return this.currentCluster?.id},hasMonitors(){return this.monitors?.length>0},componentIdentifier(){const e=this.currentCluster?.spec.displayName;if(!e)return"";let t=`urn:kubernetes:/${e}`;const r=this.resource?.metadata?this.resource:this.currResourceData;return r?.metadata?.namespace&&(t+=`:${r.metadata.namespace}`),t+=`:${(0,b.Di)(r?.type?.toLowerCase())}/${r?.metadata?.name}`,t}},async fetch(){if(!(0,v.Fg)(this.$store))return;if(!this.resource?.metadata){const e=this.$route?.params?.resource,t=this.$route?.params?.namespace,r=this.$route?.params?.id,a=t?`${t}/${r}`:r;this.currResourceData=await this.$store.dispatch("cluster/find",{type:e,id:a})}const e=await(0,v.$8)(this.$store);this.urn=this.componentIdentifier;try{const t=await(0,f.of)(e,this.urn);this.monitors=t.syncedCheckStates,this.url=e.url}catch(t){this.observationStatus=await(0,f.ZT)(this.clusterId,e)}}},k=(r(599),r(7433));const w=(0,k.A)(g,[["render",d],["__scopeId","data-v-443abb9e"]]);var N=w},7137:function(e,t,r){"use strict";r.r(t);var a=r(6758),o=r.n(a),n=r(935),s=r.n(n),c=s()(o());c.push([e.id,".healthstate-green[data-v-04477c1a]{color:#2b9e40}.healthstate-orange[data-v-04477c1a]{color:#ff8a1e}.healthstate-red[data-v-04477c1a]{color:#eb5757}.healthstate-grey[data-v-04477c1a]{color:#878e98}.healthstate-skeleton[data-v-04477c1a]{cursor:wait;color:#d9d9d9;background-color:transparent}.healthstate[data-v-04477c1a]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}",""]),t["default"]=c},87:function(e,t,r){"use strict";r.r(t);var a=r(6758),o=r.n(a),n=r(935),s=r.n(n),c=s()(o());c.push([e.id,"div.card[data-v-443abb9e]{line-height:19px;font-size:14px;align-items:center;display:flex}span.spacer[data-v-443abb9e]{margin-left:4px}",""]),t["default"]=c},3905:function(e,t,r){var a=r(7137);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=r(4825).A;o("f767d924",a,!0,{sourceMap:!1,shadowMode:!1})},599:function(e,t,r){var a=r(87);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=r(4825).A;o("bc3b535a",a,!0,{sourceMap:!1,shadowMode:!1})},1177:function(e,t,r){var a={"./csp/metadata.json":6471,"./federal/metadata.json":1862,"./rgs/metadata.json":8401,"./suse/metadata.json":7259};function o(e){var t=n(e);return r(t)}function n(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=n,e.exports=o,o.id=1177}}]);
//# sourceMappingURL=observability-2.2.9.umd.min.645.js.map