(("undefined"!==typeof self?self:this)["webpackChunkharvester_1_0_2"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_1_0_2"]||[]).push([[739],{67862:function(e,t,a){"use strict";a.r(t);var o=a(25912),l=a(41335);describe("component: Loki",(()=>{it("should display URL placeholder",(()=>{const e=(0,o.Ky)(l["default"],{props:{mode:"edit",namespace:"whatever"}}),t="https://127.0.0.1:8000",a=e.find('[data-testid="loki-url"]').attributes("placeholder");expect(a).toBe(t)}))}))},49306:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-6b2f75f1"),e=e(),(0,o.popScopeId)(),e),s={class:"label"},r={class:"text-label"},n={class:"mt-10"},i=["onClick"],d=l((()=>(0,o.createElementVNode)("i",{class:"icon icon-plus icon-sm"},null,-1))),c={key:1,class:"tag input"};function u(e,t,a,l,u,p){const m=(0,o.resolveComponent)("t"),v=(0,o.resolveComponent)("Tag");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[a.labelKey?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,k:a.labelKey},null,8,["k"])):a.label?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)((0,o.toDisplayString)(a.label),1)],64)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",n,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.value,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(v,{key:t,class:"tag"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e),1),p.canRemove?((0,o.openBlock)(),(0,o.createElementBlock)("i",{key:0,class:"icon icon-close ml-5 icon-sm",onClick:t=>p.onRemoveTag(e)},null,8,i)):(0,o.createCommentVNode)("",!0)])),_:2},1024)))),128)),p.addVisible&&!u.inputVisible?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,class:"tag add",onClick:t[0]||(t[0]=(...e)=>p.onClickPlusButton&&p.onClickPlusButton(...e))},[d,(0,o.createElementVNode)("span",null,[a.addLabelKey?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,k:a.addLabelKey},null,8,["k"])):a.addLabel?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)((0,o.toDisplayString)(a.addLabel),1)],64)):(0,o.createCommentVNode)("",!0)])])):p.addVisible&&u.inputVisible?((0,o.openBlock)(),(0,o.createElementBlock)("span",c,[(0,o.withDirectives)((0,o.createElementVNode)("input",{ref:"addTagInput","onUpdate:modelValue":t[1]||(t[1]=e=>u.inputValue=e),type:"text",onBlur:t[2]||(t[2]=(...e)=>p.confirmAdd&&p.confirmAdd(...e)),onKeydown:t[3]||(t[3]=(0,o.withKeys)((0,o.withModifiers)(((...e)=>p.confirmAdd&&p.confirmAdd(...e)),["prevent"]),["enter"]))},null,544),[[o.vModelText,u.inputValue]])])):(0,o.createCommentVNode)("",!0)])])}var p=a(75040),m=a(93410),v={name:"Tags",emits:["update:value"],components:{Tag:m.A},props:{value:{type:Array,required:!0},label:{type:String,default:""},labelKey:{type:String,default:""},addLabel:{type:String,default:""},addLabelKey:{type:String,default:""},canAdd:{type:Boolean,default:!0},mode:{type:String,default:p.YQ},disabled:{type:Boolean,default:!1}},data(){return{tags:this.value,inputVisible:!1,inputValue:""}},computed:{isCreate(){return this.mode===p.YQ},isView(){return this.mode===p.nW},isEdit(){return this.mode===p.G5},canRemove(){return!this.isView},addVisible(){return this.canAdd&&!this.isView}},methods:{onClickPlusButton(){this.inputVisible=!0,this.$nextTick((()=>{this.$refs.addTagInput&&this.$refs.addTagInput.focus()}))},confirmAdd(){this.inputValue&&!this.value.includes(this.inputValue)&&(this.tags.push(this.inputValue),this.$emit("update:value",this.tags)),this.inputValue="",this.inputVisible=!1},onRemoveTag(e){this.tags=this.tags.filter((t=>t!==e)),this.$emit("update:value",this.tags)}}},h=(a(61051),a(47433));const b=(0,h.A)(v,[["render",u],["__scopeId","data-v-6b2f75f1"]]);var g=b},36955:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var o=a(9274);const l={class:"row mb-20"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("FileSelector"),c=(0,o.resolveComponent)("TextAreaAutoGrow");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(d,{class:"btn btn-sm bg-primary mb-10",label:e.t("generic.readFromFile"),onSelected:i.onKeySelected},null,8,["label","onSelected"]),(0,o.createElementVNode)("div",null,[(0,o.createVNode)(c,{value:e.value.value,"onUpdate:value":t[0]||(t[0]=t=>e.value.value=t),"min-height":254},null,8,["value"])])])])])}var n=a(81357),i=a(58782),d=a(67683),c={name:"HarvesterAdditionalCA",components:{FileSelector:i.A,TextAreaAutoGrow:d.V},mixins:[n.A],methods:{onKeySelected:(0,i.B)("value.value")}},u=a(47433);const p=(0,u.A)(c,[["render",r]]);var m=p},53867:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);const l={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(d,{value:n.ratio,"onUpdate:value":[t[0]||(t[0]=e=>n.ratio=e),i.update],label:e.t("harvester.setting.ratio")},null,8,["value","label","onUpdate:value"])])])}var n=a(81357),i=a(53512),d={name:"AdditionalGuestMemoryOverheadRatio",components:{LabeledInput:i.o},mixins:[n.A],data(){return{ratio:this.value.value||this.value.default}},methods:{update(){this.value["value"]=this.ratio},useDefault(){this["ratio"]=this.value.default,this.update()}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},32158:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var o=a(9274);const l={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("RadioGroup"),c=(0,o.resolveComponent)("UnitInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(d,{value:n.parseDefaultValue.enable,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.enable=e),i.update],class:"mb-20",name:"model",options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","labels","onUpdate:value"]),n.parseDefaultValue.enable?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,value:n.parseDefaultValue.expiringInHours,"onUpdate:value":[t[1]||(t[1]=e=>n.parseDefaultValue.expiringInHours=e),i.update],valueModifiers:{number:!0},class:"mb-20",min:1,max:8759,required:!0,suffix:1===n.parseDefaultValue.expiringInHours?"Hour":"Hours",label:e.t("harvester.setting.autoRotateRKE2Certs.expiringInHours"),mode:e.mode},null,8,["value","suffix","label","mode","onUpdate:value"])):(0,o.createCommentVNode)("",!0)])])}var n=a(81357),i=a(83328),d=a(43631),c={name:"HarvesterAutoRotateRKE2Certs",components:{RadioGroup:i.z,UnitInput:d.A},mixins:[n.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},u=(a(50072),a(47433));const p=(0,u.A)(c,[["render",r],["__scopeId","data-v-034d9714"]]);var m=p},65325:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const l={class:"col span-12"},s={class:"mb-20"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("LabeledSelect"),c=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("Tip"),p=(0,o.resolveComponent)("Password"),m=(0,o.resolveComponent)("MessageLink");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"row",onInput:t[7]||(t[7]=(...e)=>i.update&&i.update(...e))},[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(d,{value:n.parseDefaultValue.type,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.type=e),i.update],class:"mb-20",label:e.t("harvester.fields.type"),options:i.typeOption},null,8,["value","label","options","onUpdate:value"]),(0,o.createVNode)(c,{value:n.parseDefaultValue.endpoint,"onUpdate:value":t[1]||(t[1]=e=>n.parseDefaultValue.endpoint=e),class:"mb-5",placeholder:i.endpointPlaceholder,mode:e.mode,label:"Endpoint"},null,8,["value","placeholder","mode"]),(0,o.createVNode)(u,{class:"mb-20",icon:"icon icon-info",text:e.t("harvester.backup.backupTargetTip")},null,8,["text"]),i.isS3?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createVNode)(c,{value:n.parseDefaultValue.bucketName,"onUpdate:value":t[2]||(t[2]=e=>n.parseDefaultValue.bucketName=e),class:"mb-20",mode:e.mode,label:"Bucket Name",required:""},null,8,["value","mode"]),(0,o.createVNode)(c,{value:n.parseDefaultValue.bucketRegion,"onUpdate:value":t[3]||(t[3]=e=>n.parseDefaultValue.bucketRegion=e),class:"mb-20",mode:e.mode,label:"Bucket Region",required:""},null,8,["value","mode"]),(0,o.createVNode)(c,{value:n.parseDefaultValue.accessKeyId,"onUpdate:value":t[4]||(t[4]=e=>n.parseDefaultValue.accessKeyId=e),placeholder:e.t("harvester.setting.placeholder.accessKeyId"),class:"mb-20",mode:e.mode,label:"Access Key ID",required:""},null,8,["value","placeholder","mode"]),(0,o.createVNode)(p,{value:n.parseDefaultValue.secretAccessKey,"onUpdate:value":t[5]||(t[5]=e=>n.parseDefaultValue.secretAccessKey=e),class:"mb-20",mode:e.mode,placeholder:e.t("harvester.setting.placeholder.secretAccessKey"),label:"Secret Access Key",required:""},null,8,["value","mode","placeholder"]),(0,o.createVNode)(d,{value:n.parseDefaultValue.virtualHostedStyle,"onUpdate:value":[t[6]||(t[6]=e=>n.parseDefaultValue.virtualHostedStyle=e),i.update],class:"mb-20",label:"Virtual Hosted-Style",options:i.virtualHostedStyleOptions},null,8,["value","options","onUpdate:value"]),(0,o.createElementVNode)("div",s,[(0,o.createVNode)(u,{icon:"icon icon-info"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{to:i.toCA,target:"_blank","prefix-label":"harvester.setting.message.ca.prefix","middle-label":"harvester.setting.message.ca.middle","suffix-label":"harvester.setting.message.ca.suffix"},null,8,["to"])])),_:1})])],64)):(0,o.createCommentVNode)("",!0)])],32)}var n=a(62992),i=a(8154),d=a(21398),c=a(81357),u=a(53512),p=a(70052),m=a(50889);const v="s3";var h={name:"HarvesterEditBackupTarget",components:{LabeledInput:u.o,LabeledSelect:p.A,Tip:n.A,Password:i.A,MessageLink:d.A},mixins:[c.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e={type:"",endpoint:""}}return e.type||(e.type=v),e.virtualHostedStyle=!1,{parseDefaultValue:e,errors:[]}},computed:{typeOption(){return[{value:"nfs",label:"NFS"},{value:v,label:"S3"}]},virtualHostedStyleOptions(){return[{value:!0,label:"True"},{value:!1,label:"False"}]},isS3(){return this.parseDefaultValue.type===v},endpointPlaceholder(){return this.isS3?"":"nfs://server:/path/"},toCA(){return`${m.EP.ADDITIONAL_CA}?mode=edit`}},watch:{value:{handler(e){let t;try{t=JSON.parse(e.value)}catch(a){t={type:"",endpoint:""}}this["parseDefaultValue"]=t,this.update()},deep:!0}},created(){this.update()},methods:{update(){this.isS3||(delete this.parseDefaultValue.accessKeyId,delete this.parseDefaultValue.secretAccessKey,delete this.parseDefaultValue.bucketName,delete this.parseDefaultValue.bucketRegion,delete this.parseDefaultValue.virtualHostedStyle,delete this.parseDefaultValue.cert),this.isS3&&!this.parseDefaultValue.virtualHostedStyle&&(this.parseDefaultValue.virtualHostedStyle=!1),this.parseDefaultValue.type?this.value["value"]=JSON.stringify(this.parseDefaultValue):delete this.value["value"]},useDefault(){this["parseDefaultValue"]={type:"",endpoint:""}}}},b=(a(23628),a(47433));const g=(0,b.A)(h,[["render",r],["__scopeId","data-v-62a46348"]]);var f=g},90955:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-d281fc5e"),e=e(),(0,o.popScopeId)(),e),s=["onClick"],r=l((()=>(0,o.createElementVNode)("i",{class:"icon icon-2x icon-x"},null,-1))),n=[r],i={class:"row mb-20"},d={class:"col span-12"},c={class:"mb-20"},u={class:"row mb-20"},p=l((()=>(0,o.createElementVNode)("hr",{class:"divider mt-20 mb-20"},null,-1))),m=["onClick"],v=l((()=>(0,o.createElementVNode)("i",{class:"icon icon-2x icon-x"},null,-1))),h=[v],b={class:"row mb-20"},g={class:"col span-12"},f={class:"col span-12"},y={class:"row mb-20"},N={class:"col span-6"},k={class:"col span-6"},V={class:"row mb-20"},E={class:"col span-6"},w={class:"col span-6"},C={class:"row"};function S(e,t,a,l,r,v){const S=(0,o.resolveComponent)("LabeledInput"),B=(0,o.resolveComponent)("LabeledSelect"),A=(0,o.resolveComponent)("KeyValue"),x=(0,o.resolveComponent)("InfoBox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("harvester.setting.containerdRegistry.mirrors.mirrors")),1),(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.mirrors,((l,r)=>((0,o.openBlock)(),(0,o.createBlock)(x,{key:l.idx,class:"box"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("button",{type:"button",class:"role-link btn btn-sm remove",onClick:e=>v.remove("mirrors",r)},n,8,s),(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(S,{value:l.key,"onUpdate:value":[e=>l.key=e,v.update],mode:a.mode,required:"","label-key":"harvester.setting.containerdRegistry.mirrors.registryName",onKeydown:t[0]||(t[0]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode"])])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(B,{value:l.value.Endpoints,"onUpdate:value":[e=>l.value.Endpoints=e,v.update],mode:a.mode,required:"","label-key":"harvester.setting.containerdRegistry.mirrors.endpoints",multiple:!0,taggable:!0,searchable:!0,options:[],onKeydown:t[1]||(t[1]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode"])]),(0,o.createElementVNode)("div",u,[(0,o.createVNode)(A,{value:l.value.Rewrites,"onUpdate:value":[e=>l.value.Rewrites=e,v.update],"add-label":e.t("harvester.setting.containerdRegistry.mirrors.rewrite.addRewrite"),mode:a.mode,title:e.t("harvester.setting.containerdRegistry.mirrors.rewrite.rewrite"),"read-allowed":!1,"value-can-be-empty":!0,onKeydown:t[2]||(t[2]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","add-label","mode","title"])])])),_:2},1024)))),128))]),(0,o.createElementVNode)("button",{class:"btn btn-sm role-primary",onClick:t[3]||(t[3]=(0,o.withModifiers)(((...e)=>v.addMirror&&v.addMirror(...e)),["self"]))},(0,o.toDisplayString)(e.t("harvester.setting.containerdRegistry.mirrors.addMirror")),1),p,(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("harvester.setting.containerdRegistry.configs.configs")),1),(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.configs,((t,l)=>((0,o.openBlock)(),(0,o.createBlock)(x,{key:t.idx,class:"box"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("button",{type:"button",class:"role-link btn btn-sm remove",onClick:e=>v.remove("configs",l)},h,8,m),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("div",f,[(0,o.createVNode)(S,{value:t.key,"onUpdate:value":[e=>t.key=e,v.update],mode:a.mode,placeholder:e.t("harvester.setting.containerdRegistry.configs.registryPlaceholder"),"label-key":"harvester.setting.containerdRegistry.configs.registryEDQNorIP"},null,8,["value","onUpdate:value","mode","placeholder"])])])]),(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",N,[(0,o.createVNode)(S,{value:t.value.Auth.Username,"onUpdate:value":[e=>t.value.Auth.Username=e,v.update],mode:a.mode,"label-key":"harvester.setting.containerdRegistry.configs.username"},null,8,["value","onUpdate:value","mode"])]),(0,o.createElementVNode)("div",k,[(0,o.createVNode)(S,{value:t.value.Auth.Password,"onUpdate:value":[e=>t.value.Auth.Password=e,v.update],mode:a.mode,"label-key":"harvester.setting.containerdRegistry.configs.password"},null,8,["value","onUpdate:value","mode"])])]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",E,[(0,o.createVNode)(S,{value:t.value.Auth.Auth,"onUpdate:value":[e=>t.value.Auth.Auth=e,v.update],mode:a.mode,type:"multiline","min-height":150,"label-key":"harvester.setting.containerdRegistry.configs.auth"},null,8,["value","onUpdate:value","mode"])]),(0,o.createElementVNode)("div",w,[(0,o.createVNode)(S,{value:t.value.Auth.IdentityToken,"onUpdate:value":[e=>t.value.Auth.IdentityToken=e,v.update],mode:a.mode,type:"multiline","min-height":150,"label-key":"harvester.setting.containerdRegistry.configs.identityToken"},null,8,["value","onUpdate:value","mode"])])]),(0,o.createElementVNode)("div",C,[(0,o.createVNode)(B,{value:t.value.TLS.InsecureSkipVerify,"onUpdate:value":[e=>t.value.TLS.InsecureSkipVerify=e,v.update],mode:a.mode,"label-key":"harvester.setting.containerdRegistry.configs.insecureSkipVerify",options:v.insecureSkipVerifyOption},null,8,["value","onUpdate:value","mode","options"])])])),_:2},1024)))),128)),(0,o.createElementVNode)("button",{class:"btn btn-sm role-primary",onClick:t[4]||(t[4]=(...e)=>v.addConfig&&v.addConfig(...e))},(0,o.toDisplayString)(e.t("harvester.setting.containerdRegistry.configs.addConfig")),1)])])}var B=a(53512),A=a(75040),x=a(78359),_=a(70052),D=a(74457),U=a(65525),M=a(65852),L={name:"HarvesterContainerdRegistry",components:{InfoBox:U.A,KeyValue:D.A,LabeledInput:B.o,LabeledSelect:_.A},props:{mode:{type:String,default:A.G5},value:{type:Object,default:()=>({})},registerBeforeHook:{type:Function,required:!0}},data(){const e={Endpoints:[],Rewrites:{}},t={Auth:{Username:"",Password:"",Auth:"",IdentityToken:""},TLS:{InsecureSkipVerify:!1}};let a={};const o={Mirrors:{"":(0,M.o8)(e)},Configs:{}};try{a=JSON.parse(this.value.value)}catch(c){a=o}Object.keys(a).length||(a=o);const l=a.Mirrors||{},s=a.Configs||{},r=Object.keys(l),n=Object.keys(s),i=r.map((e=>({key:e,value:a.Mirrors[e],idx:(0,x.vx)(5).toLowerCase()}))),d=n.map((e=>(a.Configs[e]?.Auth||(a.Configs[e].Auth=t.Auth),{key:e,value:a.Configs[e],idx:(0,x.vx)(5).toLowerCase()})));return{mirrors:i,configs:d,originMirror:e,originConfig:t,mirrorsKeys:r,configsKeys:n,errors:[]}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{insecureSkipVerifyOption(){return[{label:"True",value:!0},{label:"False",value:!1}]}},methods:{willSave(){const e=[];if(this.value.value)try{JSON.parse(this.value.value),this.mirrors.forEach((t=>{t.key||e.push(this.t("validation.required",{key:this.t("harvester.setting.containerdRegistry.mirrors.registryName")},!0)),0===t.value.Endpoints.length&&e.push(this.t("validation.required",{key:this.t("harvester.setting.containerdRegistry.mirrors.endpoints")},!0))})),this.configs.forEach((t=>{t.key||e.push(this.t("validation.required",{key:this.t("harvester.setting.containerdRegistry.configs.registryEDQNorIP")},!0))}))}catch(t){}return e.length>0?Promise.reject(e):Promise.resolve()},update(){const e={},t={};this.mirrors.forEach((t=>{e[t.key]=t.value})),this.configs.forEach((e=>{t[e.key]=e.value}));const a={Mirrors:e,Configs:t};Object.keys(e).length||delete a.Mirrors,Object.keys(t).length||delete a.Configs;const o=Object.keys(a).length?JSON.stringify(a):"";this.value["value"]=o},addMirror(){this.mirrors.push({key:"",value:(0,M.o8)(this.originMirror),idx:(0,x.vx)(5).toLowerCase()}),this.update()},addConfig(){this.configs.push({key:"",value:(0,M.o8)(this.originConfig),idx:(0,x.vx)(5).toLowerCase()}),this.update()},remove(e,t){this[e].splice(t,1),this.update()}},watch:{value:{handler(e){e.value||(this["mirrors"]=[],this["configs"]=[],this.update())},deep:!0}}},T=(a(88789),a(47433));const O=(0,T.A)(L,[["render",S],["__scopeId","data-v-d281fc5e"]]);var I=O},91932:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-34b9f214"),e=e(),(0,o.popScopeId)(),e),s=["disabled","onClick"],r=l((()=>(0,o.createElementVNode)("i",{class:"icon icon-x"},null,-1))),n=[r],i={class:"row"},d={class:"col span-4"},c={class:"col span-4"},u={class:"col span-4"},p=["disabled"];function m(e,t,a,l,r,m){const v=(0,o.resolveComponent)("LabeledSelect"),h=(0,o.resolveComponent)("InfoBox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.configArr,((l,r)=>((0,o.openBlock)(),(0,o.createBlock)(h,{key:r},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("button",{disabled:m.disableEdit(l.key),type:"button",class:"role-link btn btn-sm remove",onClick:e=>m.remove(r)},n,8,s),(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(v,{value:l.key,"onUpdate:value":[e=>l.key=e,m.update],mode:a.mode,required:"",disabled:m.disableEdit(l.key),"label-key":"harvester.setting.csiDriverConfig.provisioner",searchable:!0,options:m.provisioners,onKeydown:t[0]||(t[0]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode","disabled","options"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(v,{value:l.value.volumeSnapshotClassName,"onUpdate:value":[e=>l.value.volumeSnapshotClassName=e,m.update],mode:a.mode,required:"",disabled:m.disableEdit(l.key),options:m.getVolumeSnapshotOptions(l.key),label:e.t("harvester.setting.csiDriverConfig.volumeSnapshotClassName"),onKeydown:t[1]||(t[1]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode","disabled","options","label"])]),(0,o.createElementVNode)("div",u,[(0,o.createVNode)(v,{value:l.value.backupVolumeSnapshotClassName,"onUpdate:value":[e=>l.value.backupVolumeSnapshotClassName=e,m.update],mode:a.mode,required:"",disabled:m.disableEdit(l.key),options:m.getVolumeSnapshotOptions(l.key),label:e.t("harvester.setting.csiDriverConfig.backupVolumeSnapshotClassName"),onKeydown:t[2]||(t[2]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode","disabled","options","label"])])])])),_:2},1024)))),128)),(0,o.createElementVNode)("button",{class:"btn btn-sm role-primary",disabled:m.disableAdd,onClick:t[3]||(t[3]=(0,o.withModifiers)(((...e)=>m.add&&m.add(...e)),["self"]))},(0,o.toDisplayString)(e.t("generic.add")),9,p)])}var v=a(75040),h=a(70052),b=a(65525),g=a(68844),f=a(32766),y=a(4284),N={name:"HarvesterCsiDriver",components:{InfoBox:b.A,LabeledSelect:h.A},props:{mode:{type:String,default:v.G5},value:{type:Object,default:()=>({})},registerBeforeHook:{type:Function,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={csiDrivers:this.$store.dispatch(`${e}/findAll`,{type:f.Zq}),volumeSnapshotClass:this.$store.dispatch(`${e}/findAll`,{type:f.nE})};await(0,g.kR)(t)},data(){const e=this.value.value||this.value.default,t=this.parseValue(e);return{configArr:t}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{provisioners(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](f.Zq)||[];return t.filter((e=>!this.configArr.map((e=>e.key)).includes(e.name))).map((e=>e.name))},disableAdd(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](f.Zq)||[];return this.configArr.length>=t.length}},methods:{getVolumeSnapshotOptions(e){const t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters[`${t}/all`](f.nE)||[];return a.filter((t=>t.driver===e)).map((e=>({label:e.name,value:e.name})))},parseValue(e){const t=[];let a={};try{a=JSON.parse(e)}catch(o){new Error("json error")}for(const[l,s]of Object.entries(a))t.push({key:l,value:s});return t},update(){const e={};this.configArr.map((t=>{e[t.key]=t.value}));const t=this.configArr.length?JSON.stringify(e):"";this.value["value"]=t},willSave(){this.update();const e=[];try{this.configArr.forEach((t=>{t.key||e.push(this.t("validation.required",{key:this.t("harvester.setting.csiDriverConfig.provisioner")},!0)),t.value.volumeSnapshotClassName||e.push(this.t("validation.required",{key:this.t("harvester.setting.csiDriverConfig.volumeSnapshotClassName")},!0)),t.value.backupVolumeSnapshotClassName||e.push(this.t("validation.required",{key:this.t("harvester.setting.csiDriverConfig.backupVolumeSnapshotClassName")},!0))}))}catch(t){}return e.length>0?Promise.reject(e):Promise.resolve()},remove(e){this.configArr.splice(e,1)},disableEdit(e){return e===y.lI},add(){this.configArr.push({key:"",value:{volumeSnapshotClassName:"",backupVolumeSnapshotClassName:""}})},useDefault(){const e=this.parseValue(this.value.default);this["configArr"]=e,this.update()}}},k=(a(12164),a(47433));const V=(0,k.A)(N,[["render",m],["__scopeId","data-v-34b9f214"]]);var E=V},59392:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);const l={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("UnitInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(d,{value:n.terminationGracePeriodSeconds,"onUpdate:value":[t[0]||(t[0]=e=>n.terminationGracePeriodSeconds=e),i.update],valueModifiers:{number:!0},suffix:1===n.terminationGracePeriodSeconds?"Second":"Seconds",label:e.t("harvester.virtualMachine.terminationGracePeriodSeconds.label"),mode:e.mode},null,8,["value","suffix","label","mode","onUpdate:value"])])])}var n=a(81357),i=a(43631),d={name:"DefaultVMTerminationGracePeriodSeconds",components:{UnitInput:i.A},mixins:[n.A],data(){return{terminationGracePeriodSeconds:this.value.value||this.value.default}},methods:{update(){this.value["value"]=String(this.terminationGracePeriodSeconds)},useDefault(){this["terminationGracePeriodSeconds"]=Number(this.value.default),this.update()}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},18093:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);const l={class:"col span-12"};function s(e,t,a,s,r,n){const i=(0,o.resolveComponent)("t"),d=(0,o.resolveComponent)("Banner"),c=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(d,{color:"warning"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{k:"harvester.setting.httpProxy.warning",raw:!0})])),_:1}),(0,o.createElementVNode)("div",{class:"row","onUpdate:value":t[3]||(t[3]=(...e)=>n.update&&n.update(...e))},[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(c,{value:r.parseDefaultValue.httpProxy,"onUpdate:value":t[0]||(t[0]=e=>r.parseDefaultValue.httpProxy=e),class:"mb-20",mode:e.mode,label:"http-proxy"},null,8,["value","mode"]),(0,o.createVNode)(c,{value:r.parseDefaultValue.httpsProxy,"onUpdate:value":t[1]||(t[1]=e=>r.parseDefaultValue.httpsProxy=e),class:"mb-20",mode:e.mode,label:"https-proxy"},null,8,["value","mode"]),(0,o.createVNode)(c,{value:r.parseDefaultValue.noProxy,"onUpdate:value":t[2]||(t[2]=e=>r.parseDefaultValue.noProxy=e),class:"mb-20",mode:e.mode,label:"no-proxy"},null,8,["value","mode"])])],32)])}var r=a(81357),n=a(58832),i=a(53512),d={name:"HarvesterHttpProxy",components:{Banner:n.l,LabeledInput:i.o},mixins:[r.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e,errors:[]}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=a(47433);const u=(0,c.A)(d,[["render",s]]);var p=u},28436:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);const l={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("ArrayList");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(d,{value:n.parseDefaultValue.ntpServers,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.ntpServers=e),i.update],title:e.t("harvester.host.ntp.label"),protip:e.t("harvester.host.ntp.tips"),"value-placeholder":e.t("harvester.host.ntp.placeholder"),mode:e.mode},null,8,["value","title","protip","value-placeholder","mode","onUpdate:value"])])])}var n=a(81357),i=a(6961),d={name:"HarvesterNtpServersConfig",components:{ArrayList:i.A},mixins:[n.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e={ntpServers:[]}}return{parseDefaultValue:e}},watch:{value:{handler(e){let t;try{t=JSON.parse(e.value)}catch(a){t={ntpServers:[]}}this["parseDefaultValue"]=t,this.update()},deep:!0}},methods:{useDefault(){const e={ntpServers:[]};this["parseDefaultValue"]=e},update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},70726:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);const l={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("UnitInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(d,{value:n.parseDefaultValue.cpu,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.cpu=e),i.update],"label-key":"harvester.generic.cpu",suffix:"%",delay:0,required:"",mode:e.mode,class:"mb-20"},null,8,["value","mode","onUpdate:value"]),(0,o.createVNode)(d,{value:n.parseDefaultValue.memory,"onUpdate:value":[t[1]||(t[1]=e=>n.parseDefaultValue.memory=e),i.update],"label-key":"harvester.generic.memory",suffix:"%",delay:0,required:"",mode:e.mode,class:"mb-20"},null,8,["value","mode","onUpdate:value"]),(0,o.createVNode)(d,{value:n.parseDefaultValue.storage,"onUpdate:value":[t[2]||(t[2]=e=>n.parseDefaultValue.storage=e),i.update],"label-key":"harvester.generic.storage",suffix:"%",delay:0,required:"",mode:e.mode,class:"mb-20"},null,8,["value","mode","onUpdate:value"])])])}var n=a(81357),i=a(43631),d={name:"HarvesterOvercommitConfig",components:{UnitInput:i.A},mixins:[n.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e,errors:[]}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},54122:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var o=a(9274);const l={class:"row mb-20"},s={class:"col span-12"},r={class:"mb-10"},n={class:"chooseFile"},i={class:"row mb-20"},d={class:"col span-12"},c={class:"mb-10"},u={class:"chooseFile"},p={class:"row mb-20"},m={class:"col span-12"},v={class:"mb-10"},h={class:"chooseFile"};function b(e,t,a,b,g,f){const y=(0,o.resolveComponent)("FileSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,(0,o.toDisplayString)(e.t("harvester.setting.sslCertificates.publicCertificate")),1),(0,o.createElementVNode)("div",n,[(0,o.createVNode)(y,{"include-file-name":!0,class:"btn btn-sm bg-primary mr-20",label:"Choose File",onSelected:t[0]||(t[0]=e=>f.onKeySelectedCa("publicCertificate",e))}),(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)({"text-muted":!g.publicCertificateFileName})},(0,o.toDisplayString)(g.publicCertificateFileName?g.publicCertificateFileName:e.t("harvester.generic.noFileChosen")),3)])])]),(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,(0,o.toDisplayString)(e.t("harvester.setting.sslCertificates.privateKey")),1),(0,o.createElementVNode)("div",u,[(0,o.createVNode)(y,{"include-file-name":!0,class:"btn btn-sm bg-primary mr-20",label:"Choose File",onSelected:t[1]||(t[1]=e=>f.onKeySelectedCa("privateKey",e))}),(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)({"text-muted":!g.privateKeyFileName})},(0,o.toDisplayString)(g.privateKeyFileName?g.privateKeyFileName:e.t("harvester.generic.noFileChosen")),3)])])]),(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,(0,o.toDisplayString)(e.t("harvester.setting.sslCertificates.ca")),1),(0,o.createElementVNode)("div",h,[(0,o.createVNode)(y,{"include-file-name":!0,class:"btn btn-sm bg-primary mr-20",label:"Choose File",onSelected:t[2]||(t[2]=e=>f.onKeySelectedCa("ca",e))}),(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)({"text-muted":!g.caFileName})},(0,o.toDisplayString)(g.caFileName?g.caFileName:e.t("harvester.generic.noFileChosen")),3)])])])])}var g=a(81357),f=a(58782),y={name:"HarvesterSSLCertificates",components:{FileSelector:f.A},mixins:[g.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e,caFileName:"",publicCertificateFileName:"",privateKeyFileName:""}},methods:{onKeySelectedCa(e,t){const{name:a,value:o}=t;this.parseDefaultValue[e]=o,this[`${e}FileName`]=a;const l=JSON.stringify(this.parseDefaultValue);this.value["value"]=l}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},N=(a(92427),a(47433));const k=(0,N.A)(y,[["render",b],["__scopeId","data-v-27a09764"]]);var V=k},13515:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var o=a(9274);const l={class:"row mt-10"},s={class:"col span-12"},r={class:"row mt-20"},n={class:"col span-12"};function i(e,t,a,i,d,c){const u=(0,o.resolveComponent)("LabeledSelect"),p=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(u,{value:d.parsedDefaultValue.protocols,"onUpdate:value":[t[0]||(t[0]=e=>d.parsedDefaultValue.protocols=e),c.update],mode:a.mode,"label-key":"harvester.sslParameters.protocols.label",multiple:!0,options:c.protocolOptions},null,8,["value","mode","options","onUpdate:value"])])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(p,{value:d.parsedDefaultValue.ciphers,"onUpdate:value":[t[1]||(t[1]=e=>d.parsedDefaultValue.ciphers=e),c.update],mode:a.mode,"label-key":"harvester.sslParameters.ciphers.label"},null,8,["value","mode","onUpdate:value"])])])])}var d=a(53512),c=a(75040),u=a(70052),p={name:"HarvesterSslParameters",components:{LabeledInput:d.o,LabeledSelect:u.A},props:{mode:{type:String,default:c.G5},value:{type:Object,default:()=>({})},registerBeforeHook:{type:Function,required:!0}},data(){let e={};try{e=JSON.parse(this.value.value)}catch(a){e=JSON.parse(this.value.default)}const t=e.protocols&&(e.protocols||"").split(" ");return{parsedDefaultValue:{protocols:t,ciphers:e.ciphers}}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{protocolOptions(){return[{label:"TLSv1.3",value:"TLSv1.3"},{label:"TLSv1.2",value:"TLSv1.2"},{label:`TLSv1.1 (${this.t("generic.deprecated")})`,value:"TLSv1.1"},{label:`TLSv1 (${this.t("generic.deprecated")})`,value:"TLSv1"},{label:`SSLv3 (${this.t("generic.deprecated")})`,value:"SSLv3"},{label:`SSLv2 (${this.t("generic.deprecated")})`,value:"SSLv2"}]}},methods:{update(){const e={protocols:(this.parsedDefaultValue.protocols||[]).join(" "),ciphers:this.parsedDefaultValue.ciphers},t=JSON.stringify(e);this.value["value"]=t},willSave(){const e=[],t=this.parsedDefaultValue.ciphers,a=this.parsedDefaultValue.protocols||[];t&&0===a.length&&e.push(this.t("validation.required",{key:this.t("harvester.sslParameters.protocols.label")},!0)),!t&&a.length>0&&e.push(this.t("validation.required",{key:this.t("harvester.sslParameters.ciphers.label")},!0));const o=/^(:?[A-Z0-9]+(?:-[A-Z0-9]+)+)+$/gm;return!t||t.match(o)&&!t.startsWith(":")||e.push(this.t("validation.invalid",{key:this.t("harvester.sslParameters.ciphers.label")},!0)),e.length>0?Promise.reject(e):Promise.resolve()}},watch:{"value.value":{handler(e){e===this.value.default&&(this.parsedDefaultValue.protocols=[],this.parsedDefaultValue.ciphers="")},deep:!0}}},m=a(47433);const v=(0,m.A)(p,[["render",i]]);var h=v},89994:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var o=a(9274);const l={key:0},s={class:"box"},r={class:"key"},n={class:"key"},i=["onUpdate:modelValue","placeholder"];function d(e,t,a,d,c,u){const p=(0,o.resolveComponent)("t"),m=(0,o.resolveComponent)("Banner"),v=(0,o.resolveComponent)("RadioGroup"),h=(0,o.resolveComponent)("LabeledInput"),b=(0,o.resolveComponent)("LabeledSelect"),g=(0,o.resolveComponent)("Tip"),f=(0,o.resolveComponent)("ArrayList");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(a.mode),"onUpdate:value":t[6]||(t[6]=(...e)=>u.update&&u.update(...e))},[(0,o.createVNode)(m,{color:"warning"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{k:"harvester.setting.storageNetwork.warning",raw:!0})])),_:1}),(0,o.createVNode)(v,{value:c.openVlan,"onUpdate:value":[t[0]||(t[0]=e=>c.openVlan=e),u.update],class:"mb-20",name:"model",options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","labels","onUpdate:value"]),c.openVlan?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createVNode)(h,{modelValue:c.parsedDefaultValue.vlan,"onUpdate:modelValue":t[1]||(t[1]=e=>c.parsedDefaultValue.vlan=e),modelModifiers:{number:!0},class:"mb-20",mode:a.mode,required:"","label-key":"harvester.setting.storageNetwork.vlan"},null,8,["modelValue","mode"]),(0,o.createVNode)(b,{value:c.parsedDefaultValue.clusterNetwork,"onUpdate:value":[t[2]||(t[2]=e=>c.parsedDefaultValue.clusterNetwork=e),u.update],"label-key":"harvester.setting.storageNetwork.clusterNetwork",class:"mb-20",required:"",options:u.clusterNetworkOptions},null,8,["value","options","onUpdate:value"]),(0,o.createVNode)(h,{value:c.parsedDefaultValue.range,"onUpdate:value":t[3]||(t[3]=e=>c.parsedDefaultValue.range=e),class:"mb-5",mode:a.mode,required:"",placeholder:e.t("harvester.setting.storageNetwork.range.placeholder"),"label-key":"harvester.setting.storageNetwork.range.label"},null,8,["value","mode","placeholder"]),(0,o.createVNode)(g,{class:"mb-20",icon:"icon icon-info"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{k:"harvester.setting.storageNetwork.tip",raw:!0,url:u.storageNetworkExampleLink},null,8,["url"])])),_:1}),(0,o.createVNode)(f,{value:c.exclude,"onUpdate:value":[t[5]||(t[5]=e=>c.exclude=e),u.update],"show-header":!0,"default-add-value":c.defaultAddValue,mode:a.mode,"add-label":e.t("harvester.setting.storageNetwork.exclude.addIp")},{"column-headers":(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,(0,o.toDisplayString)(e.t("harvester.setting.storageNetwork.exclude.label")),1)])])),columns:(0,o.withCtx)((a=>[(0,o.createElementVNode)("div",n,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":e=>a.row.value=e,placeholder:e.t("harvester.setting.storageNetwork.exclude.placeholder"),"onUpdate:value":t[4]||(t[4]=(...e)=>u.update&&u.update(...e))},null,40,i),[[o.vModelText,a.row.value]])])])),_:1},8,["value","default-add-value","mode","add-label","onUpdate:value"])])):(0,o.createCommentVNode)("",!0)],34)}var c=a(53512),u=a(70052),p=a(83328),m=a(6961);const v=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(3[0-2]|2[0-9]|1[0-9]|[0-9])$/;function h(e){return!!e.match(v)}var b=a(75040),g=a(58832),f=a(62992),y=a(68844),N=a(4284),k=a(32766),V=a(66242),E=a(3791),w={name:"HarvesterEditStorageNetwork",components:{ArrayList:m.A,Tip:f.A,Banner:g.l,LabeledInput:c.o,LabeledSelect:u.A,RadioGroup:p.z},props:{registerBeforeHook:{type:Function,required:!0},mode:{type:String,default:b.G5},value:{type:Object,default:()=>({})}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,y.kR)({clusterNetworks:this.$store.dispatch(`${e}/findAll`,{type:k.rk.CLUSTER_NETWORK}),vlanStatus:this.$store.dispatch(`${e}/findAll`,{type:k.rk.VLAN_STATUS}),nodes:this.$store.dispatch(`${e}/findAll`,{type:N.NW})})},data(){let e={},t=!1;try{e=JSON.parse(this.value.value),t=!0}catch(o){e={vlan:"",clusterNetwork:"",range:"",exclude:[]}}const a=e?.exclude?.toString().split(",")||[];return{openVlan:t,errors:[],exclude:a,parsedDefaultValue:e,defaultAddValue:""}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{storageNetworkExampleLink(){const e=this.$store.getters["harvester-common/getServerVersion"]();return(0,E.nn)(V.d.STORAGE_NETWORK_EXAMPLE,e)},clusterNetworkOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](k.rk.CLUSTER_NETWORK)||[];return t.map((e=>{const t=!e.isReadyForStorageNetwork;return{label:t?`${e.id} (${this.t("generic.notReady")})`:e.id,value:e.id,disabled:t}}))}},methods:{update(){const e=this.exclude.filter((e=>e));Array.isArray(e)&&e.length>0?this.parsedDefaultValue.exclude=e:delete this.parsedDefaultValue.exclude;const t=JSON.stringify(this.parsedDefaultValue);this.openVlan?this.value["value"]=t:this.value["value"]=""},willSave(){this.update();const e=[];if(!this.openVlan)return Promise.resolve();{const t=!!/^(?:(?:[0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(?:[0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\/([1-9]|[1-2]\d|3[0-2])$/.test(this.parsedDefaultValue.range);if(t||e.push(this.t("harvester.setting.storageNetwork.range.invalid",null,!0)),this.parsedDefaultValue.vlan||e.push(this.t("validation.required",{key:this.t("harvester.setting.storageNetwork.vlan")},!0)),this.parsedDefaultValue.clusterNetwork||e.push(this.t("validation.required",{key:this.t("harvester.setting.storageNetwork.clusterNetwork")},!0)),this.exclude){const t=this.exclude.find((e=>!h(e)));t&&e.push(this.t("harvester.setting.storageNetwork.exclude.invalid",null,!0))}}return e.length>0?Promise.reject(e):Promise.resolve()}}},C=a(47433);const S=(0,C.A)(w,[["render",d]]);var B=S},48749:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);const l={class:"col span-12"};function s(e,t,a,s,r,n){const i=(0,o.resolveComponent)("LabeledInput"),d=(0,o.resolveComponent)("LabeledSelect");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"row",onInput:t[3]||(t[3]=(...e)=>n.update&&n.update(...e))},[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(i,{value:r.parseDefaultValue.repository,"onUpdate:value":t[0]||(t[0]=e=>r.parseDefaultValue.repository=e),class:"mb-20",mode:a.mode,required:"","label-key":"harvester.setting.supportBundleImage.repo"},null,8,["value","mode"]),(0,o.createVNode)(i,{value:r.parseDefaultValue.tag,"onUpdate:value":t[1]||(t[1]=e=>r.parseDefaultValue.tag=e),class:"mb-20",mode:a.mode,required:"","label-key":"harvester.setting.supportBundleImage.tag"},null,8,["value","mode"]),(0,o.createVNode)(d,{value:r.parseDefaultValue.imagePullPolicy,"onUpdate:value":[t[2]||(t[2]=e=>r.parseDefaultValue.imagePullPolicy=e),n.update],class:"mb-20",required:"","label-key":"harvester.setting.supportBundleImage.imagePullPolicy",options:n.imagePolicyOptions},null,8,["value","options","onUpdate:value"])])],32)}var r=a(75040),n=a(53512),i=a(70052),d={name:"HarvesterSupportBundleImage",components:{LabeledInput:n.o,LabeledSelect:i.A},props:{registerBeforeHook:{type:Function,required:!0},mode:{type:String,default:r.G5},value:{type:Object,default:()=>({})}},data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e}},created(){this.update(),this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{imagePolicyOptions(){return[{label:this.t("generic.imagePullPolicy.always"),value:"Always"},{label:this.t("generic.imagePullPolicy.ifNotPresent"),value:"IfNotPresent"},{label:this.t("generic.imagePullPolicy.never"),value:"Never"}]}},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e},willSave(){const e=[];return this.parseDefaultValue.repository||e.push(this.t("validation.required",{key:this.t("harvester.setting.supportBundleImage.repo")},!0)),this.parseDefaultValue.tag||e.push(this.t("validation.required",{key:this.t("harvester.setting.supportBundleImage.tag")},!0)),e.length>0?Promise.reject(e):Promise.resolve()}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=a(47433);const u=(0,c.A)(d,[["render",s]]);var p=u},30859:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var o=a(9274);const l={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("LabeledSelect");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(d,{value:n.namespaces,"onUpdate:value":[t[0]||(t[0]=e=>n.namespaces=e),i.update],multiple:!0,"label-key":"nameNsDescription.namespace.label",mode:e.mode,options:i.namespaceOptions},null,8,["value","mode","options","onUpdate:value"])])])}var n=a(4284),i=a(81357),d=a(70052),c={name:"HarvesterBundleNamespaces",components:{LabeledSelect:d.A},mixins:[i.A],async fetch(){await this.$store.dispatch("harvester/findAll",{type:n.CU})},data(){let e=[];const t=this.value?.value||this.value?.default||"";return t&&(e=t.split(",")),{namespaces:e}},computed:{namespaceOptions(){return this.$store.getters["harvester/all"](n.CU).map((e=>({label:e.id,value:e.id})))}},methods:{update(){const e=this.namespaces.join(",");this.value["value"]=e}},watch:{"value.value":{handler(e){e!==this.value.default&&e||(this.namespaces=[])},deep:!0}}},u=a(47433);const p=(0,u.A)(c,[["render",r]]);var m=p},33955:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);const l={class:"col span-12"};function s(e,t,a,s,r,n){const i=(0,o.resolveComponent)("RadioGroup"),d=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"row",onInput:t[2]||(t[2]=(...e)=>n.update&&n.update(...e))},[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(i,{value:r.parseDefaultValue.enable,"onUpdate:value":t[0]||(t[0]=e=>r.parseDefaultValue.enable=e),class:"mb-20",name:"model",options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")],onInput:n.update},null,8,["value","labels","onInput"]),r.parseDefaultValue.enable?((0,o.openBlock)(),(0,o.createBlock)(d,{key:0,value:r.parseDefaultValue.period,"onUpdate:value":t[1]||(t[1]=e=>r.parseDefaultValue.period=e),valueModifiers:{number:!0},class:"mb-20",mode:e.mode,"label-key":"harvester.setting.vmForceDeletionPolicy.period"},null,8,["value","mode"])):(0,o.createCommentVNode)("",!0)])],32)}var r=a(81357),n=a(53512),i=a(83328),d={name:"HarvesterVMForceDeletePolicy",components:{LabeledInput:n.o,RadioGroup:i.z},mixins:[r.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=(a(93612),a(47433));const u=(0,c.A)(d,[["render",s],["__scopeId","data-v-11b4ae46"]]);var p=u},80296:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var o=a(9274);const l={class:"text-default-text"},s={class:"pl-10 pr-10"},r={class:"bottom"},n={class:"buttons"};function i(e,t,a,i,d,c){const u=(0,o.resolveComponent)("Banner"),p=(0,o.resolveComponent)("AsyncButton"),m=(0,o.resolveComponent)("Card"),v=(0,o.resolveComponent)("app-modal"),h=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(v,{class:"restart-modal",name:"restartDialog",width:600,height:"auto","click-to-close":!1,onClose:c.close},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{class:"prompt-restart","show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",l,null,512),[[h,e.t("harvester.modal.restart.title")]])])),body:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",s,null,512),[[h,e.t("harvester.modal.restart.tip")]])])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128)),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("harvester.modal.restart.cancel")),1),(0,o.createVNode)(p,{mode:"restart",onClick:c.apply},null,8,["onClick"])])])])),_:1})])),_:1},8,["onClose"])}var d=a(65359),c=a(1804),u=a(27666),p=a(58832),m=a(71898),v=a(70876),h=a(9776),b={emits:["close"],components:{AppModal:v.A,Card:u.Z,AsyncButton:c.A,Banner:p.l},props:{vm:{type:Object,required:!0}},data(){return{errors:[],resolve:null}},computed:{...(0,d.L8)({t:"i18n/t"})},methods:{close(){this.resolve(),this.$emit("close")},apply(e){try{this.vm.doActionGrowl("restart",{}),e(!0),this.close()}catch(t){h.error(t),this.errors=(0,m.rz)(t),e(!1)}}}},g=(a(38917),a(47433));const f=(0,g.A)(b,[["render",i],["__scopeId","data-v-574c27ab"]]);var y=f},26370:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("RadioGroup"),i=(0,o.resolveComponent)("Tab"),d=(0,o.resolveComponent)("Tabbed");return(0,o.openBlock)(),(0,o.createBlock)(d,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{name:"basic",label:e.t("generic.basic"),weight:99},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"])])),_:1})}var s=a(35244),r=a(12327),n=a(83328),i=a(81357),d={name:"EditGenericAddon",components:{Tabbed:s.A,Tab:r.A,RadioGroup:n.z},mixins:[i.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},c=(a(21030),a(47433));const u=(0,c.A)(d,[["render",l],["__scopeId","data-v-24a677c4"]]);var p=u},17438:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("RadioGroup"),i=(0,o.resolveComponent)("Tab"),d=(0,o.resolveComponent)("Tabbed");return(0,o.openBlock)(),(0,o.createBlock)(d,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"])])),_:1})}var s=a(35244),r=a(12327),n=a(83328),i=a(81357),d={name:"EditSeederAddon",components:{Tabbed:s.A,Tab:r.A,RadioGroup:n.z},mixins:[i.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},c=(a(19949),a(47433));const u=(0,c.A)(d,[["render",l],["__scopeId","data-v-4b980a18"]]);var p=u},81135:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(n,{resource:a.value,mode:e.mode,errors:e.errors,onFinish:e.save},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(r.currentComponent),{value:a.value,"register-before-hook":e.registerBeforeHook,mode:e.mode},null,8,["value","register-before-hook","mode"]))])),_:1},8,["resource","mode","errors","onFinish"])}var s=a(81357),r=a(66210),n={name:"EditAddon",components:{CruResource:r.A},mixins:[s.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},computed:{currentComponent(){const e=this.value.metadata.name;try{return a(2467)(`./${e}.vue`).default}catch{return a(26370)["default"]}}}},i=a(47433);const d=(0,i.A)(n,[["render",l]]);var c=d},57960:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var o=a(9274);const l={key:0},s={key:0,class:"row mb-15"},r={class:"col span-6"},n={class:"col span-6"},i={class:"row mb-15"};function d(e,t,a,d,c,u){const p=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("RadioGroup"),v=(0,o.resolveComponent)("LabeledInput"),h=(0,o.resolveComponent)("Tab"),b=(0,o.resolveComponent)("Tabbed");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[u.parsingSpecError?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,color:"error",label:e.t("harvester.addons.nvidiaDriverToolkit.parsingSpecError",null,{raw:!0})},null,8,["label"])):((0,o.openBlock)(),(0,o.createBlock)(b,{key:1,"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{name:"basic",label:e.t("harvester.addons.nvidiaDriverToolkit.titles.basic"),weight:1},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{value:a.value.spec.enabled,class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")],"onUpdate:value":u.toggleEnable},null,8,["value","mode","labels","onUpdate:value"]),a.value.spec.enabled?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[c.valuesContentJson.image?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(v,{value:c.valuesContentJson.image.repo,"onUpdate:value":t[0]||(t[0]=e=>c.valuesContentJson.image.repo=e),mode:a.mode,required:!0,"label-key":"harvester.addons.nvidiaDriverToolkit.image.repository"},null,8,["value","mode"])]),(0,o.createElementVNode)("div",n,[(0,o.createVNode)(v,{value:c.valuesContentJson.image.tag,"onUpdate:value":t[1]||(t[1]=e=>c.valuesContentJson.image.tag=e),mode:a.mode,required:!0,class:"col span-6","label-key":"harvester.addons.nvidiaDriverToolkit.image.tag"},null,8,["value","mode"])])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(v,{value:c.valuesContentJson.driverLocation,"onUpdate:value":t[2]||(t[2]=e=>c.valuesContentJson.driverLocation=e),mode:a.mode,required:!0,"label-key":"harvester.addons.nvidiaDriverToolkit.driver.location"},null,8,["value","mode"])])])):(0,o.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1}))])}var c=a(82451),u=a.n(c),p=a(20246),m=a.n(p),v=a(65852),h=a(35244),b=a(12327),g=a(83328),f=a(53512),y=a(58832),N=a(81357);const k={image:{repo:"rancher/harvester-nvidia-driver-toolkit"}};var V={name:"EditAddonNvidiaDriverToolkit",components:{Banner:y.l,LabeledInput:f.o,RadioGroup:g.z,Tabbed:h.A,Tab:b.A},mixins:[N.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){return{initSpec:(0,v.o8)(this.value.spec),valuesContentJson:this.parseValuesContent()}},watch:{valuesContentJson:{handler(e){this.update(e)},deep:!0}},computed:{parsingSpecError(){return this.valuesContentJson&&(void 0===this.valuesContentJson.image||void 0===this.valuesContentJson.driverLocation)}},methods:{parseValuesContent(){try{return u()({},k,m().load(this.value.spec.valuesContent))}catch(e){return this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:e.data||e},{root:!0}),k}},toggleEnable(e){this.resetSpec(),this.value.spec.enabled=e},resetSpec(){this.value.spec=(0,v.o8)(this.initSpec),this.valuesContentJson=this.parseValuesContent()},update(e){this.value.spec.valuesContent=m().dump(e)}}},E=(a(29977),a(47433));const w=(0,E.A)(V,[["render",d],["__scopeId","data-v-14fad698"]]);var C=w},55821:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("RadioGroup"),i=(0,o.resolveComponent)("Tab"),d=(0,o.resolveComponent)("Tabbed");return(0,o.openBlock)(),(0,o.createBlock)(d,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"])])),_:1})}var s=a(35244),r=a(12327),n=a(83328),i=a(81357),d={name:"EditAddonPCI",components:{Tabbed:s.A,Tab:r.A,RadioGroup:n.z},mixins:[i.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},c=(a(71318),a(47433));const u=(0,c.A)(d,[["render",l],["__scopeId","data-v-bdc3ab06"]]);var p=u},70927:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var o=a(9274);const l={class:"row mt-20"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-20"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row mt-20"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mt-20"},v={class:"col span-6"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,o.resolveComponent)("RadioGroup"),N=(0,o.resolveComponent)("Tab"),k=(0,o.resolveComponent)("LabeledInput"),V=(0,o.resolveComponent)("Tabbed");return(0,o.openBlock)(),(0,o.createBlock)(V,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(N,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(y,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"]),a.value.spec.enabled?((0,o.openBlock)(),(0,o.createBlock)(N,{key:0,name:"fluentbit",label:e.t("harvester.logging.configuration.section.fluentbit"),weight:-1},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(k,{value:g.valuesContentJson.fluentbit.resources.requests.cpu,"onUpdate:value":t[1]||(t[1]=e=>g.valuesContentJson.fluentbit.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(k,{value:g.valuesContentJson.fluentbit.resources.requests.memory,"onUpdate:value":t[2]||(t[2]=e=>g.valuesContentJson.fluentbit.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(k,{value:g.valuesContentJson.fluentbit.resources.limits.cpu,"onUpdate:value":t[3]||(t[3]=e=>g.valuesContentJson.fluentbit.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(k,{value:g.valuesContentJson.fluentbit.resources.limits.memory,"onUpdate:value":t[4]||(t[4]=e=>g.valuesContentJson.fluentbit.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),a.value.spec.enabled?((0,o.openBlock)(),(0,o.createBlock)(N,{key:1,name:"fluentd",label:e.t("harvester.logging.configuration.section.fluentd"),weight:-1},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(k,{value:g.valuesContentJson.fluentd.resources.requests.cpu,"onUpdate:value":t[5]||(t[5]=e=>g.valuesContentJson.fluentd.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(k,{value:g.valuesContentJson.fluentd.resources.requests.memory,"onUpdate:value":t[6]||(t[6]=e=>g.valuesContentJson.fluentd.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(k,{value:g.valuesContentJson.fluentd.resources.limits.cpu,"onUpdate:value":t[7]||(t[7]=e=>g.valuesContentJson.fluentd.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",h,[(0,o.createVNode)(k,{value:g.valuesContentJson.fluentd.resources.limits.memory,"onUpdate:value":t[8]||(t[8]=e=>g.valuesContentJson.fluentd.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0)])),_:1})}var g=a(82451),f=a.n(g),y=a(35244),N=a(12327),k=a(83328),V=a(53512),E=a(81357),w=a(20246),C=a.n(w);const S={fluentbit:{resources:{limits:{cpu:"200m",memory:"200Mi"},requests:{cpu:"50m",memory:"50Mi"}}},fluentd:{resources:{limits:{cpu:"1000m",memory:"800Mi"},requests:{cpu:"100m",memory:"20Mi"}}}};var B={name:"EditAddonLogging",components:{Tabbed:y.A,Tab:N.A,RadioGroup:k.z,LabeledInput:V.o},mixins:[E.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){let e=S;try{e=f()({},S,C().load(this.value.spec.valuesContent))}catch(t){e=S,this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:t.data||t},{root:!0})}return{valuesContentJson:e}},watch:{valuesContentJson:{handler(e){this.value.spec["valuesContent"]=C().dump(e)},deep:!0,immediate:!0}}},A=(a(82002),a(47433));const x=(0,A.A)(B,[["render",b],["__scopeId","data-v-4ac8f18c"]]);var _=x},59289:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Ee}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-077b6bf4"),e=e(),(0,o.popScopeId)(),e),s=["disabled","href"],r={class:"subtype-content"},n={class:"title"},i={class:"subtype-logo round-image"},d=l((()=>(0,o.createElementVNode)("div",{class:"flex-right"},[(0,o.createElementVNode)("i",{class:"icon icon-external-link mr-10"})],-1))),c={class:"row"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mt-10"},v={class:"col span-6"},h={class:"col span-6"},b={class:"row mt-10"},g={class:"col span-12 mt-5"},f={class:"mb-0"},y={class:"row mt-10"},N={class:"col span-6"},k={class:"col span-6"},V={class:"row mt-10"},E={class:"col span-6"},w={class:"col span-6"},C={class:"row mt-10"},S={class:"col span-6"},B={class:"col span-6"},A={class:"row mt-10"},x={class:"col span-6"},_={class:"col span-6"},D=["disabled","href"],U={class:"subtype-content"},M={class:"title"},L={class:"subtype-logo round-image"},T=l((()=>(0,o.createElementVNode)("div",{class:"flex-right"},[(0,o.createElementVNode)("i",{class:"icon icon-external-link mr-10"})],-1))),O={class:"row mt-10"},I={class:"col span-6"},R={class:"col span-6"},$={class:"row mt-10"},P={class:"col span-6"},q={class:"col span-6"},F=["disabled","href"],G={class:"subtype-content"},K={class:"title"},j={class:"subtype-logo round-image"},H=l((()=>(0,o.createElementVNode)("div",{class:"flex-right"},[(0,o.createElementVNode)("i",{class:"icon icon-external-link mr-10"})],-1))),J={key:1},z={class:"row mt-10"},Q={class:"col span-6"},Y={class:"row mt-10"},W={class:"col span-6"},Z={class:"col span-6"},X={class:"row mt-10"},ee={class:"col span-6"},te={class:"col span-6"};function ae(e,t,a,l,ae,oe){const le=(0,o.resolveComponent)("RadioGroup"),se=(0,o.resolveComponent)("Tab"),re=(0,o.resolveComponent)("LazyImage"),ne=(0,o.resolveComponent)("t"),ie=(0,o.resolveComponent)("LabeledInput"),de=(0,o.resolveComponent)("Tabbed"),ce=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createBlock)(de,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(se,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(le,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"]),a.value.spec.enabled?((0,o.openBlock)(),(0,o.createBlock)(se,{key:0,name:"prometheus",label:e.t("harvester.setting.harvesterMonitoring.section.prometheus"),weight:-1},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("a",{disabled:!ae.externalLinks.prometheus.enabled,href:ae.externalLinks.prometheus.link,target:"_blank",rel:"noopener noreferrer",class:"subtype-banner m-0 mt-10 mb-10"},[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(re,{src:ae.externalLinks.prometheus.iconSrc},null,8,["src"])]),(0,o.createElementVNode)("h5",null,[(0,o.createElementVNode)("span",null,[(0,o.createVNode)(ne,{k:ae.externalLinks.prometheus.label},null,8,["k"])])]),d])])],8,s)),[[ce,ae.externalLinks.prometheus.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.scrapeInterval,"onUpdate:value":t[1]||(t[1]=e=>ae.valuesContentJson.prometheus.prometheusSpec.scrapeInterval=e),label:e.t("monitoring.prometheus.config.scrape"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.scrape"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.evaluationInterval,"onUpdate:value":t[2]||(t[2]=e=>ae.valuesContentJson.prometheus.prometheusSpec.evaluationInterval=e),label:e.t("monitoring.prometheus.config.evaluation"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.evaluation"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.retention,"onUpdate:value":t[3]||(t[3]=e=>ae.valuesContentJson.prometheus.prometheusSpec.retention=e),label:e.t("monitoring.prometheus.config.retention"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.retention"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])]),(0,o.createElementVNode)("div",h,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.retentionSize,"onUpdate:value":t[4]||(t[4]=e=>ae.valuesContentJson.prometheus.prometheusSpec.retentionSize=e),label:e.t("monitoring.prometheus.config.retentionSize"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.retentionSize"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("h4",f,(0,o.toDisplayString)(e.t("monitoring.prometheus.config.resourceLimits")),1)])]),(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",N,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.resources.requests.cpu,"onUpdate:value":t[5]||(t[5]=e=>ae.valuesContentJson.prometheus.prometheusSpec.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",k,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.resources.requests.memory,"onUpdate:value":t[6]||(t[6]=e=>ae.valuesContentJson.prometheus.prometheusSpec.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",E,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.resources.limits.cpu,"onUpdate:value":t[7]||(t[7]=e=>ae.valuesContentJson.prometheus.prometheusSpec.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",w,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.resources.limits.memory,"onUpdate:value":t[8]||(t[8]=e=>ae.valuesContentJson.prometheus.prometheusSpec.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),a.value.spec.enabled?((0,o.openBlock)(),(0,o.createBlock)(se,{key:1,name:"nodeExporter",label:e.t("harvester.setting.harvesterMonitoring.section.prometheusNodeExporter"),weight:-2},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",S,[(0,o.createVNode)(ie,{value:oe.prometheusNodeExporter.resources.limits.cpu,"onUpdate:value":t[9]||(t[9]=e=>oe.prometheusNodeExporter.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",B,[(0,o.createVNode)(ie,{value:oe.prometheusNodeExporter.resources.limits.memory,"onUpdate:value":t[10]||(t[10]=e=>oe.prometheusNodeExporter.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",A,[(0,o.createElementVNode)("div",x,[(0,o.createVNode)(ie,{value:oe.prometheusNodeExporter.resources.requests.cpu,"onUpdate:value":t[11]||(t[11]=e=>oe.prometheusNodeExporter.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",_,[(0,o.createVNode)(ie,{value:oe.prometheusNodeExporter.resources.requests.memory,"onUpdate:value":t[12]||(t[12]=e=>oe.prometheusNodeExporter.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),a.value.spec.enabled&&ae.valuesContentJson.grafana.resources?((0,o.openBlock)(),(0,o.createBlock)(se,{key:2,name:"grafana",label:e.t("harvester.setting.harvesterMonitoring.section.grafana"),weight:-3},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("a",{disabled:!ae.externalLinks.grafana.enabled,href:ae.externalLinks.grafana.link,target:"_blank",rel:"noopener nofollow",class:"subtype-banner m-0 mt-10 mb-10"},[(0,o.createElementVNode)("div",U,[(0,o.createElementVNode)("div",M,[(0,o.createElementVNode)("div",L,[(0,o.createVNode)(re,{src:ae.externalLinks.grafana.iconSrc},null,8,["src"])]),(0,o.createElementVNode)("h5",null,[(0,o.createElementVNode)("span",null,[(0,o.createVNode)(ne,{k:ae.externalLinks.grafana.label},null,8,["k"])])]),T])])],8,D)),[[ce,ae.externalLinks.grafana.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]),(0,o.createElementVNode)("div",O,[(0,o.createElementVNode)("div",I,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.grafana.resources.requests.cpu,"onUpdate:value":t[13]||(t[13]=e=>ae.valuesContentJson.grafana.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",R,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.grafana.resources.requests.memory,"onUpdate:value":t[14]||(t[14]=e=>ae.valuesContentJson.grafana.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",$,[(0,o.createElementVNode)("div",P,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.grafana.resources.limits.cpu,"onUpdate:value":t[15]||(t[15]=e=>ae.valuesContentJson.grafana.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",q,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.grafana.resources.limits.memory,"onUpdate:value":t[16]||(t[16]=e=>ae.valuesContentJson.grafana.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),a.value.spec.enabled?((0,o.openBlock)(),(0,o.createBlock)(se,{key:3,name:"alertmanager",label:e.t("harvester.setting.harvesterMonitoring.section.alertmanager"),weight:-4},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(le,{value:ae.valuesContentJson.alertmanager.enabled,"onUpdate:value":t[17]||(t[17]=e=>ae.valuesContentJson.alertmanager.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"]),ae.valuesContentJson.alertmanager.enabled?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:0,disabled:!ae.externalLinks.alertmanager.enabled,href:ae.externalLinks.alertmanager.link,target:"_blank",rel:"noopener noreferrer",class:"subtype-banner m-0 mt-10 mb-10"},[(0,o.createElementVNode)("div",G,[(0,o.createElementVNode)("div",K,[(0,o.createElementVNode)("div",j,[(0,o.createVNode)(re,{src:ae.externalLinks.alertmanager.iconSrc},null,8,["src"])]),(0,o.createElementVNode)("h5",null,[(0,o.createElementVNode)("span",null,[(0,o.createVNode)(ne,{k:ae.externalLinks.alertmanager.label},null,8,["k"])])]),H])])],8,F)),[[ce,ae.externalLinks.alertmanager.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]):(0,o.createCommentVNode)("",!0),ae.valuesContentJson.alertmanager.enabled?((0,o.openBlock)(),(0,o.createElementBlock)("div",J,[(0,o.createElementVNode)("div",z,[(0,o.createElementVNode)("div",Q,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.retention,"onUpdate:value":t[18]||(t[18]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.retention=e),label:e.t("monitoring.prometheus.config.retention"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",Y,[(0,o.createElementVNode)("div",W,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.cpu,"onUpdate:value":t[19]||(t[19]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",Z,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.memory,"onUpdate:value":t[20]||(t[20]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",X,[(0,o.createElementVNode)("div",ee,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.cpu,"onUpdate:value":t[21]||(t[21]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",te,[(0,o.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.memory,"onUpdate:value":t[22]||(t[22]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])):(0,o.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0)])),_:1})}var oe=a(82451),le=a.n(oe),se=a(3514),re=a.n(se),ne=a(20246),ie=a.n(ne),de=a(68844),ce=a(24759),ue=a(53512),pe=a(83328),me=a(68821),ve=a(35244),he=a(12327),be=a(81357),ge=a(4284);const fe="cattle-monitoring-system",ye={prometheus:{prometheusSpec:{resources:{limits:{cpu:"1000m",memory:"3000Mi"},requests:{cpu:"750m",memory:"750Mi"}},evaluationInterval:"1m",scrapeInterval:"1m",retention:"5d",retentionSize:"50GiB"}},"prometheus-node-exporter":{resources:{limits:{cpu:"200m",memory:"180Mi"},requests:{cpu:"100m",memory:"30Mi"}}},grafana:{resources:{limits:{cpu:"200m",memory:"500Mi"},requests:{cpu:"100m",memory:"200Mi"}}},alertmanager:{enabled:!1,alertmanagerSpec:{retention:"120h",resources:{limits:{cpu:"1000m",memory:"600Mi"},requests:{cpu:"100m",memory:"100Mi"}}}}};var Ne={name:"EditAddonMonitoring",components:{LabeledInput:ue.o,RadioGroup:pe.z,LazyImage:me.A,Tabbed:ve.A,Tab:he.A},mixins:[be.A],async fetch(){const{$store:e,externalLinks:t}=this;if(!e.getters["harvester/schemaFor"](ge.Hr))return;const a=await(0,de.kR)({endpoints:e.dispatch("harvester/findAll",{type:ge.Hr})});if(!re()(a.endpoints)){const e=t.alertmanager,o=t.grafana,l=t.prometheus,s=(0,ce.jq)(a.endpoints,"id",`${fe}/rancher-monitoring-alertmanager`),r=(0,ce.jq)(a.endpoints,"id",`${fe}/rancher-monitoring-grafana`),n=(0,ce.jq)(a.endpoints,"id",`${fe}/rancher-monitoring-prometheus`);re()(s)||re()(s.subsets)||(e.enabled=!0),re()(r)||re()(r.subsets)||(o.enabled=!0),re()(n)||re()(n.subsets)||(l.enabled=!0)}},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=a(37190),t=a(88670),o=this.$store.getters["currentCluster"];let l=ye;try{l=le()({},ye,ie().load(this.value.spec.valuesContent))}catch(s){l=ye,this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:s.data||s},{root:!0})}return{valuesContentJson:l,externalLinks:{alertmanager:{enabled:!1,iconSrc:t,label:"monitoring.overview.linkedList.alertManager.label",description:"monitoring.overview.linkedList.alertManager.description",link:`/k8s/clusters/${o.id}/api/v1/namespaces/${fe}/services/http:rancher-monitoring-alertmanager:9093/proxy`},grafana:{enabled:!1,iconSrc:e,label:"monitoring.overview.linkedList.grafana.label",description:"monitoring.overview.linkedList.grafana.description",link:`/k8s/clusters/${o.id}/api/v1/namespaces/${fe}/services/http:rancher-monitoring-grafana:80/proxy`},prometheus:{enabled:!1,iconSrc:t,label:"monitoring.overview.linkedList.prometheusPromQl.label",description:"monitoring.overview.linkedList.prometheusPromQl.description",link:`/k8s/clusters/${o.id}/api/v1/namespaces/${fe}/services/http:rancher-monitoring-prometheus:9090/proxy`}}}},computed:{prometheusNodeExporter(){return this.valuesContentJson["prometheus-node-exporter"]}},watch:{valuesContentJson:{handler(e){this.value.spec["valuesContent"]=ie().dump(e)},deep:!0,immediate:!0}}},ke=(a(18813),a(47433));const Ve=(0,ke.A)(Ne,[["render",ae],["__scopeId","data-v-077b6bf4"]]);var Ee=Ve},95627:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var o=a(9274);const l={class:"row"},s={class:"col span-12"},r={class:"row mb-20"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row mt-20"},c={class:"col span-6"};function u(e,t,a,u,p,m){const v=(0,o.resolveComponent)("RadioGroup"),h=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(v,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])]),a.value.spec.enabled?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(h,{value:p.valuesContentJson.hostname,"onUpdate:value":t[1]||(t[1]=e=>p.valuesContentJson.hostname=e),"label-key":"harvester.addons.rancherVcluster.hostname",required:!0,mode:a.mode,placeholder:"rancher.$vip.nip.io"},null,8,["value","mode"])]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(h,{value:p.valuesContentJson.rancherVersion,"onUpdate:value":t[2]||(t[2]=e=>p.valuesContentJson.rancherVersion=e),"label-key":"harvester.addons.rancherVcluster.rancherVersion",required:!0,disabled:!0},null,8,["value"])])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createVNode)(h,{value:p.valuesContentJson.bootstrapPassword,"onUpdate:value":t[3]||(t[3]=e=>p.valuesContentJson.bootstrapPassword=e),"label-key":"harvester.addons.rancherVcluster.password",mode:a.mode,required:!0,type:"password"},null,8,["value","mode"])])])],64)):(0,o.createCommentVNode)("",!0)])}var p=a(82451),m=a.n(p),v=a(20246),h=a.n(v),b=a(53512),g=a(83328);const f={hostname:"",rancherVersion:"",bootstrapPassword:""};var y={name:"EditAddonVcluster",components:{LabeledInput:b.o,RadioGroup:g.z},inheritAttrs:!1,props:{value:{type:Object,required:!0},mode:{type:String,required:!0},registerBeforeHook:{type:Function,required:!0}},data(){let e={};try{e=m()({},f,h().load(this.value.spec.valuesContent))}catch(t){e=f,this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:t.data||t},{root:!0})}return{valuesContentJson:e}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},methods:{willSave(){const e=[];return this.value.spec.enabled?(this.valuesContentJson.hostname||e.push(this.t("validation.required",{key:this.t("harvester.addons.rancherVcluster.hostname")},!0)),this.valuesContentJson.bootstrapPassword||e.push(this.t("validation.required",{key:this.t("harvester.addons.rancherVcluster.password")},!0)),e.length>0?Promise.reject(e):Promise.resolve()):Promise.resolve()}},watch:{valuesContentJson:{handler(e){this.value.spec["valuesContent"]=h().dump(e)},deep:!0,immediate:!0}}},N=(a(11221),a(47433));const k=(0,N.A)(y,[["render",u],["__scopeId","data-v-b9cb7bba"]]);var V=k},89718:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-b7366024"),e=e(),(0,o.popScopeId)(),e),s={key:0},r={class:"row mt-10"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row mt-10"},c={class:"col span-6"},u={class:"col span-6"},p=l((()=>(0,o.createElementVNode)("br",null,null,-1))),m={key:0},v={key:0},h={class:"row mt-10"},b={class:"col span-6"},g={class:"col span-6"};function f(e,t,a,l,f,y){const N=(0,o.resolveComponent)("RadioGroup"),k=(0,o.resolveComponent)("LabeledInput"),V=(0,o.resolveComponent)("LabeledSelect"),E=(0,o.resolveComponent)("Tab"),w=(0,o.resolveComponent)("Tabbed");return(0,o.openBlock)(),(0,o.createBlock)(w,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(E,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(N,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"]),a.value.spec.enabled?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(k,{value:f.valuesContent.resources.limits.cpu,"onUpdate:value":[t[1]||(t[1]=e=>f.valuesContent.resources.limits.cpu=e),y.update],label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(k,{value:f.valuesContent.resources.limits.memory,"onUpdate:value":[t[2]||(t[2]=e=>f.valuesContent.resources.limits.memory=e),y.update],label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createVNode)(k,{value:f.valuesContent.resources.requests.cpu,"onUpdate:value":[t[3]||(t[3]=e=>f.valuesContent.resources.requests.cpu=e),y.update],label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])]),(0,o.createElementVNode)("div",u,[(0,o.createVNode)(k,{value:f.valuesContent.resources.requests.memory,"onUpdate:value":[t[4]||(t[4]=e=>f.valuesContent.resources.requests.memory=e),y.update],label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])])]),p,(0,o.createElementVNode)("h2",null,(0,o.toDisplayString)(e.t("harvester.addons.vmImport.titles.pvc")),1),a.value.spec.enabled?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,[(0,o.createVNode)(N,{value:f.valuesContent.pvcClaim.enabled,"onUpdate:value":[t[5]||(t[5]=e=>f.valuesContent.pvcClaim.enabled=e),y.update],class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels","onUpdate:value"]),f.valuesContent.pvcClaim.enabled?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",b,[(0,o.createVNode)(k,{value:f.valuesContent.pvcClaim.size,"onUpdate:value":[t[6]||(t[6]=e=>f.valuesContent.pvcClaim.size=e),y.update],label:e.t("harvester.volume.size"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])]),(0,o.createElementVNode)("div",g,[(0,o.createVNode)(V,{value:f.valuesContent.pvcClaim.storageClassName,"onUpdate:value":[t[7]||(t[7]=e=>f.valuesContent.pvcClaim.storageClassName=e),y.update],options:y.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),mode:a.mode,class:"mb-20"},null,8,["value","options","label","mode","onUpdate:value"])])])])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1})}var y=a(53512),N=a(35244),k=a(12327),V=a(83328),E=a(70052),w=a(81357),C=a(4284),S=a(68844),B=a(65852);const A=["resources.requests.cpu","resources.requests.memory","resources.limits.cpu","resources.limits.memory","pvcClaim.enabled","pvcClaim.size","pvcClaim.storageClassName"],x={"resources.requests.cpu":"0.5","resources.requests.memory":"2Gi","resources.limits.cpu":"2","resources.limits.memory":"4Gi","pvcClaim.enabled":!1,"pvcClaim.size":"200Gi","pvcClaim.storageClassName":""};var _={name:"EditHarvesterLogging",components:{LabeledInput:y.o,Tabbed:N.A,Tab:k.A,RadioGroup:V.z,LabeledSelect:E.A},mixins:[w.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={storages:this.$store.dispatch(`${e}/findAll`,{type:C.fJ})};await(0,S.kR)(t)},data(){let e={};try{e=JSON.parse(this.value?.spec?.valuesContent||"{}")}catch(a){}const t=(0,B.o8)(e);return A.map((a=>{(0,B.Jt)(e,a)||(0,B.hZ)(t,a,x[a])})),{valuesContent:t}},computed:{storageClassOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](C.fJ),a=t.filter((e=>!e.parameters?.backingImage)).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[];return a}},methods:{update(){(0,B.hZ)(this.value,"spec.valuesContent",JSON.stringify(this.valuesContent))},setDefaultClassName(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](C.fJ).find((e=>e.isDefault));this.valuesContent.pvcClaim["storageClassName"]=this.valuesContent?.pvcClaim?.storageClassName||t?.metadata?.name||"longhorn",this.update()}},watch:{"valuesContent.pvcClaim.enabled"(e){e&&this.setDefaultClassName()}}},D=(a(46655),a(47433));const U=(0,D.A)(_,[["render",f],["__scopeId","data-v-b7366024"]]);var M=U},85019:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const l={class:"mb-20"},s={class:"resource-yaml"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("NameNsDescription"),c=(0,o.resolveComponent)("LabeledSelect"),u=(0,o.resolveComponent)("YamlEditor"),p=(0,o.resolveComponent)("Tab"),m=(0,o.resolveComponent)("Tabbed"),v=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(v,{"done-route":e.doneRoute,mode:e.mode,resource:e.value,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:e.save,onCancel:e.done},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{value:e.value,mode:e.mode,namespaced:!0,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,o.createVNode)(m,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{name:"basics",label:e.t("harvester.host.tabs.basics"),weight:1},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(c,{value:n.type,"onUpdate:value":t[1]||(t[1]=e=>n.type=e),label:e.t("harvester.cloudTemplate.templateType"),disabled:!e.isCreate,options:i.types},null,8,["value","label","disabled","options"])]),(0,o.createElementVNode)("div",s,[(0,o.createVNode)(u,{ref:"yamlUser",value:n.config,"onUpdate:value":t[2]||(t[2]=e=>n.config=e),class:"yaml-editor","editor-mode":"view"===e.mode?"VIEW_CODE":"EDIT_CODE",onOnChanges:i.update},null,8,["value","editor-mode","onOnChanges"])])])),_:1},8,["label"])])),_:1})])),_:1},8,["done-route","mode","resource","errors","apply-hooks","onFinish","onCancel"])}var n=a(35244),i=a(12327),d=a(66210),c=a(70052),u=a(83504),p=a(89893),m=a(81357),v=a(2602),h={name:"HarvesterEditCloudTemplate",emits:["update:value"],components:{Tab:i.A,Tabbed:n.A,YamlEditor:p.A,CruResource:d.A,LabeledSelect:c.A,NameNsDescription:u.A},mixins:[m.A],inheritAttrs:!1,data(){return{config:this.value.data?.cloudInit||"",type:this.value?.metadata?.labels?.[v.r.CLOUD_INIT]||"user"}},computed:{types(){return[{label:"User Data",value:"user"},{label:"Network Data",value:"network"}]}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},methods:{update(){this.value.data={cloudInit:this.config}},updateBeforeSave(){this.isCreate&&(this.value.metadata.labels={...this.value.metadata.labels,[v.r.CLOUD_INIT]:this.type},this.value.data={cloudInit:this.config})}}},b=(a(59852),a(47433));const g=(0,b.A)(h,[["render",r],["__scopeId","data-v-65b4127d"]]);var f=g},13965:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return G}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-30b402d6"),e=e(),(0,o.popScopeId)(),e),s=l((()=>(0,o.createElementVNode)("div",{class:"mt-10"},null,-1))),r={key:3},n={class:"row"},i={class:"col span-12"},d={class:"row mt-10"},c={class:"col span-12"},u={class:"pull-left"},p={class:"pull-right"},m={key:0,class:"row mt-30"},v={class:"col flex span-12"},h=l((()=>(0,o.createElementVNode)("hr",{class:"mt-10"},null,-1))),b={class:"row mt-10"},g={class:"col span-12"},f={class:"row mt-10"},y={key:0,class:"col span-6"},N={key:1,class:"col span-6"};function k(e,t,a,l,k,V){const E=(0,o.resolveComponent)("Banner"),w=(0,o.resolveComponent)("Tags"),C=(0,o.resolveComponent)("RadioGroup"),S=(0,o.resolveComponent)("BadgeState"),B=(0,o.resolveComponent)("LabelValue"),A=(0,o.resolveComponent)("LabeledInput"),x=(0,o.resolveComponent)("LabeledSelect"),_=(0,o.resolveComponent)("RadioButton"),D=(0,o.resolveComponent)("ModalWithCard"),U=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"disk","onUpdate:value":t[10]||(t[10]=(...e)=>V.update&&V.update(...e))},[s,V.mountedMessage&&V.isProvisioned?((0,o.openBlock)(),(0,o.createBlock)(E,{key:0,color:"error",label:V.mountedMessage},null,8,["label"])):(0,o.createCommentVNode)("",!0),V.isFormatting?((0,o.openBlock)(),(0,o.createBlock)(E,{key:1,color:"info",label:e.t("harvester.host.disk.fileSystem.formatting")},null,8,["label"])):V.isFormatted&&V.isLonghornV1&&!V.isCorrupted?((0,o.openBlock)(),(0,o.createBlock)(E,{key:2,color:"info",label:V.formattedBannerLabel},null,8,["label"])):(0,o.createCommentVNode)("",!0),a.value.isNew?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(w,{value:a.value.tags,"onUpdate:value":t[0]||(t[0]=e=>a.value.tags=e),label:e.t("harvester.host.disk.tags.label"),"add-label":e.t("harvester.host.disk.tags.addLabel"),mode:a.mode},null,8,["value","label","add-label","mode"])])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(C,{value:a.value.allowScheduling,"onUpdate:value":t[1]||(t[1]=e=>a.value.allowScheduling=e),name:"diskScheduling",label:e.t("harvester.host.disk.allowScheduling.label"),mode:a.mode,options:V.allowSchedulingOptions,row:!0},null,8,["value","label","mode","options"])]),(0,o.createElementVNode)("div",p,[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.host.disk.conditions"))+": ",1),(0,o.withDirectives)((0,o.createVNode)(S,{color:"True"===e.readyCondition.status?"bg-success":"bg-error",icon:"True"===e.readyCondition.status?"icon-checkmark":"icon-warning",label:"Ready",class:"mr-10 ml-10 state"},null,8,["color","icon"]),[[U,e.readyCondition.message]]),(0,o.withDirectives)((0,o.createVNode)(S,{color:"True"===e.schedulableCondition.status&&V.targetDisk?.allowScheduling?"bg-success":"bg-error",icon:"True"===e.schedulableCondition.status&&V.targetDisk?.allowScheduling?"icon-checkmark":"icon-warning",label:"Schedulable",class:"mr-10 state"},null,8,["color","icon"]),[[U,V.schedulableTooltipMessage]]),V.provisionPhase.label?((0,o.openBlock)(),(0,o.createBlock)(S,{key:0,color:V.provisionPhase.color,icon:V.provisionPhase.icon,label:V.provisionPhase.label,class:"mr-10 state"},null,8,["color","icon","label"])):(0,o.createCommentVNode)("",!0)])])]),a.value.isNew?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(B,{name:e.t("harvester.host.disk.storageAvailable.label"),value:a.value.storageAvailable},null,8,["name","value"]),(0,o.createVNode)(B,{name:e.t("harvester.host.disk.storageScheduled.label"),value:a.value.storageScheduled},null,8,["name","value"]),(0,o.createVNode)(B,{name:e.t("harvester.host.disk.storageMaximum.label"),value:a.value.storageMaximum},null,8,["name","value"])])])),h])),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(A,{value:a.value.displayName,"onUpdate:value":t[2]||(t[2]=e=>a.value.displayName=e),label:e.t("generic.name"),disabled:!0},null,8,["value","label"])])]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)("col span-"+(a.value.isNew?"6":"12"))},[(0,o.createVNode)(x,{value:k.provisioner,"onUpdate:value":t[3]||(t[3]=e=>k.provisioner=e),mode:a.mode,"label-key":"harvester.host.disk.provisioner","localized-label":!0,searchable:!0,options:V.provisioners,disabled:V.isProvisioned||!a.value.isNew,tooltip:V.provisionerTooltip,onKeydown:t[4]||(t[4]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","mode","options","disabled","tooltip"])],2),a.value.isNew&&V.isLonghornV1&&!V.isFormatted||V.isCorrupted?((0,o.openBlock)(),(0,o.createElementBlock)("div",y,[(0,o.createVNode)(C,{value:a.value.forceFormatted,"onUpdate:value":t[5]||(t[5]=e=>a.value.forceFormatted=e),mode:a.mode,name:"forceFormatted","label-key":"harvester.host.disk.forceFormatted.label",labels:[e.t("generic.no"),e.t("harvester.host.disk.forceFormatted.yes")],options:[!1,!0],disabled:V.forceFormattedDisabled,"tooltip-key":"harvester.host.disk.forceFormatted.toolTip"},{1:(0,o.withCtx)((({option:e,listeners:t})=>[(0,o.createVNode)(_,(0,o.mergeProps)({label:e.label,val:e.value,value:a.value.forceFormatted,disabled:V.forceFormattedDisabled&&!a.value.forceFormatted},(0,o.toHandlers)(t)),null,16,["label","val","value","disabled"])])),_:1},8,["value","mode","labels","disabled"])])):(0,o.createCommentVNode)("",!0),a.value.isNew&&V.isLvm?((0,o.openBlock)(),(0,o.createElementBlock)("div",N,[(0,o.createVNode)(x,{value:a.value.lvmVolumeGroup,"onUpdate:value":t[6]||(t[6]=e=>a.value.lvmVolumeGroup=e),mode:a.mode,"label-key":"harvester.host.disk.lvmVolumeGroup.label","localized-label":!0,searchable:!1,taggable:!0,multiple:!1,required:!0,disabled:V.isProvisioned,options:V.lvmVolumeGroups,onKeydown:t[7]||(t[7]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","mode","disabled","options"])])):(0,o.createCommentVNode)("",!0)]),k.isOpen?((0,o.openBlock)(),(0,o.createBlock)(D,{key:4,ref:k.randomStr,name:k.randomStr,width:"30%",onFinish:V.saveCreateVolumeGroup,onClose:V.hideCreateVolumeGroup},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.host.disk.lvmVolumeGroup.label")),1)])),content:(0,o.withCtx)((()=>[(0,o.createVNode)(A,{value:k.volumeGroupDialog,"onUpdate:value":t[8]||(t[8]=e=>k.volumeGroupDialog=e),label:e.t("generic.name"),class:"mb-20",required:"",onKeydown:t[9]||(t[9]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","label"])])),_:1},8,["name","onFinish","onClose"])):(0,o.createCommentVNode)("",!0)],32)}var V=a(68844),E=a(4284),w=a(53512),C=a(90555),S=a(63465),B=a(58832),A=a(70052),x=a(83328),_=a(154),D=a(49306),U=a(32766),M=a(2602),L=a(83385),T=a(82877),O=a(6624),I=a(78359),R=a(75040);const $="_NEW";var P={components:{LabeledInput:w.o,LabeledSelect:A.A,LabelValue:C.A,BadgeState:S.j,Banner:B.l,RadioGroup:x.z,RadioButton:x.a,ModalWithCard:O.A,Tags:D.A},mixins:[_.A],props:{value:{type:Object,default:()=>({})},disks:{type:Array,default:()=>[]},node:{type:Object,default:()=>({})},mode:{type:String,default:"edit"}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,V.kR)({csiDrivers:this.$store.dispatch(`${e}/findAll`,{type:E.Zq}),lvmVolumeGroups:this.$store.dispatch(`${e}/findAll`,{type:U.rk.LVM_VOLUME_GROUP})})},data(){let e=`${this.value.provisioner||E.lI}`;return e===E.lI&&(e=`${e}_${this.value.provisionerVersion||E.Zd}`),{provisioner:e,volumeGroupDialog:null,randomStr:(0,I.vx)(10).toLowerCase(),isOpen:!1}},computed:{provisioners(){const e=[],t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters[`${t}/all`](E.Zq)||[];return a.forEach((({name:t})=>{switch(t){case E.lI:e.push({label:`harvester.host.disk.storage.longhorn.${E.Zd}.label`,value:`${t}_${E.Zd}`}),this.longhornSystemVersion!==E.SB&&this.value.provisionerVersion!==E.SB||e.push({label:`harvester.host.disk.storage.longhorn.${E.SB}.label`,value:`${t}_${E.SB}`,disabled:this.forceLonghornV1});break;case T.LVM_DRIVER:e.push({label:"harvester.host.disk.storage.lvm.label",value:t});break}})),e},lvmVolumeGroups(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](U.rk.LVM_VOLUME_GROUP)||[],a=t.filter((e=>e.spec.nodeName===this.node.name)).map((e=>e.spec.vgName));return a.unshift({label:this.t("harvester.host.disk.lvmVolumeGroup.create"),value:$}),a},targetDisk(){return this.disks.find((e=>e.name===this.value.name))},schedulableTooltipMessage(){const{name:e,path:t}=this.value;return this.targetDisk&&!this.targetDisk.allowScheduling&&e&&t?this.t("harvester.host.disk.allowScheduling.tooltip",{name:e,path:t}):this.schedulableCondition.message},allowSchedulingOptions(){return[{label:this.t("generic.enabled"),value:!0},{label:this.t("generic.disabled"),value:!1}]},evictionRequestedOptions(){return[{label:this.t("generic.yes"),value:!0},{label:this.t("generic.no"),value:!1}]},mountedMessage(){const e=this.blockDevice?.metadata?.state||{};return e?.error?e?.message:""},isProvisioned(){return this.blockDevice?.isProvisioned},forceFormattedDisabled(){const e=this.blockDevice?.status?.deviceStatus?.fileSystem?.LastFormattedAt,t=this.blockDevice?.status?.deviceStatus?.fileSystem.type,a=["ext4","XFS"];return!!(e||this.blockDevice?.childParts?.length>0)||!a.includes(t)&&(!t||!this.canEditPath)},canEditPath(){return!!this.mountedMessage||!(!this.value.isNew||this.value.originPath)},isFormatted(){return!!this.blockDevice?.status?.deviceStatus?.fileSystem?.LastFormattedAt},formattedBannerLabel(){const e=this.blockDevice?.status?.deviceStatus?.fileSystem?.type,t=this.t("harvester.host.disk.lastFormattedAt.info");return e?`${t} ${this.t("harvester.host.disk.fileSystem.info",{system:e})}`:t},provisionPhase(){return this.blockDevice?.provisionPhase||{}},blockDevice(){const e=this.$store.getters["currentProduct"].inStore,t=this.value?.name;return this.$store.getters[`${e}/byId`](U.rk.BLOCK_DEVICE,`${L.LONGHORN_SYSTEM}/${t}`)||{}},isCorrupted(){return this.blockDevice?.status?.deviceStatus?.fileSystem?.corrupted},isFormatting(){return this.blockDevice.isFormatting},longhornSystemVersion(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](E.oe.SETTINGS,L.LONGHORN_V2_DATA_ENGINE)||{};return"true"===t.value?E.SB:E.Zd},forceLonghornV1(){return"true"===this.node?.labels[M.r.DISABLE_LONGHORN_V2_ENGINE]},isLvm(){return this.value.provisioner===T.LVM_DRIVER},isLonghorn(){return this.value.provisioner===E.lI},isLonghornV1(){return this.isLonghorn&&this.value.provisionerVersion===E.Zd},provisionerTooltip(){return this.mode===R.G5&&this.isLonghorn&&this.longhornSystemVersion===E.SB&&this.forceLonghornV1?this.t("harvester.storage.storageClass.longhorn.versionTooltip"):null}},watch:{provisioner(e){this.randomStr=(0,I.vx)(10).toLowerCase();const[t,a]=e?.split("_");this.value.provisioner=t,t===E.lI?this.value.provisionerVersion=a||E.Zd:this.value.provisionerVersion=void 0},"value.lvmVolumeGroup"(e){e===$&&(this.value.lvmVolumeGroup=null,this.showCreateVolumeGroup())}},methods:{showCreateVolumeGroup(){this.volumeGroupDialog=null,this.isOpen=!0},hideCreateVolumeGroup(){this.isOpen=!1},saveCreateVolumeGroup(e){e(!0),this.value.lvmVolumeGroup=this.volumeGroupDialog,this.hideCreateVolumeGroup()},update(){this.$emit("update:value",this.value)}}},q=(a(94287),a(47433));const F=(0,q.A)(P,[["render",k],["__scopeId","data-v-30b402d6"]]);var G=F},65864:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var o=a(9274);const l={key:0},s={class:"row"},r={class:"col span-6"},n={key:1},i={class:"row mt-10"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mt-20"},p={class:"col span-6"},m={class:"row mt-20"},v={class:"col span-6"},h={key:0,class:"col span-6 mt-20"};function b(e,t,a,b,g,f){const y=(0,o.resolveComponent)("Banner"),N=(0,o.resolveComponent)("RadioGroup"),k=(0,o.resolveComponent)("LabeledInput"),V=(0,o.resolveComponent)("Checkbox"),E=(0,o.resolveComponent)("LabeledSelect"),w=(0,o.resolveComponent)("NameNsDescription"),C=(0,o.resolveComponent)("ModalWithCard");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[a.inventory.warningMessages.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.inventory.warningMessages,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(y,{key:t,color:"error",label:e.text},null,8,["label"])))),128))])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(N,{value:g.enableInventory,"onUpdate:value":t[0]||(t[0]=e=>g.enableInventory=e),options:[{label:e.t("generic.enabled"),value:!0},{label:e.t("generic.disabled"),value:!1}],mode:a.mode,name:"enableInventory"},null,8,["value","options","mode"])])]),g.enableInventory?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(k,{value:g.value.spec.baseboardSpec.connection.host,"onUpdate:value":t[1]||(t[1]=e=>g.value.spec.baseboardSpec.connection.host=e),label:e.t("harvester.seeder.inventory.host.label"),placeholder:e.t("harvester.seeder.inventory.host.placeholder"),mode:a.mode,required:""},null,8,["value","label","placeholder","mode"]),(0,o.createVNode)(V,{value:g.value.spec.baseboardSpec.connection.insecureTLS,"onUpdate:value":t[2]||(t[2]=e=>g.value.spec.baseboardSpec.connection.insecureTLS=e),class:"mt-5",mode:a.mode,label:e.t("harvester.seeder.inventory.insecureTLS.label")},null,8,["value","mode","label"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(k,{value:g.value.spec.baseboardSpec.connection.port,"onUpdate:value":t[3]||(t[3]=e=>g.value.spec.baseboardSpec.connection.port=e),valueModifiers:{number:!0},label:e.t("harvester.seeder.inventory.port.label"),placeholder:e.t("harvester.seeder.inventory.port.placeholder"),mode:a.mode,required:""},null,8,["value","label","placeholder","mode"])])]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createVNode)(E,{value:f.selectedSecret,"onUpdate:value":t[4]||(t[4]=e=>f.selectedSecret=e),label:e.t("harvester.seeder.inventory.secret.label"),mode:a.mode,options:f.secretOption,required:""},null,8,["value","label","mode","options"])])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(N,{value:g.value.spec.events.enabled,"onUpdate:value":t[5]||(t[5]=e=>g.value.spec.events.enabled=e),name:"enabled",options:[!0,!1],label:e.t("harvester.seeder.inventory.event.label"),labels:[e.t("generic.enabled"),e.t("generic.disabled")],mode:a.mode},null,8,["value","label","labels","mode"])])]),g.value.spec.events.enabled?((0,o.openBlock)(),(0,o.createElementBlock)("div",h,[(0,o.createVNode)(k,{value:g.value.spec.events.pollingInterval,"onUpdate:value":t[6]||(t[6]=e=>g.value.spec.events.pollingInterval=e),label:e.t("harvester.seeder.inventory.pollingInterval.label"),mode:a.mode},null,8,["value","label","mode"])])):(0,o.createCommentVNode)("",!0),g.isOpen?((0,o.openBlock)(),(0,o.createBlock)(C,{key:1,width:"80%",errors:g.errors,name:"secretModal",onFinish:f.saveSecret,onClose:f.cancel},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.seeder.inventory.secret.create.title")),1)])),content:(0,o.withCtx)((()=>[(0,o.createVNode)(w,{value:g.secret,namespaced:!0,mode:"create","onUpdate:value":t[7]||(t[7]=t=>e.$emit("update:value",t))},null,8,["value"]),(0,o.createVNode)(k,{value:f.username,"onUpdate:value":t[8]||(t[8]=e=>f.username=e),label:e.t("harvester.virtualMachine.input.username"),class:"mb-20",required:""},null,8,["value","label"]),(0,o.createVNode)(k,{value:f.password,"onUpdate:value":t[9]||(t[9]=e=>f.password=e),type:"password",label:e.t("harvester.virtualMachine.input.password"),class:"mb-20",required:""},null,8,["value","label"])])),_:1},8,["errors","onFinish","onClose"])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)])}var g=a(70052),f=a(53512),y=a(83328),N=a(3276),k=a(4284),V=a(6624),E=a(83504),w=a(58832),C=a(76198),S=a(71898);const B="_NEW";var A={name:"HarvesterSeeder",emits:["update:value"],components:{Checkbox:N.S,LabeledInput:f.o,LabeledSelect:g.A,RadioGroup:y.z,ModalWithCard:V.A,NameNsDescription:E.A,Banner:w.l},props:{mode:{type:String,required:!0},node:{type:Object,required:!0},registerAfterHook:{type:Function,required:!0},inventory:{type:Object,required:!0}},data(){const e=!!this.inventory?.id;return{enableInventory:e,value:this.inventory,secret:{},errors:[],newSecretSelected:!1,isOpen:!1}},created(){this.registerAfterHook(this.saveInventory,"saveInventory")},async fetch(){const e=this.$store.getters["currentProduct"].inStore;this.secret=await this.$store.dispatch(`${e}/create`,{type:k.bB,data:{username:"",password:""},metadata:{namespace:"",name:"",describe:""}})},computed:{secretOption(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](k.bB).filter((e=>e.data?.username&&e.data?.password)).map((e=>({label:e.id,value:e.id})));return t.unshift({label:this.t("harvester.virtualMachine.createSSHKey"),value:B}),t},selectedSecret:{get(){const e=this.value.spec?.baseboardSpec?.connection?.authSecretRef?.namespace,t=this.value?.spec?.baseboardSpec?.connection?.authSecretRef?.name;return e&&t?`${e}/${t}`:""},set(e){if(e===B)this.newSecretSelected=!0;else{const[t,a]=e.split("/");this.value.spec.baseboardSpec.connection.authSecretRef["namespace"]=t,this.value.spec.baseboardSpec.connection.authSecretRef["name"]=a}}},username:{get(){return(0,C.u)(this.secret?.data?.username)},set(e){this.secret.data["username"]=(0,C.KA)(e)}},password:{get(){return(0,C.u)(this.secret?.data?.password)},set(e){this.secret.data["password"]=(0,C.KA)(e)}}},methods:{async saveInventory(){if(this.enableInventory){const e=[];return this.value.spec.baseboardSpec.connection.host||e.push(this.t("validation.required",{key:this.t("harvester.seeder.inventory.host.label")},!0)),this.value.spec.baseboardSpec.connection.port||e.push(this.t("validation.required",{key:this.t("harvester.seeder.inventory.port.label")},!0)),this.selectedSecret||e.push(this.t("validation.required",{key:this.t("harvester.seeder.inventory.secret.label")},!0)),e.length>0?Promise.reject((0,S.rz)(e)):(this.value.id||(this.value.metadata.annotations["metal.harvesterhci.io/local-node-name"]=this.node.id),this.value.metadata.annotations["metal.harvesterhci.io/local-inventory"]="true",await this.value.save())}return this.value.id?await this.value.remove():Promise.resolve()},show(){this.isOpen=!0},hide(){this.isOpen=!1,this.newSecretSelected=!1},cancel(){this.hide()},async saveSecret(e){if(this.errors=[],this.username||this.errors.push(this.t("validation.required",{key:this.t("harvester.virtualMachine.input.username")},!0)),this.password||this.errors.push(this.t("validation.required",{key:this.t("harvester.virtualMachine.input.password")},!0)),this.errors.length>0)e(!1);else try{const t=await this.secret.save();t.id&&this.secretOption.push({label:t.id,value:t.id}),this.selectedSecret=t.id,e(!0),this.cancel()}catch(t){this.errors=[t.message],e(!1)}}},watch:{newSecretSelected(e){e&&this.show()}}},x=a(47433);const _=(0,x.A)(A,[["render",b]]);var D=_},83385:function(e,t,a){"use strict";a.r(t),a.d(t,{LONGHORN_SYSTEM:function(){return Y},LONGHORN_V2_DATA_ENGINE:function(){return W},default:function(){return te}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-5f263130"),e=e(),(0,o.popScopeId)(),e),s={key:1,id:"node"},r={class:"content"},n={key:0,class:"row mb-20"},i={class:"col span-12"},d={key:0},c={key:1},u=["onClick"],p=l((()=>(0,o.createElementVNode)("i",{class:"icon icon-x"},null,-1))),m=[p],v={key:1},h={key:1},b={key:2};function g(e,t,a,l,p,g){const f=(0,o.resolveComponent)("Loading"),y=(0,o.resolveComponent)("NameNsDescription"),N=(0,o.resolveComponent)("LabeledInput"),k=(0,o.resolveComponent)("Tab"),V=(0,o.resolveComponent)("Tags"),E=(0,o.resolveComponent)("HarvesterDisk"),w=(0,o.resolveComponent)("ButtonDropdown"),C=(0,o.resolveComponent)("ArrayListGrouped"),S=(0,o.resolveComponent)("HarvesterKsmtuned"),B=(0,o.resolveComponent)("HarvesterSeeder"),A=(0,o.resolveComponent)("Banner"),x=(0,o.resolveComponent)("MessageLink"),_=(0,o.resolveComponent)("KeyValue"),D=(0,o.resolveComponent)("Tabbed"),U=(0,o.resolveComponent)("Footer");return e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(f,{key:0})):((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(y,{value:a.value,namespaced:!1,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,o.createVNode)(D,{ref:"tabbed",class:"mt-15","side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(k,{name:"basics",weight:100,label:e.t("harvester.host.tabs.basics")},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(N,{value:p.customName,"onUpdate:value":t[1]||(t[1]=e=>p.customName=e),label:e.t("harvester.host.detail.customName"),class:"mb-20",mode:e.mode},null,8,["value","label","mode"]),(0,o.createVNode)(N,{value:p.consoleUrl,"onUpdate:value":t[2]||(t[2]=e=>p.consoleUrl=e),label:e.t("harvester.host.detail.consoleUrl"),class:"mb-20",mode:e.mode},null,8,["value","label","mode"])])),_:1},8,["label"]),g.hasBlockDevicesSchema?((0,o.openBlock)(),(0,o.createBlock)(k,{key:0,name:"disk",weight:80,label:e.t("harvester.host.tabs.storage")},{default:(0,o.withCtx)((()=>[g.longhornNode?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(V,{value:g.longhornNode.spec.tags,"onUpdate:value":t[3]||(t[3]=e=>g.longhornNode.spec.tags=e),label:e.t("harvester.host.tags.label"),"add-label":e.t("harvester.host.tags.addLabel"),mode:e.mode},null,8,["value","label","add-label","mode"])])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(C,{value:p.newDisks,"onUpdate:value":t[5]||(t[5]=e=>p.newDisks=e),mode:e.mode,"initial-empty-row":!1},{default:(0,o.withCtx)((t=>[(0,o.createVNode)(E,{value:t.row.value,"onUpdate:value":e=>t.row.value=e,class:"mb-20",mode:e.mode,disks:p.disks,node:a.value},null,8,["value","onUpdate:value","mode","disks","node"])])),add:(0,o.withCtx)((()=>[e.isView?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(w,{key:0,"button-label":e.t("harvester.host.disk.add"),"dropdown-options":p.blockDeviceOpts,size:"sm",selectable:g.selectable,onClickAction:t[4]||(t[4]=e=>g.addDisk(e.value)),onDdButtonAction:g.ddButtonAction},{option:(0,o.withCtx)((e=>["group"===e.kind?((0,o.openBlock)(),(0,o.createElementBlock)("b",d,(0,o.toDisplayString)(e.label),1)):((0,o.openBlock)(),(0,o.createElementBlock)("div",c,(0,o.toDisplayString)(e.label),1))])),_:1},8,["button-label","dropdown-options","selectable","onDdButtonAction"]))])),"remove-button":(0,o.withCtx)((t=>[g.canRemove(t.row,t.i)&&!e.isView?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,type:"button",class:"btn role-link close btn-sm",onClick:()=>g.onRemove(t)},m,8,u)):((0,o.openBlock)(),(0,o.createElementBlock)("span",v))])),_:1},8,["value","mode"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),g.hasKsmtunedSchema?((0,o.openBlock)(),(0,o.createBlock)(k,{key:1,name:"Ksmtuned",weight:70,label:e.t("harvester.host.tabs.ksmtuned")},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{mode:e.mode,node:a.value,"register-before-hook":e.registerBeforeHook},null,8,["mode","node","register-before-hook"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),g.hasAddonSchema?((0,o.openBlock)(),(0,o.createBlock)(k,{key:2,name:"seeder",weight:60,label:e.t("harvester.host.tabs.seeder")},{default:(0,o.withCtx)((()=>[g.seederEnabled&&g.hasInventorySchema?((0,o.openBlock)(),(0,o.createBlock)(B,{key:0,mode:e.mode,node:a.value,"register-after-hook":e.registerAfterHook,inventory:p.inventory},null,8,["mode","node","register-after-hook","inventory"])):g.seederEnabled&&!g.hasInventorySchema?((0,o.openBlock)(),(0,o.createElementBlock)("div",h,[(0,o.createVNode)(A,{color:"info",label:e.t("harvester.seeder.banner.noInventory")},null,8,["label"])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",b,[g.hasSeederAddon?((0,o.openBlock)(),(0,o.createBlock)(A,{key:0,color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{to:g.toEnableSeederAddon,"prefix-label":"harvester.seeder.banner.enable.prefix","middle-label":"harvester.seeder.banner.enable.middle","suffix-label":"harvester.seeder.banner.enable.suffix"},null,8,["to"])])),_:1})):((0,o.openBlock)(),(0,o.createBlock)(A,{key:1,color:"warning",label:e.t("harvester.seeder.banner.noAddon")},null,8,["label"]))]))])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(k,{name:"labels","label-key":"harvester.host.tabs.labels"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(_,{key:"labels",value:p.filteredLabels,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,"onUpdate:value":g.updateHostLabels},null,8,["value","add-label","mode","onUpdate:value"])])),_:1})])),_:1},512),g.showFormattedWarning?((0,o.openBlock)(),(0,o.createBlock)(A,{key:0,color:"warning",label:e.t("harvester.host.disk.forceFormatted.toolTip")},null,8,["label"])):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(U,{class:"footer",mode:e.mode,errors:e.errors,onSave:e.save,onDone:e.done},null,8,["mode","errors","onSave","onDone"])]))}var f=a(65359),y=a(35244),N=a(12327),k=a(71802),V=a(83504),E=a(53512),w=a(4373),C=a(82162),S=a(81357),B=a(2602),A=a(4284),x=a(68844),_=a(62155),D=a(24759),U=a(65852),M=a(71898),L=a(74457),T=a(82888),O=a(21398),I=a(66905),R=a(20652),$=a(75040),P=a(98258),q=a(58832),F=a(32766),G=a(13965),K=a(65864),j=a(27547),H=a(49306),J=a(82877),z=a(46343),Q=a.n(z);const Y="longhorn-system",W="longhorn-system/v2-data-engine";var Z={name:"HarvesterEditNode",emits:["update:value"],components:{Footer:k.A,Tabbed:y.A,Tab:N.A,LabeledInput:E.o,NameNsDescription:V.A,ArrayListGrouped:w.A,HarvesterDisk:G["default"],HarvesterKsmtuned:j["default"],ButtonDropdown:C.A,KeyValue:L.A,Banner:q.l,Tags:H.A,Loading:T.A,HarvesterSeeder:K["default"],MessageLink:O.A},mixins:[S.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={longhornNodes:this.$store.dispatch(`${e}/findAll`,{type:A.oe.NODES}),blockDevices:this.$store.dispatch(`${e}/findAll`,{type:F.rk.BLOCK_DEVICE}),addons:this.$store.dispatch(`${e}/findAll`,{type:F.rk.ADD_ONS}),secrets:this.$store.dispatch(`${e}/findAll`,{type:A.bB})};this.longhornV2LVMSupport&&(t.longhornV2DataEngine=this.$store.dispatch(`${e}/find`,{type:A.oe.SETTINGS,id:W})),this.$store.getters[`${e}/schemaFor`](F.rk.INVENTORY)&&(t.inventories=this.$store.dispatch(`${e}/findAll`,{type:F.rk.INVENTORY})),await(0,x.kR)(t);const a=this.$store.getters[`${e}/all`](F.rk.BLOCK_DEVICE),o=a.filter((e=>{const t=e?.spec?.nodeName===this.value.id,a=(0,D.jq)(this.longhornDisks,"name",e.metadata.name);return e?.isProvisioned&&t&&!a})).map((e=>{const t=e?.status?.deviceStatus?.fileSystem?.corrupted;return{isNew:!0,name:e?.metadata?.name,originPath:e?.spec?.fileSystem?.mountPoint,path:e?.spec?.fileSystem?.mountPoint,blockDevice:e,displayName:e?.displayName,forceFormatted:!!t||(e?.spec?.fileSystem?.forceFormatted||!1),provisioner:e?.spec?.provisioner?.lvm?J.LVM_DRIVER:A.lI,provisionerVersion:e?.spec?.provisioner?.longhorn?.engineVersion||A.Zd,lvmVolumeGroup:e?.spec?.provisioner?.lvm?.vgName}})),l=[...this.longhornDisks,...o];this.disks=l,this.newDisks=(0,U.o8)(l),this.blockDeviceOpts=this.getBlockDeviceOpts();const s=this.$store.getters[`${e}/all`](F.rk.ADD_ONS),r=s.find((e=>e.id===`harvester-system/${I.Jo.HARVESTER_SEEDER}`)),n=!!r&&r?.spec?.enabled;if(n){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](F.rk.INVENTORY)||[],a=t.find((e=>e.id===`harvester-system/${this.value.id}`));a?this.inventory=await this.$store.dispatch(`${e}/clone`,{resource:a}):(this.inventory=await this.$store.dispatch(`${e}/create`,{type:F.rk.INVENTORY,metadata:{name:this.value.id,namespace:"harvester-system"}}),this.inventory.applyDefaults())}},data(){const e=this.value.metadata?.annotations?.[B.r.HOST_CUSTOM_NAME]||"",t=this.value.metadata?.annotations?.[B.r.HOST_CONSOLE_URL]||"";return{customName:e,consoleUrl:t,disks:[],newDisks:[],blockDevice:[],blockDeviceOpts:[],filteredLabels:(0,U.o8)(this.value.filteredSystemLabels),inventory:{},originValue:(0,U.o8)(this.value)}},computed:{...(0,f.L8)({t:"i18n/t"}),longhornV2LVMSupport(){return this.$store.getters["harvester-common/getFeatureEnabled"]("longhornV2LVMSupport")},removedDisks(){const e=this.disks.filter((e=>!(0,D.jq)(this.newDisks,"name",e.name)))||[];return e},longhornDisks(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](A.oe.NODES,`${Y}/${this.value.id}`),a=t?.status?.diskStatus||{},o=t?.spec?.disks||{},l={increment:1024,minExponent:3,maxExponent:3,maxPrecision:2,suffix:"iB"},s=Object.keys(a).map((t=>{const s=this.$store.getters[`${e}/byId`](F.rk.BLOCK_DEVICE,`${Y}/${t}`);return{...a[t],...o?.[t],name:t,isNew:!1,storageReserved:(0,_.Mo)(o[t]?.storageReserved,l),storageAvailable:(0,_.Mo)(a[t]?.storageAvailable,l),storageMaximum:(0,_.Mo)(a[t]?.storageMaximum,l),storageScheduled:(0,_.Mo)(a[t]?.storageScheduled,l),blockDevice:s,displayName:s?.displayName||t,forceFormatted:s?.spec?.fileSystem?.forceFormatted||!1,tags:o?.[t]?.tags||[],provisioner:s?.spec?.provisioner?.lvm?J.LVM_DRIVER:A.lI,provisionerVersion:s?.spec?.provisioner?.longhorn?.engineVersion||A.Zd,lvmVolumeGroup:s?.spec?.provisioner?.lvm?.vgName}}));return s},showFormattedWarning(){const e=this.newDisks.filter((e=>e.forceFormatted&&e.isNew&&e.provisionerVersion===A.Zd))||[];return e.length>0},hasKsmtunedSchema(){const e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters[`${e}/schemaFor`](F.rk.KSTUNED)},hasBlockDevicesSchema(){const e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters[`${e}/schemaFor`](F.rk.BLOCK_DEVICE)},longhornNode(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](A.oe.NODES);return t.find((e=>e.id===`${Y}/${this.value.id}`))},seederEnabled(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](F.rk.ADD_ONS),a=t.find((e=>e.id===`harvester-system/${I.Jo.HARVESTER_SEEDER}`));return!!a&&a?.spec?.enabled},toEnableSeederAddon(){const{cluster:e}=this.$router?.currentRoute?.params||{};return{name:`${R.KR}-c-cluster-resource-namespace-id`,params:{resource:`${F.rk.ADD_ONS}`,namespace:"harvester-system",cluster:e,id:`${I.Jo.HARVESTER_SEEDER}`},query:{mode:$.G5}}},hasAddonSchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](F.rk.ADD_ONS)},hasSeederAddon(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](F.rk.ADD_ONS);return t.find((e=>e.id===`harvester-system/${I.Jo.HARVESTER_SEEDER}`))},hasInventorySchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](F.rk.INVENTORY)}},watch:{customName(e){this.value.setAnnotation(B.r.HOST_CUSTOM_NAME,e)},consoleUrl(e){this.value.setAnnotation(B.r.HOST_CONSOLE_URL,e)},newDisks(){this.blockDeviceOpts=this.getBlockDeviceOpts()}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave"),this.registerAfterHook&&(this.registerAfterHook(this.saveDisk),this.registerAfterHook(this.saveLonghornNode))},methods:{addDisk(e){const t=(0,D.jq)(this.removedDisks,"blockDevice.id",e);if(t)return this.newDisks.push(t);const a=this.$store.getters["currentProduct"].inStore,o=this.$store.getters[`${a}/byId`](F.rk.BLOCK_DEVICE,e),l=o?.spec?.fileSystem?.mountPoint,s=o?.status?.deviceStatus?.fileSystem?.LastFormattedAt;let r=!0;const n=["ext4","XFS"];o.childParts?.length>0?r=!0:(s||n.includes(o?.status?.deviceStatus?.fileSystem?.type))&&(r=!1);const i=o?.metadata?.name;this.newDisks.push({name:i,path:l,allowScheduling:!1,evictionRequested:!1,storageReserved:0,isNew:!0,originPath:o?.spec?.fileSystem?.mountPoint,blockDevice:o,displayName:o?.displayName,forceFormatted:r,provisioner:A.lI,provisionerVersion:A.Zd,lvmVolumeGroup:null})},async saveDisk(){const e=this.$store.getters["currentProduct"].inStore,t=this.newDisks.filter((e=>e.isNew)),a=this.disks.filter((e=>!(0,D.jq)(this.newDisks,"name",e.name)&&e.blockDevice));if(0===t.length&&0===a.length)return Promise.resolve();if(0!==t.length&&0===a.length){const a=t.filter((t=>{const a=this.$store.getters[`${e}/byId`](F.rk.BLOCK_DEVICE,`${Y}/${t.name}`),{forceFormatted:o}=a.spec.fileSystem,{provisioner:l}=a.spec;return!(a.isProvisioned&&o===t.forceFormatted&&Q()(l,t.provisioner))}));if(0===a.length)return Promise.resolve()}try{await Promise.all(t.map((t=>{const a=this.$store.getters[`${e}/byId`](F.rk.BLOCK_DEVICE,`${Y}/${t.name}`);switch(a.spec.provision=!0,a.spec.fileSystem.forceFormatted=t.forceFormatted,t.provisioner){case A.lI:a.spec.provisioner={longhorn:{engineVersion:t.provisionerVersion}};break;case J.LVM_DRIVER:a.spec.provisioner={lvm:{vgName:t.lvmVolumeGroup}};break}return a.save()}))),await Promise.all(a.map((t=>{const a=this.$store.getters[`${e}/byId`](F.rk.BLOCK_DEVICE,`${Y}/${t.name}`);return a.spec.provision=!1,a.save()}))),this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.host.disk.notification.success",{name:this.value.metadata?.name||""})},{root:!0})}catch(o){return Promise.reject((0,M.rz)(o))}},canRemove(e){return!!e?.value?.blockDevice},onRemove(e){e.remove()},updateHostLabels(e){this.filteredLabels=e},selectable(e){return!e.disabled},getBlockDeviceOpts(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](F.rk.BLOCK_DEVICE),a=t.filter((e=>{const t=(0,D.jq)(e?.status?.conditions||[],"type","AddedToNode"),a=(0,D.jq)(this.newDisks,"name",e.metadata.name),o=(0,D.jq)(this.removedDisks,"name",e.metadata.name),l=e.status?.deviceStatus?.details?.deviceType;return"disk"===l&&"Active"===e?.status?.state&&!(((0,D.jq)(this.disks||[],"name",e.metadata.name)||e?.spec?.nodeName!==this.value.id||t&&"False"!==t?.status||e?.isProvisioned||a)&&!o)})).map((e=>{const t=e.spec?.devPath,a=e.status?.deviceStatus?.details?.deviceType,o=e.status?.deviceStatus?.capacity?.sizeBytes,l=(0,_.Mo)(o,{increment:1024}),s=e.status?.deviceStatus?.parentDevice,r=this.newDisks.find((e=>e.blockDevice?.status?.deviceStatus?.parentDevice===t)),n=e.displayName;let i=`${n} (Type: ${a}, Size: ${l})`;return s&&(i=`- ${i}`),{label:i,value:e.id,action:this.addDisk,kind:s?"":"group",disabled:!!r,group:s||t,isParent:!!s}}));return(0,P.Ul)(a,["group","isParent","label"])},ddButtonAction(){this.blockDeviceOpts=this.getBlockDeviceOpts()},willSave(){const e=this.filteredLabels||{};this.value.metadata.labels={...this.value.metadata.labels,...e};const t=this.value.filteredSystemLabels;Object.keys(t).map((t=>{e[t]||delete this.value.metadata.labels[t]}))},async saveLonghornNode(){const e=this.$store.getters["currentProduct"].inStore,t=this.longhornNode?.spec?.disks||{};this.newDisks.map((e=>{(t[e.name]||{}).tags=e.tags,(t[e.name]||{}).allowScheduling=e.allowScheduling}));let a=0;const o=async()=>{try{await this.longhornNode.save()}catch(t){if(409!==t.status&&403!==t.status||!(a<3))return Promise.reject((0,M.rz)(t));a++,await this.$store.dispatch(`${e}/find`,{type:A.oe.NODES,id:this.longhornNode.id,opt:{force:!0}}),await new Promise((e=>setTimeout(e,"5000"))),await o()}};this.longhornNode&&await o()}}},X=(a(30115),a(47433));const ee=(0,X.A)(Z,[["render",g],["__scopeId","data-v-5f263130"]]);var te=ee},28355:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var o=a(9274);const l={class:"header mb-20"};function s(e,t,a,s,r,n){const i=(0,o.resolveComponent)("FileSelector"),d=(0,o.resolveComponent)("NameNsDescription"),c=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("Tab"),p=(0,o.resolveComponent)("Tabbed"),m=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(m,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:e.save},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[e.isCreate?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),accept:".pub",onSelected:n.onKeySelected},null,8,["label","onSelected"])):(0,o.createCommentVNode)("",!0)]),((0,o.openBlock)(),(0,o.createBlock)(d,{ref:"nd",key:r.randomString,value:a.value,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"])),(0,o.createVNode)(p,(0,o.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{name:"basic",label:e.t("harvester.sshKey.tabs.basics"),weight:1,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{value:r.publicKey,"onUpdate:value":t[1]||(t[1]=e=>r.publicKey=e),type:"multiline",mode:e.mode,"min-height":160,label:e.t("harvester.sshKey.keypair"),required:""},null,8,["value","mode","label"])])),_:1},8,["label"])])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])}var r=a(35244),n=a(12327),i=a(66210),d=a(53512),c=a(83504),u=a(58782),p=a(78359),m=a(81357),v={name:"HarvesterEditKeypair",emits:["update:value"],components:{Tab:n.A,Tabbed:r.A,CruResource:i.A,LabeledInput:d.o,FileSelector:u.A,NameNsDescription:c.A},mixins:[m.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},data(){return this.value.spec||(this.value.spec={},this.value.metadata={name:""}),{publicKey:this.value.spec.publicKey||"",randomString:""}},watch:{publicKey(e){const t=e.trim();this.value.spec.publicKey=t;const a=t.split(/\s+/);if(3===a.length&&!this.value.metadata.name){const e=a[2];this.randomString=(0,p.vx)(10).toLowerCase(),this.value.metadata.name=e.includes("@")?e.split("@")[0]:e}}},methods:{onKeySelected:(0,u.B)("publicKey")}},h=(a(54822),a(47433));const b=(0,h.A)(v,[["render",s],["__scopeId","data-v-392bdb63"]]);var g=b},70675:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var o=a(97538),l=a(4284),s=a(73281),r={extends:s.A,created(){this.isCreate&&this.value.type===l.cm.CLUSTER_FLOW&&(this.value.metadata.namespace="cattle-logging-system"),this.registerBeforeHook(this.willSave,"willSave"),this.registerAfterHook((()=>{const e=this.$store.getters["allNamespaces"],t=e.find((e=>"default"===e.id)),a=t?.id||e?.[0]?.id||"";this.value.$dispatch("prefs/set",{key:o.Ri,value:a},{root:!0}),this.willSave()}))}};const n=r;var i=n},17733:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var o=a(97538),l=a(90986),s={extends:l["default"],created(){this.isCreate&&(this.value.metadata.namespace="cattle-logging-system"),this.registerAfterHook((()=>{const e=this.$store.getters["allNamespaces"],t=e.find((e=>"default"===e.id)),a=t?.id||e?.[0]?.id||"";this.value.$dispatch("prefs/set",{key:o.Ri,value:a},{root:!0})}))}};const r=s;var n=r},65647:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("Flow");return(0,o.openBlock)(),(0,o.createBlock)(n,(0,o.normalizeProps)((0,o.guardReactiveProps)(e.$attrs)),null,16)}var s=a(73281),r={components:{Flow:s.A}},n=a(47433);const i=(0,n.A)(r,[["render",l]]);var d=i},90986:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var o=a(9274);const l={class:"output"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-6"},d=(0,o.createElementVNode)("div",{class:"spacer"},null,-1);function c(e,t,a,c,u,p){const m=(0,o.resolveComponent)("NameNsDescription"),v=(0,o.resolveComponent)("Banner"),h=(0,o.resolveComponent)("LabeledSelect"),b=(0,o.resolveComponent)("Tab"),g=(0,o.resolveComponent)("YamlEditor"),f=(0,o.resolveComponent)("Labels"),y=(0,o.resolveComponent)("Tabbed"),N=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createVNode)(N,{"done-route":e.doneRoute,mode:p.cruMode,resource:e.value,subtypes:[],"validation-passed":!0,errors:e.errors,"can-yaml":!0,onError:t[5]||(t[5]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,o.withCtx)((()=>[e.isView?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,value:e.value,mode:e.mode,label:"generic.name","register-before-hook":e.registerBeforeHook,namespaced:e.value.type!==u.LOGGING.CLUSTER_OUTPUT,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","register-before-hook","namespaced"])),u.selectedProviders.length>1?((0,o.openBlock)(),(0,o.createBlock)(v,{key:1,color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("logging.output.tips.singleProvider")),1)])),_:1})):e.value.allProvidersSupported?((0,o.openBlock)(),(0,o.createBlock)(y,{key:3,ref:"tabbed","side-tabs":!0,onChanged:t[4]||(t[4]=e=>p.tabChanged(e))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(b,{name:"Output",label:"Output",weight:2},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(h,{value:u.loggingType,"onUpdate:value":t[1]||(t[1]=e=>u.loggingType=e),class:"mb-20",options:p.outputTypeOptions,disabled:!e.isCreate,mode:e.mode,label:e.t("generic.type")},null,8,["value","options","disabled","mode","label"])])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(h,{value:u.selectedProvider,"onUpdate:value":t[2]||(t[2]=e=>u.selectedProvider=e),label:"Output",options:u.providers,mode:e.mode},null,8,["value","options","mode"])])]),d,((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(p.getComponent(u.selectedProvider)),{value:e.value.spec[u.selectedProvider],namespace:e.value.namespace,mode:e.mode},null,8,["value","namespace","mode"]))])),_:1}),(0,o.createVNode)(b,{name:"buffer",label:e.t("logging.output.buffer.label"),weight:1},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{ref:"yaml",value:u.bufferYaml,"onUpdate:value":t[3]||(t[3]=e=>u.bufferYaml=e),scrolling:!1,"initial-yaml-values":u.initialBufferYaml,"editor-mode":e.isView?p.EDITOR_MODES.VIEW_CODE:p.EDITOR_MODES.EDIT_CODE,onOnReady:p.onYamlEditorReady},null,8,["value","initial-yaml-values","editor-mode","onOnReady"])])),_:1},8,["label"]),e.isView?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(b,{key:0,name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(f,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:e.mode,"display-side-by-side":!1},null,8,["value","mode"])])),_:1}))])),_:1},512)):((0,o.openBlock)(),(0,o.createBlock)(v,{key:2,color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("logging.output.tips.multipleProviders")),1)])),_:1}))])),_:1},8,["done-route","mode","resource","errors","onFinish","onCancel"])])}var u=a(81357),p=a(4284),m=a(35244),v=a(12327),h=a(66210),b=a(83504),g=a(58825),f=a(70052),y=a(58832),N=a(66247),k=a(75040),V=a(65852),E=a(46343),w=a.n(E),C=a(3514),S=a.n(C),B=a(20246),A=a.n(B),x=a(3196),_=a(89893),D=a(66905);const U="Logging/Event",M="Audit Only",L=[U,M];var T={emits:["update:value"],components:{Banner:y.l,CruResource:h.A,Labels:g.A,LabeledSelect:f.A,NameNsDescription:b.A,Tab:v.A,Tabbed:m.A,YamlEditor:_.A},mixins:[u.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["harvester/all"](p.yx),t=this.$store.getters["harvester/byId"](p.yx,p.cm.OUTPUT),a=await t.fetchResourceFields();let o="";S()(this.value.spec[this.selectedProvider]?.buffer)?a&&(o=(0,x.mH)(e,`io.banzaicloud.logging.v1beta1.Output.spec.${this.selectedProvider}.buffer`,{},!0,1,"",p.cm.OUTPUT),o=o.substring(o.indexOf("\n")+1).replace(/# {2}/g,"#")):o=A().dump(this.value.spec[this.selectedProvider].buffer),o.length&&(this.bufferYaml=o,this.initialBufferYaml=o,this.$refs.yaml.updateValue(this.bufferYaml))},data(){this.isCreate&&(this.value.metadata.namespace="default"),(0,V.hZ)(this.value,"spec",this.value.spec||{});const e=N.PROVIDERS.map((e=>({...e,value:e.name,label:this.t(e.labelKey)})));this.mode!==k.nW&&(this.value["spec"]=this.value.spec||{},e.forEach((e=>{this.value.spec[e.name]=this.value.spec[e.name]||(0,V.o8)(e.default)})));const t=e.filter((e=>{const t=this.value.spec[e.name],a="forward"===e.name?t?.servers?.[0]||{}:t;return!S()(a)&&!w()(a,e.default)})),a=t?.[0]?.value||e[0].value;return{bufferYaml:"",initialBufferYaml:"",providers:e,selectedProvider:a,hasMultipleProvidersSelected:t.length>1,selectedProviders:t,LOGGING:p.cm,loggingType:this.value.loggingType!==D.UQ.AUDIT?U:M}},computed:{EDITOR_MODES(){return _.j},enabledProviders(){return this.providers.filter((e=>e.enabled))},cruMode(){return this.selectedProviders.length>1||!this.value.allProvidersSupported?k.nW:this.mode},outputTypeOptions(){return L}},created(){this.registerBeforeHook(this.willSave,"willSave")},methods:{getComponent(e){return a(28431)(`./${e}`).default},launch(e){this.$refs.tabbed.select(e.name)},willSave(){this.value.spec={[this.selectedProvider]:this.value.spec[this.selectedProvider]};const e=A().load(this.bufferYaml);S()(e)?delete this.value.spec[this.selectedProvider]["buffer"]:this.value.spec[this.selectedProvider].buffer=e,this.loggingType===M&&(this.value.spec["loggingRef"]="harvester-kube-audit-log-ref")},tabChanged({tab:e}){"buffer"===e.name&&this.$nextTick((()=>{this.$refs.yaml&&(this.$refs.yaml.refresh(),this.$refs.yaml.focus())}))},onYamlEditorReady(e){e.getMode().fold="yamlcomments",e.execCommand("foldAll"),e.execCommand("unfold")}}},O=(a(26925),a(47433));const I=(0,O.A)(T,[["render",c]]);var R=I},47579:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Y}});var o=a(9274);const l=["disabled","tooltip"],s={key:0,class:"icon icon-info"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("Loading"),c=(0,o.resolveComponent)("NameNsDescription"),u=(0,o.resolveComponent)("RouteConfig"),p=(0,o.resolveComponent)("Tab"),m=(0,o.resolveComponent)("router-link"),v=(0,o.resolveComponent)("ResourceTable"),h=(0,o.resolveComponent)("Tabbed"),b=(0,o.resolveComponent)("ActionMenu"),g=(0,o.resolveComponent)("CruResource"),f=(0,o.resolveDirective)("clean-tooltip");return e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(d,{key:0})):((0,o.openBlock)(),(0,o.createBlock)(g,{key:1,class:"route","done-route":e.doneRoute,errors:e.errors,mode:e.mode,resource:e.value,subtypes:[],"cancel-event":!0,onError:t[2]||(t[2]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{value:e.value,mode:e.mode,namespaced:e.isNamespaced,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","namespaced"]),(0,o.createVNode)(h,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{label:e.t("monitoring.route.label"),weight:1,name:"route"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{value:e.value.spec.route,mode:e.mode,"receiver-options":n.receiverOptions},null,8,["value","mode","receiver-options"])])),_:1},8,["label"]),(0,o.createVNode)(p,{label:e.t("alertmanagerConfigReceiver.receivers"),weight:2,name:"receivers"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(v,{headers:n.receiverTableHeaders,schema:n.receiverSchema,rows:e.value.spec.receivers||[],"get-custom-detail-link":i.getReceiverDetailLink,"table-actions":!1,"custom-actions":e.value.receiverActions,onClickedActionButton:i.setActionMenuState},{"header-button":(0,o.withCtx)((()=>[n.createReceiverLink&&n.createReceiverLink.name?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,to:e.mode!==n.create?n.createReceiverLink:{}},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("button",{class:"btn role-primary",disabled:e.mode===n.create,tooltip:e.t("monitoring.alertmanagerConfig.disabledReceiverButton")},[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("monitoring.receiver.addReceiver"))+" ",1),e.mode===n.create?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("i",s,null,512)),[[f,e.t("monitoring.alertmanagerConfig.disabledReceiverButton")]]):(0,o.createCommentVNode)("",!0)],8,l)])),_:1},8,["to"])):(0,o.createCommentVNode)("",!0)])),_:1},8,["headers","schema","rows","get-custom-detail-link","custom-actions","onClickedActionButton"])])),_:1},8,["label"])])),_:1}),(0,o.createVNode)(b,{"custom-actions":n.receiverActions,open:n.receiverActionMenuIsOpen,"use-custom-target-element":!0,"custom-target-element":n.actionMenuTargetElement,"custom-target-event":n.actionMenuTargetEvent,onClose:t[1]||(t[1]=e=>n.receiverActionMenuIsOpen=!1),onGoToEdit:i.goToEdit,onGoToEditYaml:i.goToEditYaml,onPromptRemove:i.promptRemove},null,8,["custom-actions","open","custom-target-element","custom-target-event","onGoToEdit","onGoToEditYaml","onPromptRemove"])])),_:1},8,["done-route","errors","mode","resource","onFinish","onCancel"]))}var n=a(66210),i=a(81357),d=a(35244),c=a(12327),u=a(4284),p=a(82888),m=a(83504),v=a(89893),h=a(50828);const b={class:"icon icon-info"},g={class:"row mb-20"},f={class:"col span-6"},y=(0,o.createElementVNode)("h3",null,"Grouping",-1),N={class:"row mb-20"},k={class:"col span-6"},V={class:"label"},E={class:"icon icon-info"},w=(0,o.createElementVNode)("h3",null,"Waiting and Intervals",-1),C={class:"row mb-20"},S={class:"col span-6"},B={class:"col span-6"},A={class:"row mb-20"},x={class:"col span-6"},_=(0,o.createElementVNode)("h3",null,"Matchers",-1),D={class:"row mt-20 mb-20"},U={class:"col span-4"},M={class:"col span-4"},L={class:"col span-4"};function T(e,t,a,l,s,r){const n=(0,o.resolveComponent)("Banner"),i=(0,o.resolveComponent)("LabeledSelect"),d=(0,o.resolveComponent)("ArrayList"),c=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("ArrayListGrouped"),p=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("h3",null,[(0,o.createTextVNode)(" Receiver "),(0,o.withDirectives)((0,o.createElementVNode)("i",b,null,512),[[p,e.t("monitoring.alertmanagerConfig.receiverTooltip")]])]),(0,o.createVNode)(n,{color:"info",label:e.t("monitoring.alertmanagerConfig.routeInfo")},null,8,["label"]),(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("div",f,[(0,o.createVNode)(i,{value:a.value.receiver,"onUpdate:value":t[0]||(t[0]=e=>a.value.receiver=e),mode:a.mode,options:a.receiverOptions},null,8,["value","mode","options"])])]),y,(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("span",V,[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("monitoringRoute.groups.addGroupByLabel'"))+" ",1),(0,o.withDirectives)((0,o.createElementVNode)("i",E,null,512),[[p,e.t("monitoringRoute.groups.groupByTooltip")]])]),(0,o.createVNode)(d,{value:a.value.groupBy,"onUpdate:value":t[1]||(t[1]=e=>a.value.groupBy=e),class:"mt-10",mode:a.mode,"initial-empty-row":!0},null,8,["value","mode"])])]),w,(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",S,[(0,o.createVNode)(c,{value:a.value.groupWait,"onUpdate:value":t[2]||(t[2]=e=>a.value.groupWait=e),label:e.t("monitoringRoute.wait.label"),mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",B,[(0,o.createVNode)(c,{value:a.value.groupInterval,"onUpdate:value":t[3]||(t[3]=e=>a.value.groupInterval=e),label:e.t("monitoringRoute.interval.label"),mode:a.mode},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",A,[(0,o.createElementVNode)("div",x,[(0,o.createVNode)(c,{value:a.value.repeatInterval,"onUpdate:value":t[4]||(t[4]=e=>a.value.repeatInterval=e),label:e.t("monitoringRoute.repeatInterval.label"),mode:a.mode},null,8,["value","label","mode"])])]),_,(0,o.createVNode)(u,{value:a.value.matchers,"onUpdate:value":t[5]||(t[5]=e=>a.value.matchers=e),class:"mt-20",mode:a.mode,"add-label":e.t("monitoringRoute.matching.addMatcher"),"default-add-value":{matchers:[]}},{default:(0,o.withCtx)((t=>[(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("div",U,[(0,o.createVNode)(c,{value:t.row.value.name,"onUpdate:value":e=>t.row.value.name=e,label:e.t("monitoringRoute.matching.name"),tooltip:e.t("monitoringRoute.matching.nameTooltip"),mode:a.mode},null,8,["value","onUpdate:value","label","tooltip","mode"])]),(0,o.createElementVNode)("div",M,[(0,o.createVNode)(c,{value:t.row.value.value,"onUpdate:value":e=>t.row.value.value=e,label:e.t("monitoringRoute.matching.value"),tooltip:e.t("monitoringRoute.matching.valueTooltip"),mode:a.mode},null,8,["value","onUpdate:value","label","tooltip","mode"])]),(0,o.createElementVNode)("div",L,[(0,o.createVNode)(i,{value:t.row.value.matchType,"onUpdate:value":e=>t.row.value.matchType=e,label:e.t("monitoringRoute.matching.matchType"),mode:a.mode,options:s.matchTypes},null,8,["value","onUpdate:value","label","mode","options"])])])])),_:1},8,["value","mode","add-label"])])}var O=a(6961),I=a(58832),R=a(53512),$=a(70052),P=a(75040),q=a(4373),F={components:{ArrayList:O.A,Banner:I.l,ArrayListGrouped:q.A,LabeledInput:R.o,LabeledSelect:$.A},props:{mode:{type:String,required:!0},value:{type:Object,required:!0},receiverOptions:{type:Array,required:!0}},data(){return this.value["matchers"]=this.value.matchers||[],this.value["groupBy"]=this.value.groupBy||[],{isView:P.nW,matchTypes:[{label:"Match Equal",value:"="},{label:"Match Not Equal",value:"!="},{label:"Match Regexp",value:"=~"},{label:"Match Not Regexp",value:"!~"}]}}},G=a(47433);const K=(0,G.A)(F,[["render",T]]);var j=K,H=a(27166),J=a(49826),z={emits:["update:value"],components:{ActionMenu:J.A,CruResource:n.A,Loading:p.A,NameNsDescription:m.A,ResourceTable:H.A,RouteConfig:j,Tab:c.A,Tabbed:d.A},mixins:[i.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=this.value.id,a=await this.$store.dispatch(`${e}/find`,{type:u.Rp.ALERTMANAGERCONFIG,id:t});this.alertmanagerConfigId=t,this.alertmanagerConfigResource=a,this.alertmanagerConfigDetailRoute=a._detailLocation;const o=a.availableActions,l=a.getReceiverActions(o);this.receiverActions=l},data(){this.value.applyDefaults();const e={},t=this.$store.getters["harvester/schemaFor"](u.Rp.SPOOFED.ALERTMANAGERCONFIG_RECEIVER_SPEC),a=this.$store.getters["harvester/schemaFor"](u.Rp.SPOOFED.ALERTMANAGERCONFIG_ROUTE_SPEC),o=(this.value?.spec?.receivers||[]).map((e=>e.name));return{actionMenuTargetElement:null,actionMenuTargetEvent:null,config:P.au,create:P.YQ,createReceiverLink:this.value.getCreateReceiverRoute(),defaultReceiverValues:e,receiverActionMenuIsOpen:!1,receiverTableHeaders:[{name:"name",labelKey:"tableHeaders.name",value:"name",sort:["nameSort"],formatter:"LinkDetail",canBeVariable:!0},{name:"type",labelKey:"tableHeaders.type",value:"name",formatter:"ReceiverIcons",canBeVariable:!0}],newReceiverType:null,receiverActions:[],receiverOptions:o,receiverTypes:h.RECEIVERS_TYPES,routeSchema:a,receiverSchema:t,selectedReceiverName:"",selectedRowValue:null,view:P.nW}},computed:{editorMode(){return this.mode===P.nW?v.j.VIEW_CODE:v.j.EDIT_CODE}},methods:{translateReceiverTypes(){return this.receiverTypes.map((e=>({...e,label:this.t(e.label)})))},getReceiverDetailLink(e){if(e&&e.name)return this.value.getReceiverDetailLink(e.name)},toggleReceiverActionMenu(){this.receiverActionMenuIsOpen=!0},setActionMenuState(e){const{event:t,targetElement:a}=e;if(!t||!a)throw new Error("Could not find action menu target element.");this.actionMenuTargetElement=a,this.actionMenuTargetEvent=t,this.selectedReceiverName=a.id.split("+").slice(2).join(""),this.toggleReceiverActionMenu()},goToEdit(){this.$router.push(this.alertmanagerConfigResource.getEditReceiverConfigRoute(this.selectedReceiverName,P.G5))},goToEditYaml(){this.$router.push(this.alertmanagerConfigResource.getEditReceiverYamlRoute(this.selectedReceiverName,P.G5))},promptRemove(){const e=this.selectedReceiverName,t=this.alertmanagerConfigResource.spec.receivers||[],a=t.filter((t=>t.name!==e));this.alertmanagerConfigResource.spec.receivers=a,this.alertmanagerConfigResource.save(...arguments)}}};a(65548);const Q=(0,G.A)(z,[["render",r],["__scopeId","data-v-34ffb89b"]]);var Y=Q},14846:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var o=a(9274);const l={class:"row"},s={class:"col span-12"},r={class:"row mt-10"},n={class:"col span-6"},i={key:0,class:"row mt-10"},d={class:"col span-6"},c={key:1,class:"row mt-10"},u={class:"col span-6"},p={class:"col span-6"};function m(e,t,a,m,v,h){const b=(0,o.resolveComponent)("NameNsDescription"),g=(0,o.resolveComponent)("LabeledSelect"),f=(0,o.resolveComponent)("LabeledInput"),y=(0,o.resolveComponent)("Tab"),N=(0,o.resolveComponent)("RadioGroup"),k=(0,o.resolveComponent)("Tabbed"),V=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(V,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:h.saveNetwork},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(b,{ref:"nd",value:a.value,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,o.createVNode)(k,(0,o.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,o.withCtx)((()=>[(0,o.createVNode)(y,{name:"basics",label:e.t("harvester.network.tabs.basics"),weight:99,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{value:v.type,"onUpdate:value":t[1]||(t[1]=e=>v.type=e),class:"mb-20",options:h.networkType,mode:e.mode,label:e.t("harvester.fields.type"),required:""},null,8,["value","options","mode","label"]),h.isUntaggedNetwork?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(f,{key:0,value:v.config.vlan,"onUpdate:value":[t[2]||(t[2]=e=>v.config.vlan=e),h.input],valueModifiers:{number:!0},class:"mb-20",required:"",type:"number",placeholder:"e.g. 1-4094",label:e.t("tableHeaders.networkVlan"),mode:e.mode},null,8,["value","label","mode","onUpdate:value"])),(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(g,{value:v.config.bridge,"onUpdate:value":t[3]||(t[3]=e=>v.config.bridge=e),class:"mb-20",label:e.t("harvester.network.clusterNetwork.label"),required:"",options:h.clusterNetworkOptions,mode:e.mode,placeholder:e.t("harvester.network.clusterNetwork.selectPlaceholder")},null,8,["value","label","options","mode","placeholder"])])])])),_:1},8,["label"]),h.isUntaggedNetwork?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(y,{key:0,name:"layer3Network",label:e.t("harvester.network.tabs.layer3Network"),weight:98,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(N,{value:v.layer3Network.mode,"onUpdate:value":t[4]||(t[4]=e=>v.layer3Network.mode=e),name:"layer3NetworkMode",label:e.t("harvester.network.layer3Network.mode.label"),mode:e.mode,options:h.modeOptions},null,8,["value","label","mode","options"])])]),"auto"===v.layer3Network.mode?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(f,{value:v.layer3Network.serverIPAddr,"onUpdate:value":t[5]||(t[5]=e=>v.layer3Network.serverIPAddr=e),class:"mb-20",label:e.t("harvester.network.layer3Network.serverIPAddr.label"),mode:e.mode},null,8,["value","label","mode"])])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(f,{value:v.layer3Network.cidr,"onUpdate:value":t[6]||(t[6]=e=>v.layer3Network.cidr=e),class:"mb-20",label:e.t("harvester.network.layer3Network.cidr.label"),placeholder:e.t("harvester.network.layer3Network.cidr.placeholder"),mode:e.mode,required:""},null,8,["value","label","placeholder","mode"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(f,{value:v.layer3Network.gateway,"onUpdate:value":t[7]||(t[7]=e=>v.layer3Network.gateway=e),class:"mb-20",label:e.t("harvester.network.layer3Network.gateway.label"),placeholder:e.t("harvester.network.layer3Network.gateway.placeholder"),mode:e.mode,required:""},null,8,["value","label","placeholder","mode"])])]))])),_:1},8,["label"]))])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])}var v=a(35244),h=a(12327),b=a(66210),g=a(53512),f=a(83328),y=a(83504),N=a(70052),k=a(2602),V=a(81357),E=a(68844),w=a(32766);const C="auto",S="manual";var B={emits:["update:value"],components:{Tab:h.A,Tabbed:v.A,CruResource:b.A,LabeledInput:g.o,NameNsDescription:y.A,RadioGroup:f.z,LabeledSelect:N.A},mixins:[V.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},data(){const e=JSON.parse(this.value.spec.config),t=this.value?.metadata?.annotations||{},a=JSON.parse(t[k.r.NETWORK_ROUTE]||"{}");(e.bridge||"").endsWith("-br")&&(e.bridge=e.bridge.slice(0,-3));const o=this.value.vlanType||"L2VlanNetwork";return{config:e,type:o,layer3Network:{mode:a.mode||C,serverIPAddr:a.serverIPAddr||"",cidr:a.cidr||"",gateway:a.gateway||""}}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,E.kR)({clusterNetworks:this.$store.dispatch(`${e}/findAll`,{type:w.rk.CLUSTER_NETWORK})})},created(){this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},computed:{modeOptions(){return[{label:this.t("harvester.network.layer3Network.mode.auto"),value:C},{label:this.t("harvester.network.layer3Network.mode.manual"),value:S}]},clusterNetworkOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](w.rk.CLUSTER_NETWORK)||[];return t.map((e=>{const t=!e.isReady;return{label:t?`${e.id} (${this.t("generic.notReady")})`:e.id,value:e.id,disabled:t}}))},networkType(){return["L2VlanNetwork","UntaggedNetwork"]},isUntaggedNetwork(){return this.isView?"UntaggedNetwork"===this.value.vlanType:"UntaggedNetwork"===this.type}},methods:{async saveNetwork(e){const t=[];if(this.config.vlan||this.isUntaggedNetwork||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("tableHeaders.networkVlan")})),this.config.bridge||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("harvester.network.clusterNetwork.label")})),this.layer3Network.mode===S&&(this.layer3Network.gateway||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("harvester.network.layer3Network.gateway.label")})),this.layer3Network.cidr||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("harvester.network.layer3Network.cidr.label")}))),t.length>0)return e(!1),this.errors=t,!1;this.value.setAnnotation(k.r.NETWORK_ROUTE,JSON.stringify(this.layer3Network)),await this.save(e)},input(e){if(""===e)return void(this.config.vlan="");const t=Number(e);this.config.vlan=t>4094?4094:t<1?1:t},updateBeforeSave(){this.config.name=this.value.metadata.name,this.isUntaggedNetwork&&delete this.config.vlan,this.value.spec.config=JSON.stringify({...this.config,bridge:`${this.config.bridge}-br`})}}},A=a(47433);const x=(0,A.A)(B,[["render",m]]);var _=x},18796:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var o=a(9274);const l={class:"banner"},s={class:"mb-30"},r={class:"row mb-30"},n={class:"col span-6"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,o.resolveComponent)("MessageLink"),m=(0,o.resolveComponent)("Banner"),v=(0,o.resolveComponent)("RadioGroup"),h=(0,o.resolveComponent)("LabeledSelect"),b=(0,o.resolveComponent)("LabeledInput"),g=(0,o.resolveComponent)("Tab"),f=(0,o.resolveComponent)("Tabbed"),y=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(y,{"done-route":e.doneRoute,resource:a.value,mode:a.mode,errors:e.errors,"apply-hooks":e.applyHooks,"validation-passed":u.canSave,onFinish:e.save,onError:t[6]||(t[6]=t=>e.errors=t)},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[u.isBackupTargetUnAvailable?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,color:"error"},{default:(0,o.withCtx)((()=>[u.isEmptyValue?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,to:u.toBackupTargetSetting,target:e._blank,"prefix-label":"harvester.backup.message.noSetting.prefix","middle-label":"harvester.backup.message.noSetting.middle","suffix-label":"harvester.schedule.message.noSetting.suffix"},null,8,["to","target"])):((0,o.openBlock)(),(0,o.createBlock)(p,{key:1,to:u.toBackupTargetSetting,"prefix-label":"harvester.backup.message.errorTip.prefix","middle-label":"harvester.backup.message.errorTip.middle"},{suffix:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.backup.message.errorTip.suffix"))+" "+(0,o.toDisplayString)(u.errorMessage),1)])),_:1},8,["to"]))])),_:1})):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",s,[(0,o.createVNode)(v,{value:a.value.spec.vmbackup.type,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.vmbackup.type=e),name:"model",options:u.scheduleTypeOptions,labels:[e.t("harvester.schedule.type.backup"),e.t("harvester.schedule.type.snapshot")],disabled:e.isEdit||e.isView,mode:a.mode,row:"",onInput:u.onTypeChange},null,8,["value","options","labels","disabled","mode","onInput"])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(h,{value:a.value.metadata.namespace,"onUpdate:value":t[1]||(t[1]=e=>a.value.metadata.namespace=e),label:e.t("nameNsDescription.namespace.label"),options:u.namespaces,required:"",disabled:u.isBackupTargetUnAvailable||e.isEdit||e.isView},null,8,["value","label","options","disabled"])]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(h,{value:a.value.spec.vmbackup.source.name,"onUpdate:value":t[2]||(t[2]=e=>a.value.spec.vmbackup.source.name=e),label:e.t("harvester.schedule.virtualMachine.title"),placeholder:e.t("harvester.schedule.virtualMachine.placeholder"),options:u.vmOptions,required:"",disabled:u.isBackupTargetUnAvailable||e.isEdit||e.isView},null,8,["value","label","placeholder","options","disabled"])])])]),(0,o.createVNode)(f,(0,o.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{name:"basics",label:e.t("harvester.network.tabs.basics"),weight:99,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(b,{value:a.value.spec.cron,"onUpdate:value":t[3]||(t[3]=e=>a.value.spec.cron=e),class:"mb-30",type:"cron",required:"",mode:a.mode,label:e.t("harvester.schedule.cron"),placeholder:"0 * * * *",disabled:u.isBackupTargetUnAvailable||e.isView},null,8,["value","mode","label","disabled"]),(0,o.createVNode)(b,{value:a.value.spec.retain,"onUpdate:value":t[4]||(t[4]=e=>a.value.spec.retain=e),valueModifiers:{number:!0},class:"mb-30",min:2,max:250,type:"number",label:e.t("harvester.schedule.retain.label"),required:"",tooltip:e.t("harvester.schedule.retain.tooltip"),disabled:u.isBackupTargetUnAvailable||e.isView},null,8,["value","label","tooltip","disabled"]),(0,o.createVNode)(b,{value:a.value.spec.maxFailure,"onUpdate:value":t[5]||(t[5]=e=>a.value.spec.maxFailure=e),valueModifiers:{number:!0},class:"mb-30",min:2,type:"number",label:e.t("harvester.schedule.maxFailure.label"),required:"",tooltip:e.t("harvester.schedule.maxFailure.tooltip"),disabled:u.isBackupTargetUnAvailable||e.isView,onInput:u.validateFailure},null,8,["value","label","tooltip","disabled","onInput"])])),_:1},8,["label"])])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","apply-hooks","validation-passed","onFinish"])}var c=a(83328),u=a(58832),p=a(53512),m=a(66210),v=a(35244),h=a(12327),b=a(21398),g=a(70052),f=a(81357),y=a(37021),N=a.n(y);function k(e=""){try{const t=N().toString(e);return!!t}catch(t){return!1}}var V=a(20652),E=a(68844),w=a(32766),C=a(98258),S=a(41837),B=a(75040),A={name:"CreateVMSchedule",components:{CruResource:m.A,Tabbed:v.A,Tab:h.A,RadioGroup:c.z,LabeledInput:p.o,LabeledSelect:g.A,MessageLink:b.A,Banner:u.l},mixins:[f.A],inheritAttrs:!1,async fetch(){const e=await(0,E.kR)({settings:this.$store.dispatch("harvester/findAll",{type:w.rk.SETTING}),vms:this.$store.dispatch("harvester/findAll",{type:w.rk.VM})});this.allVms=e.vms,this.settings=e.settings},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){if(this.mode===B.YQ){const e=this.$store.getters["defaultNamespace"],t=this.$route.query?.vmNamespace||e,a=this.$route.query?.vmName;delete this.value.metadata.annotations,delete this.value.metadata.labels,this.value["metadata"]={namespace:t,name:a?`svmbackup-${a}`:""},this.value.spec||(this.value["spec"]={cron:"",retain:8,maxFailure:4,vmbackup:{source:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:a||""},type:S.a.BACKUP}})}return{settings:[]}},computed:{backupTargetResource(){return this.settings.find((e=>"backup-target"===e.id))},isEmptyValue(){return this.getBackupTargetValueIsEmpty(this.backupTargetResource)},canUpdate(){return this?.backupTargetResource?.canUpdate},errorMessage(){return this.backupTargetResource?.errMessage},canSave(){return!!this.value.spec.cron&&k(this.value.spec.cron)&&!!this.value.metadata.name&&!!this.value.metadata.namespace&&!!this.value.spec.retain&&!!this.value.spec.maxFailure},isBackupTargetUnAvailable(){return this.value.spec.vmbackup.type===S.a.BACKUP&&(this.errorMessage||this.isEmptyValue)&&this.canUpdate},vmOptions(){const e=this.$store.getters["harvester/all"](w.rk.VM).filter((e=>e.metadata.namespace===this.value.metadata.namespace)),t=e.map((e=>({label:e.nameDisplay,value:e.name})));return(0,C.Ul)(t,"label")},namespaces(){const e=this.$store.getters["allNamespaces"],t=(0,C.Ul)(e.map((e=>({label:e.nameDisplay,value:e.id}))),"label");return t},toBackupTargetSetting(){const{cluster:e}=this.$router?.currentRoute?.params||{};return{name:`${V.KR}-c-cluster-resource-id`,params:{resource:`${w.rk.SETTING}`,cluster:e,id:"backup-target"},query:{mode:B.G5}}},scheduleTypeOptions(){return[S.a.BACKUP,S.a.SNAPSHOT]}},watch:{"value.metadata.namespace"(){this.value.spec.vmbackup.source.name=""},"value.spec.vmbackup.source.name"(e){this.value.metadata.name=`svm${this.value.spec.vmbackup.type}-${e}`}},methods:{onTypeChange(e){this.value.metadata.name=`svm${e}-${this.value.spec.vmbackup.source.name}`},getBackupTargetValueIsEmpty(e){let t=!0;if(e?.value)try{const a=JSON.parse(e?.value);t=!a.type}catch(a){}return t},validateFailure(e){this.value.spec.retain&&e>this.value.spec.retain&&(this.value.spec["maxFailure"]=this.value.spec.retain)}}},x=a(47433);const _=(0,x.A)(A,[["render",d]]);var D=_},41398:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var o=a(9274);const l={class:"filled-height"},s=(0,o.createElementVNode)("div",{class:"spacer"},null,-1);function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("Loading"),c=(0,o.resolveComponent)("NameNsDescription"),u=(0,o.resolveComponent)("Tab"),p=(0,o.resolveComponent)("Labels"),m=(0,o.resolveComponent)("Tabbed"),v=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createElementBlock)("form",l,[e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(d,{key:0})):((0,o.openBlock)(),(0,o.createBlock)(v,{key:1,mode:e.mode,"validation-passed":!0,"selected-subtype":e.value._type,resource:e.value,errors:e.errors,onFinish:i.saveSecret,onError:t[2]||(t[2]=t=>e.errors=t)},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{value:e.value,mode:e.mode,namespaced:!n.isCloud,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","namespaced"]),s,n.isCloud?((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(i.cloudComponent),{key:0,ref:"cloudComponent","driver-name":i.driverName,value:e.value,mode:e.mode,"hide-sensitive-data":i.hideSensitiveData},null,8,["driver-name","value","mode","hide-sensitive-data"])):((0,o.openBlock)(),(0,o.createBlock)(m,{key:1,"side-tabs":!0,"default-tab":"data"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{name:"data",label:i.dataLabel,weight:99},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(i.dataComponent),{value:e.value,mode:e.mode,"hide-sensitive-data":i.hideSensitiveData},null,8,["value","mode","hide-sensitive-data"]))])),_:1},8,["label"]),(0,o.createVNode)(u,{name:"labels","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),mode:e.mode},null,8,["value","mode"])])),_:1})])),_:1}))])),_:1},8,["mode","selected-subtype","resource","errors","onFinish"]))])}var n=a(59433),i=a(4284),d=a(81357),c=a(83504),u=a(53512),p=a(70052),m=a(66210),v=a(75040),h=a(82888),b=a(35244),g=a(12327),f=a(58825),y=a(97538),N=a(71445),k=a(24759),V=a(8864),E=a(49300),w=a(78359),C={name:"CruSecret",emits:["update:value"],components:{LabeledInput:u.o,LabeledSelect:p.A,Loading:h.A,NameNsDescription:c.A,CruResource:m.A,Tabbed:b.A,Tab:g.A,Labels:f.A,SelectIconGrid:E.A},mixins:[d.A],inheritAttrs:!1,async fetch(){this.isCloud&&(this.nodeDrivers=await this.$store.dispatch("management/findAll",{type:i.Mc.NODE_DRIVER}))},data(){const e=this.$route.query[v.Sd]===v.Qp,t=this.mode===v.G5&&this.value._type===n.J.CLOUD_CREDENTIAL,a=this.realMode===v.dT&&this.liveValue._type===n.J.CLOUD_CREDENTIAL,o=e||t||a;e&&(this.value.metadata.namespace=i.eo,this.value.metadata["name"]="",this.value["data"]={});const l=[{label:"Custom",value:"custom"},{label:"divider",disabled:!0,kind:"divider"}];return Object.values(n.J).forEach((e=>{l.push({label:e,value:e})})),this.mode===v.YQ&&(this.value["_type"]=n.J.OPAQUE),{isCloud:o,nodeDrivers:null,secretTypes:l,secretType:this.value._type,initialSecretType:this.value._type}},computed:{typeKey(){if(this.isCloud)return"cloud";switch(this.value._type){case n.J.TLS:return"tls";case n.J.BASIC:return"basic";case n.J.DOCKER_JSON:return"registry";case n.J.SSH:return"ssh"}return"generic"},dataComponent(){return a(48254)(`./${this.typeKey}`).default},driverName(){const e=this.value.metadata?.annotations?.[N.qt.CREDENTIAL_DRIVER];return e},cloudComponent(){const e=this.driverName,t=this.$store.getters["plugins/credentialDrivers"];return t.includes(e)?(0,V.qq)(e):(0,V.qq)("generic")},namespaces(){return this.$store.getters["cluster/all"](i.CU).map((e=>({label:e.nameDisplay,value:e.id})))},hideSensitiveData(){return this.$store.getters["prefs/get"](y.qv)},dataLabel(){switch(this.value._type){case n.J.TLS:return this.t("secret.certificate.certificate");case n.J.SSH:return this.t("secret.ssh.keys");case n.J.BASIC:return this.t("secret.authentication");default:return this.t("secret.data")}}},created(){this.registerAfterHook((()=>{const e=this.$store.getters["allNamespaces"],t=e.find((e=>"default"===e.id)),a=t?.id||e?.[0]?.id||"";this.value.$dispatch("prefs/set",{key:y.Ri,value:a},{root:!0})}))},methods:{async saveSecret(e){if(this.errors&&(0,k.IU)(this.errors),"function"===typeof this.$refs.cloudComponent?.test)try{const t=await this.$refs.cloudComponent.test();if(!t||t?.errors)return this.errors=t?.errors?t.errors:["Authentication test failed, please check your credentials"],void e(!1)}catch(t){return this.errors=[t],void e(!1)}return this.save(e)},typeDisplay(e,t){if(e===N.qt.CREDENTIAL_DRIVER)return this.$store.getters["i18n/withFallback"](`cluster.provider."${t}"`,null,t);{const t=e.replace(/^kubernetes.io\//,"");return this.$store.getters["i18n/withFallback"](`secret.types."${e}"`,null,t)}},initialDisplayFor(e){const t=((0,w.TF)(this.typeDisplay(e)||"").replace(/[^A-Z]/g,"")||e).substr(0,3);return this.$store.getters["i18n/withFallback"](`secret.initials."${e}"`,null,t)},selectCustomType(e){"custom"!==e&&(this.value["_type"]=e)}}},S=a(47433);const B=(0,S.A)(C,[["render",r]]);var A=B},56726:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var o=a(9274);const l={key:0,class:"edit-help"},s={class:"edit-change mt-20"},r=["disabled"],n={class:"mt-20"},i={key:0},d={key:1},c={key:2},u={key:3},p={key:4};function m(e,t,a,m,v,h){const b=(0,o.resolveComponent)("LabeledSelect"),g=(0,o.resolveComponent)("RadioGroup"),f=(0,o.resolveComponent)("TextAreaAutoGrow"),y=(0,o.resolveComponent)("LabeledInput"),N=(0,o.resolveComponent)("CruResource"),k=(0,o.resolveDirective)("clean-html"),V=(0,o.resolveDirective)("t");return(0,o.openBlock)(),(0,o.createBlock)(N,{class:"route",errors:v.errors,mode:e.mode,resource:e.value,subtypes:[],"can-yaml":!1,"cancel-event":!0,onError:t[6]||(t[6]=e=>v.errors=e),onFinish:h.saveSettings,onCancel:h.done},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",null,null,512),[[k,v.description]]),v.editHelp?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("h5",l,null,512)),[[k,v.editHelp]]):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",s,[(0,o.withDirectives)((0,o.createElementVNode)("h5",null,null,512),[[V,"advancedSettings.edit.changeSetting"]]),(0,o.createElementVNode)("button",{disabled:!v.canReset,type:"button",class:"btn role-primary",onClick:t[0]||(t[0]=(...e)=>h.useDefault&&h.useDefault(...e))},(0,o.toDisplayString)(e.t("advancedSettings.edit.useDefault")),9,r)]),(0,o.createElementVNode)("div",n,["import"===v.setting.from?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[v.hasCustomComponent?((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(v.customComponent),{key:0,ref:"settingComp",value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),"register-before-hook":e.registerBeforeHook,mode:e.mode},null,40,["value","register-before-hook","mode"])):(0,o.createCommentVNode)("",!0)])):"enum"===v.setting.kind?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createVNode)(b,{value:e.value.value,"onUpdate:value":t[2]||(t[2]=t=>e.value.value=t),label:e.t("advancedSettings.edit.value"),"localized-label":!0,mode:e.mode,options:v.enumOptions},null,8,["value","label","mode","options"])])):"boolean"===v.setting.kind?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createVNode)(g,{value:e.value.value,"onUpdate:value":t[3]||(t[3]=t=>e.value.value=t),name:"settings_value",labels:[e.t("advancedSettings.edit.trueOption"),e.t("advancedSettings.edit.falseOption")],options:["true","false"]},null,8,["value","labels"])])):"multiline"===v.setting.kind||"json"===v.setting.kind?((0,o.openBlock)(),(0,o.createElementBlock)("div",u,[(0,o.createVNode)(f,{value:e.value.value,"onUpdate:value":t[4]||(t[4]=t=>e.value.value=t),"min-height":254},null,8,["value"])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createVNode)(y,{value:e.value.value,"onUpdate:value":t[5]||(t[5]=t=>e.value.value=t),label:e.t("advancedSettings.edit.value")},null,8,["value","label"])]))])])),_:1},8,["errors","mode","resource","onFinish","onCancel"])}var v=a(66210),h=a(83328),b=a(53512),g=a(70052),f=a(67683),y=a(81357),N=a(50889),k={components:{CruResource:v.A,LabeledInput:b.o,LabeledSelect:g.A,RadioGroup:h.z,TextAreaAutoGrow:f.V},mixins:[y.A],inheritAttrs:!1,data(){const e=this.$store.getters["i18n/t"],t=N.gh[this.value.id]||N.LP[this.value.id];let o=[];"enum"===t.kind&&(o=t.options.map((e=>({label:`advancedSettings.enum.harv-${this.value.id}.${e}`,value:e}))));const l=t.canReset||!!this.value.default||this.value.canReset;void 0===this.value.value&&(this.value["value"]=null),this.value.value=this.value.value||this.value.default||"";const s=this.value.value,r=this.value?.type?.includes("harvesterhci"),n=a(26190).keys().map((e=>e.replace(/(\.\/)|(.vue)/g,"")));return{setting:t,description:e(r?`advancedSettings.descriptions.harv-${this.value.id}`:`advancedSettings.descriptions.${this.value.id}`),editHelp:e(`advancedSettings.editHelp.${this.value.id}`),enumOptions:o,canReset:l,errors:[],hasCustomComponent:!1,customComponent:null,customSettingComponents:n,oldValue:s}},computed:{doneLocationOverride(){return this.value.doneOverride}},created(){let e=!1;const t=this.customSettingComponents.includes(this.value.id);if(t)try{e=a(88292)(`./${this.value.id}.vue`).default}catch{}else{const t=this.$route.params.resource,o=this.value.metadata.name;try{e=a(80373)(`./${t}/${o}.vue`).default}catch{}}this.hasCustomComponent=!!e,this.customComponent=e,this.registerAfterHook((()=>{this.value.id===N.EP.RANCHER_MANAGER_SUPPORT&&this.$store.commit("isRancherInHarvester","true"===this.value.value)}))},methods:{done(){this.$router.go(-1)},async saveSettings(e){const t=this.$store.getters["i18n/t"];if("json"===this.setting.kind&&this.value.default)try{JSON.parse(this.value.value),this.errors=[]}catch(a){return this.errors=[t("advancedSettings.edit.invalidJSON")],e(!1)}this.value.metadata.name===N.EP.CLUSTER_REGISTRATION_URL&&this.oldValue&&this.value.value!==this.oldValue&&await this.clusterRegistrationUrlTip(),this.save(e)},clusterRegistrationUrlTip(){return new Promise((e=>{this.$store.dispatch("harvester/promptModal",{component:"MessageBox",callback:t=>{"ok"===t&&e()},contentKey:"harvester.setting.clusterRegistrationUrl.message"},{root:!0})}))},useDefault(e){e&&e.srcElement&&e.srcElement.blur(),this.value.id===N.EP.VLAN?(this.value.enable=!1,this.value.config&&(this.value.config.defaultPhysicalNIC="")):this.value.value=this.value.default||"","function"===typeof this.$refs.settingComp?.useDefault&&this.$refs.settingComp.useDefault()}}},V=(a(97596),a(47433));const E=(0,V.A)(k,[["render",m],["__scopeId","data-v-01b4cf42"]]);var w=E},13190:function(e,t,a){"use strict";a.r(t),a.d(t,{LVM_TOPOLOGY_LABEL:function(){return $},default:function(){return j}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-77af4bf8"),e=e(),(0,o.popScopeId)(),e),s={class:"row mt-20"},r={class:"col span-6"},n={class:"col span-6"},i={class:"row mt-20"},d={class:"col span-6"},c={class:"box"},u={class:"row"},p={class:"col span-4 key"},m=l((()=>(0,o.createElementVNode)("span",{class:"required"},"*",-1))),v={class:"col span-8 value"},h={class:"row custom-headers"},b={class:"col span-4 key"},g={class:"col span-8 value"};function f(e,t,a,l,f,y){const N=(0,o.resolveComponent)("Loading"),k=(0,o.resolveComponent)("NameNsDescription"),V=(0,o.resolveComponent)("LabeledSelect"),E=(0,o.resolveComponent)("Tab"),w=(0,o.resolveComponent)("RadioGroup"),C=(0,o.resolveComponent)("LabeledInput"),S=(0,o.resolveComponent)("Tags"),B=(0,o.resolveComponent)("ArrayList"),A=(0,o.resolveComponent)("Tabbed"),x=(0,o.resolveComponent)("CruResource");return e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(N,{key:0})):((0,o.openBlock)(),(0,o.createBlock)(x,{key:1,"done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],"validation-passed":!0,"apply-hooks":e.applyHooks,errors:e.errors,onError:t[6]||(t[6]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(k,{namespaced:!1,value:e.value,mode:e.mode,"register-before-hook":e.registerBeforeHook,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","register-before-hook"]),(0,o.createVNode)(V,{value:f.provisioner,"onUpdate:value":t[1]||(t[1]=e=>f.provisioner=e),label:"Provisioner",options:y.provisioners,"localized-label":!0,mode:y.modeOverride,searchable:!0,taggable:!0,class:"mb-20"},null,8,["value","options","mode"]),(0,o.createVNode)(A,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(E,{name:"parameters",label:e.t("storageClass.parameters.label"),weight:2},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(y.getComponent(f.provisioner)),{key:f.provisioner,value:e.value,mode:y.modeOverride,"real-mode":e.realMode},null,8,["value","mode","real-mode"]))])),_:1},8,["label"]),(0,o.createVNode)(E,{name:"customize",label:e.t("storageClass.customize.label")},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(w,{value:e.value.reclaimPolicy,"onUpdate:value":t[2]||(t[2]=t=>e.value.reclaimPolicy=t),name:"reclaimPolicy",label:e.t("storageClass.customize.reclaimPolicy.label"),mode:y.modeOverride,options:f.reclaimPolicyOptions},null,8,["value","label","mode","options"])]),(0,o.createElementVNode)("div",n,[(0,o.createVNode)(w,{value:e.value.allowVolumeExpansion,"onUpdate:value":t[3]||(t[3]=t=>e.value.allowVolumeExpansion=t),name:"allowVolumeExpansion",label:e.t("storageClass.customize.allowVolumeExpansion.label"),mode:y.modeOverride,options:f.allowVolumeExpansionOptions},null,8,["value","label","mode","options"])])]),(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(w,{value:e.value.volumeBindingMode,"onUpdate:value":t[4]||(t[4]=t=>e.value.volumeBindingMode=t),name:"volumeBindingMode",label:e.t("storageClass.customize.volumeBindingMode.label"),mode:y.modeOverride,options:f.volumeBindingModeOptions,disabled:f.provisioner===f.LVM_DRIVER},null,8,["value","label","mode","options","disabled"])])])])),_:1},8,["label"]),(0,o.createVNode)(E,{name:"allowedTopologies",label:e.t("harvester.storage.allowedTopologies.title"),weight:-1,tooltip:e.t("harvester.storage.allowedTopologies.tooltip")},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(B,{value:f.allowedTopologies,"onUpdate:value":t[5]||(t[5]=e=>f.allowedTopologies=e),"default-add-value":f.defaultAddValue,"initial-empty-row":!0,"show-header":!0,mode:y.modeOverride},{"column-headers":(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("generic.key"))+" ",1),m]),(0,o.createElementVNode)("div",v,(0,o.toDisplayString)(e.t("generic.value")),1)])])])),columns:(0,o.withCtx)((t=>[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",b,[(0,o.createVNode)(C,{value:t.row.value.key,"onUpdate:value":e=>t.row.value.key=e,required:!0,mode:y.modeOverride},null,8,["value","onUpdate:value","mode"])]),(0,o.createElementVNode)("div",g,[(0,o.createVNode)(S,{value:t.row.value.values,"onUpdate:value":e=>t.row.value.values=e,"add-label":e.t("generic.add"),mode:y.modeOverride},null,8,["value","onUpdate:value","add-label","mode"])])])])),_:1},8,["value","default-add-value","mode"])])),_:1},8,["label","tooltip"])])),_:1})])),_:1},8,["done-route","mode","resource","apply-hooks","errors","onFinish","onCancel"]))}var y=a(81357),N=a(66210),k=a(83504),V=a(6961),E=a(12327),w=a(35244),C=a(83328),S=a(8080),B=a(70052),A=a(82888),x=a(75040),_=a(31165),D=a(4284),U=a(68844),M=a(65852),L=a(32766),T=a(49306),O=a(15908),I=a(82877);const R="longhorn-system/v2-data-engine",$="topology.lvm.csi/node",P="Immediate",q="WaitForFirstConsumer";var F={name:"HarvesterStorage",emits:["update:value"],components:{ArrayList:V.A,CruResource:N.A,LabeledSelect:B.A,LabeledInput:S.A,NameNsDescription:k.A,RadioGroup:C.z,Tab:E.A,Tabbed:w.A,Loading:A.A,Tags:T.A},mixins:[y.A],inheritAttrs:!1,data(){const e=[{label:this.t("storageClass.customize.reclaimPolicy.delete"),value:"Delete"},{label:this.t("storageClass.customize.reclaimPolicy.retain"),value:"Retain"}],t=[{label:this.t("generic.enabled"),value:!0},{label:this.t("generic.disabled"),value:!1}],a=[{label:this.t("storageClass.customize.volumeBindingMode.now"),value:P},{label:this.t("harvester.storage.customize.volumeBindingMode.later"),value:q}],o=(0,M.o8)(this.value.allowedTopologies?.[0]?.matchLabelExpressions||[]).filter((e=>e.key!==$));this.value["parameters"]=this.value.parameters||{},this.value["provisioner"]=this.value.provisioner||D.lI,this.value["allowVolumeExpansion"]=this.value.allowVolumeExpansion||t[0].value,this.value["reclaimPolicy"]=this.value.reclaimPolicy||e[0].value,this.value.provisioner===D.lI&&(this.value["parameters"]["dataEngine"]=this.value.longhornVersion,this.value["volumeBindingMode"]=this.value.volumeBindingMode||P),this.value.provisioner===I.LVM_DRIVER&&(this.value["volumeBindingMode"]=this.value.volumeBindingMode||q);let l=`${this.value.provisioner||D.lI}`;return l===D.lI&&(l=`${l}_${this.value.longhornVersion}`),{LVM_DRIVER:I.LVM_DRIVER,reclaimPolicyOptions:e,allowVolumeExpansionOptions:t,volumeBindingModeOptions:a,mountOptions:[],STORAGE_CLASS:D.fJ,provisioner:l,allowedTopologies:o,defaultAddValue:{key:"",values:[]}}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={namespaces:this.$store.dispatch(`${e}/findAll`,{type:D.CU}),storages:this.$store.dispatch(`${e}/findAll`,{type:D.fJ}),longhornNodes:this.$store.dispatch(`${e}/findAll`,{type:D.oe.NODES}),csiDrivers:this.$store.dispatch(`${e}/findAll`,{type:L.Zq})};this.value.longhornV2LVMSupport&&(t.longhornV2DataEngine=this.$store.dispatch(`${e}/find`,{type:D.oe.SETTINGS,id:R})),this.value.volumeEncryptionFeatureEnabled&&(t.secrets=this.$store.dispatch(`${e}/findAll`,{type:D.bB})),await(0,U.kR)(t)},computed:{showUnsupportedStorage:(0,_.r$)(_.Wt),inStore(){return this.$store.getters["currentProduct"].inStore},modeOverride(){return this.isCreate?x.YQ:x.nW},provisioners(){const e=[],t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters[`${t}/all`](L.Zq)||[];return a.forEach((({name:t})=>{switch(t){case D.lI:e.push({label:`harvester.storage.storageClass.longhorn.${O.DATA_ENGINE_V1}.label`,value:`${t}_${O.DATA_ENGINE_V1}`}),this.longhornSystemVersion!==O.DATA_ENGINE_V2&&this.value.longhornVersion!==O.DATA_ENGINE_V2||e.push({label:`harvester.storage.storageClass.longhorn.${O.DATA_ENGINE_V2}.label`,value:`${t}_${O.DATA_ENGINE_V2}`});break;case I.LVM_DRIVER:e.push({label:"harvester.storage.storageClass.lvm.label",value:t});break}})),e},schema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](D.fJ)},longhornSystemVersion(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](D.oe.SETTINGS,R)||{};return"true"===t.value?O.DATA_ENGINE_V2:O.DATA_ENGINE_V1}},watch:{provisioner(e){const[t,a]=e?.split("_");let o={};if(t===I.LVM_DRIVER){const e=(this.value.allowedTopologies?.[0]?.matchLabelExpressions||[]).filter((e=>e.key!==$));e.length>0?this.value["allowedTopologies"]=[{matchLabelExpressions:e}]:delete this.value.allowedTopologies,this.value["volumeBindingMode"]=q}t===D.lI&&(o={dataEngine:a},this.value["volumeBindingMode"]=P),this.value["provisioner"]=t,this.value["allowVolumeExpansion"]=this.value.provisioner===D.lI,this.value["parameters"]=o}},created(){this.registerBeforeHook(this.willSave,"willSave")},methods:{getComponent(e){try{return a(6232)(`./${e}`).default}catch{return a(43868)["default"]}},willSave(){Object.keys(this.value.parameters).forEach((e=>{null!==this.value.parameters[e]&&""!==this.value.parameters[e]||delete this.value.parameters[e]})),this.formatAllowedTopoloties()},formatAllowedTopoloties(){const e=this.allowedTopologies.filter((e=>e.key!==$)),t=(this.value.allowedTopologies?.[0]?.matchLabelExpressions||[]).filter((e=>e.key===$));if(!e||0===e.length)return void(t.length>0?this.value.allowedTopologies=[{matchLabelExpressions:t}]:delete this.value.allowedTopologies);const a=e.filter((e=>!!e.key.trim()&&e.values.length>0&&!e.values.find((e=>!e.trim()))));a.length>0&&(this.value.allowedTopologies=[{matchLabelExpressions:[...a,...t]}])}}},G=(a(3823),a(47433));const K=(0,G.A)(F,[["render",f],["__scopeId","data-v-77af4bf8"]]);var j=K},43868:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("KeyValue");return(0,o.openBlock)(),(0,o.createBlock)(n,{value:a.value.parameters,"onUpdate:value":t[0]||(t[0]=e=>a.value.parameters=e),"add-label":e.t("storageClass.custom.addLabel"),"read-allowed":!1,mode:a.mode},null,8,["value","add-label","mode"])}var s=a(74457),r={components:{KeyValue:s.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},n=a(47433);const i=(0,n.A)(r,[["render",l]]);var d=i},81649:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-10"},i={class:"col span-6"},d={key:0,class:"text-muted"},c={class:"col span-6"},u={key:0,class:"text-muted"},p={class:"row mt-20"},m={class:"row mt-20"},v={key:0,class:"row mt-20"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,o.resolveComponent)("LabeledInput"),N=(0,o.resolveComponent)("LabeledSelect"),k=(0,o.resolveComponent)("RadioGroup"),V=(0,o.resolveComponent)("KeyValue");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(y,{value:f.numberOfReplicas,"onUpdate:value":t[0]||(t[0]=e=>f.numberOfReplicas=e),label:e.t("harvester.storage.parameters.numberOfReplicas.label"),required:!0,mode:a.mode,min:"1",max:"3",type:"number"},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(y,{value:a.value.parameters.staleReplicaTimeout,"onUpdate:value":t[1]||(t[1]=e=>a.value.parameters.staleReplicaTimeout=e),label:e.t("harvester.storage.parameters.staleReplicaTimeout.label"),required:!0,mode:a.mode,type:"number"},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(N,{value:f.nodeSelector,"onUpdate:value":t[2]||(t[2]=e=>f.nodeSelector=e),label:e.t("harvester.storage.parameters.nodeSelector.label"),options:f.nodeTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,o.withCtx)((({searching:t})=>[t?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("span",d,(0,o.toDisplayString)(e.t("harvester.storage.parameters.nodeSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(N,{value:f.diskSelector,"onUpdate:value":t[3]||(t[3]=e=>f.diskSelector=e),label:e.t("harvester.storage.parameters.diskSelector.label"),options:f.diskTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,o.withCtx)((({searching:t})=>[t?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("span",u,(0,o.toDisplayString)(e.t("harvester.storage.parameters.diskSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])])]),a.value.volumeEncryptionFeatureEnabled?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",p,[(0,o.createVNode)(k,{value:a.value.parameters.migratable,"onUpdate:value":t[4]||(t[4]=e=>a.value.parameters.migratable=e),name:"layer3NetworkMode",label:e.t("harvester.storage.parameters.migratable.label"),mode:a.mode,options:f.migratableOptions},null,8,["value","label","mode","options"])]),(0,o.createElementVNode)("div",m,[(0,o.createVNode)(k,{value:f.volumeEncryption,"onUpdate:value":t[5]||(t[5]=e=>f.volumeEncryption=e),name:"volumeEncryption",label:e.t("harvester.storage.volumeEncryption"),mode:a.mode,options:f.volumeEncryptionOptions},null,8,["value","label","mode","options"])]),"true"===a.value.parameters.encrypted?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createVNode)(N,{value:f.secret,"onUpdate:value":t[6]||(t[6]=e=>f.secret=e),label:e.t("harvester.storage.secret"),options:f.secretOptions,mode:a.mode},null,8,["value","label","options","mode"])])])):(0,o.createCommentVNode)("",!0)],64)):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(V,{value:f.parameters,"onUpdate:value":t[7]||(t[7]=e=>f.parameters=e),"add-label":e.t("storageClass.longhorn.addLabel"),"read-allowed":!1,mode:a.mode,class:"mt-10"},null,8,["value","add-label","mode"])])}var g=a(74457),f=a(70052),y=a(53512),N=a(77163),k=a(4284),V=a(75040),E=a(66905),w=a(65852),C=a(24759),S=a(15908);const B=["numberOfReplicas","staleReplicaTimeout","diskSelector","nodeSelector","migratable","encrypted","dataEngine"],{CSI_PROVISIONER_SECRET_NAME:A,CSI_PROVISIONER_SECRET_NAMESPACE:x,CSI_NODE_PUBLISH_SECRET_NAME:_,CSI_NODE_PUBLISH_SECRET_NAMESPACE:D,CSI_NODE_STAGE_SECRET_NAME:U,CSI_NODE_STAGE_SECRET_NAMESPACE:M}=E.Et;var L={name:"DriverLonghornIOV1",components:{KeyValue:g.A,LabeledSelect:f.A,LabeledInput:y.o,RadioGroup:N.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},realMode:{type:String,required:!0}},data(){return this.realMode===V.YQ&&(this.value["parameters"]={numberOfReplicas:"3",staleReplicaTimeout:"30",diskSelector:null,nodeSelector:null,encrypted:"false",migratable:"true",dataEngine:S.DATA_ENGINE_V1}),{}},computed:{secrets(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](k.bB);return t.filter((e=>!1===e.isSystem))},longhornNodes(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/all`](k.oe.NODES)},nodeTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.tags||[];return(0,C.sb)([...e,...a])}),[])},diskTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.disks,o=Object.keys(a).reduce(((e,t)=>{const o=a[t]?.tags||[];return(0,C.sb)([...e,...o])}),[]);return(0,C.sb)([...e,...o])}),[])},isView(){return this.mode===V.nW},migratableOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},secretOptions(){return this.secrets.map((e=>e.id))},volumeEncryptionOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},parameters:{get(){const e=(0,w.o8)(this.value?.parameters)||{};return B.forEach((t=>{delete e[t]})),Object.values(E.Et).forEach((t=>{delete e[t]})),e},set(e){Object.assign(this.value.parameters,e)}},volumeEncryption:{set(e){this.value["parameters"]={...this.value.parameters,encrypted:e}},get(){return this.value?.parameters?.encrypted||"false"}},secret:{get(){const e=this.value.parameters[x],t=this.value.parameters[A];return e&&t?`${e}/${t}`:""},set(e){const[t,a]=e.split("/");this.value["parameters"]={...this.value.parameters,[A]:a,[_]:a,[U]:a,[x]:t,[D]:t,[M]:t}}},nodeSelector:{get(){const e=this.value?.parameters?.nodeSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.nodeSelector=(e||[]).join(",")}},diskSelector:{get(){const e=this.value?.parameters?.diskSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.diskSelector=(e||[]).join(",")}},numberOfReplicas:{get(){return this.value?.parameters?.numberOfReplicas},set(e){e>=1&&e<=3&&(this.value.parameters.numberOfReplicas=String(e))}}}},T=(a(58110),a(47433));const O=(0,T.A)(L,[["render",b],["__scopeId","data-v-5c90780c"]]);var I=O},42243:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-10"},i={class:"col span-6"},d={key:0,class:"text-muted"},c={class:"col span-6"},u={key:0,class:"text-muted"},p={class:"row mt-20"},m={class:"row mt-20"},v={key:0,class:"row mt-20"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,o.resolveComponent)("LabeledInput"),N=(0,o.resolveComponent)("LabeledSelect"),k=(0,o.resolveComponent)("RadioGroup"),V=(0,o.resolveComponent)("KeyValue");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(y,{value:f.numberOfReplicas,"onUpdate:value":t[0]||(t[0]=e=>f.numberOfReplicas=e),label:e.t("harvester.storage.parameters.numberOfReplicas.label"),required:!0,mode:a.mode,min:"1",max:"3",type:"number"},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(y,{value:a.value.parameters.staleReplicaTimeout,"onUpdate:value":t[1]||(t[1]=e=>a.value.parameters.staleReplicaTimeout=e),label:e.t("harvester.storage.parameters.staleReplicaTimeout.label"),required:!0,mode:a.mode,type:"number"},null,8,["value","label","mode"])])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(N,{value:f.nodeSelector,"onUpdate:value":t[2]||(t[2]=e=>f.nodeSelector=e),label:e.t("harvester.storage.parameters.nodeSelector.label"),options:f.nodeTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,o.withCtx)((({searching:t})=>[t?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("span",d,(0,o.toDisplayString)(e.t("harvester.storage.parameters.nodeSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(N,{value:f.diskSelector,"onUpdate:value":t[3]||(t[3]=e=>f.diskSelector=e),label:e.t("harvester.storage.parameters.diskSelector.label"),options:f.diskTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,o.withCtx)((({searching:t})=>[t?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("span",u,(0,o.toDisplayString)(e.t("harvester.storage.parameters.diskSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(k,{value:a.value.parameters.migratable,"onUpdate:value":t[4]||(t[4]=e=>a.value.parameters.migratable=e),name:"layer3NetworkMode",label:e.t("harvester.storage.parameters.migratable.label"),mode:a.mode,options:f.migratableOptions,disabled:!0},null,8,["value","label","mode","options"])]),(0,o.createElementVNode)("div",m,[(0,o.createVNode)(k,{value:f.volumeEncryption,"onUpdate:value":t[5]||(t[5]=e=>f.volumeEncryption=e),name:"volumeEncryption",label:e.t("harvester.storage.volumeEncryption"),mode:a.mode,options:f.volumeEncryptionOptions,disabled:!0},null,8,["value","label","mode","options"])]),"true"===a.value.parameters.encrypted?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createVNode)(N,{value:f.secret,"onUpdate:value":t[6]||(t[6]=e=>f.secret=e),label:e.t("harvester.storage.secret"),options:f.secretOptions,mode:a.mode},null,8,["value","label","options","mode"])])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(V,{value:f.parameters,"onUpdate:value":t[7]||(t[7]=e=>f.parameters=e),"add-label":e.t("storageClass.longhorn.addLabel"),"read-allowed":!1,mode:a.mode,class:"mt-10"},null,8,["value","add-label","mode"])])}var g=a(74457),f=a(70052),y=a(53512),N=a(77163),k=a(4284),V=a(75040),E=a(66905),w=a(65852),C=a(24759),S=a(15908);const B=["numberOfReplicas","staleReplicaTimeout","diskSelector","nodeSelector","migratable","encrypted","dataEngine"],{CSI_PROVISIONER_SECRET_NAME:A,CSI_PROVISIONER_SECRET_NAMESPACE:x,CSI_NODE_PUBLISH_SECRET_NAME:_,CSI_NODE_PUBLISH_SECRET_NAMESPACE:D,CSI_NODE_STAGE_SECRET_NAME:U,CSI_NODE_STAGE_SECRET_NAMESPACE:M}=E.Et;var L={name:"DriverLonghornIOV2",components:{KeyValue:g.A,LabeledSelect:f.A,LabeledInput:y.o,RadioGroup:N.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},realMode:{type:String,required:!0}},data(){return this.realMode===V.YQ&&(this.value["parameters"]={numberOfReplicas:"3",staleReplicaTimeout:"30",diskSelector:null,nodeSelector:null,encrypted:"false",migratable:"false",dataEngine:S.DATA_ENGINE_V2}),{}},computed:{secrets(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](k.bB);return t.filter((e=>!1===e.isSystem))},longhornNodes(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/all`](k.oe.NODES)},nodeTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.tags||[];return(0,C.sb)([...e,...a])}),[])},diskTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.disks,o=Object.keys(a).reduce(((e,t)=>{const o=a[t]?.tags||[];return(0,C.sb)([...e,...o])}),[]);return(0,C.sb)([...e,...o])}),[])},isView(){return this.mode===V.nW},migratableOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},secretOptions(){return this.secrets.map((e=>e.id))},volumeEncryptionOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},parameters:{get(){const e=(0,w.o8)(this.value?.parameters)||{};return B.forEach((t=>{delete e[t]})),Object.values(E.Et).forEach((t=>{delete e[t]})),e},set(e){Object.assign(this.value.parameters,e)}},volumeEncryption:{set(e){this.value["parameters"]={...this.value.parameters,encrypted:e}},get(){return this.value?.parameters?.encrypted||"false"}},secret:{get(){const e=this.value.parameters[x],t=this.value.parameters[A];return e&&t?`${e}/${t}`:""},set(e){const[t,a]=e.split("/");this.value["parameters"]={...this.value.parameters,[A]:a,[_]:a,[U]:a,[x]:t,[D]:t,[M]:t}}},nodeSelector:{get(){const e=this.value?.parameters?.nodeSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.nodeSelector=(e||[]).join(",")}},diskSelector:{get(){const e=this.value?.parameters?.diskSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.diskSelector=(e||[]).join(",")}},numberOfReplicas:{get(){return this.value?.parameters?.numberOfReplicas},set(e){e>=1&&e<=3&&(this.value.parameters.numberOfReplicas=String(e))}}}},T=(a(32163),a(47433));const O=(0,T.A)(L,[["render",b],["__scopeId","data-v-2460a262"]]);var I=O},14257:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var o=a(9274);const l={class:"row mt-10"},s={class:"col span-6"},r={key:0,class:"text-muted"},n={class:"row mt-10"},i={class:"col span-6"},d={key:0,class:"text-muted"},c={class:"col span-6"};function u(e,t,a,u,p,m){const v=(0,o.resolveComponent)("LabeledSelect"),h=(0,o.resolveComponent)("KeyValue");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(v,{value:p.node,"onUpdate:value":t[0]||(t[0]=e=>p.node=e),label:e.t("harvester.storage.parameters.node.label"),options:m.nodes,mode:a.mode,required:!0},{"no-options":(0,o.withCtx)((({searching:t})=>[t?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("span",r,(0,o.toDisplayString)(e.t("harvester.storage.parameters.diskSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(v,{value:a.value.parameters.vgName,"onUpdate:value":t[1]||(t[1]=e=>a.value.parameters.vgName=e),label:e.t("harvester.storage.parameters.lvmVolumeGroup.label"),options:m.volumeGroups,mode:a.mode,required:!0},{"no-options":(0,o.withCtx)((({searching:t})=>[t?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("span",d,(0,o.toDisplayString)(e.t("harvester.storage.parameters.lvmVolumeGroup.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(v,{value:a.value.parameters.type,"onUpdate:value":t[2]||(t[2]=e=>a.value.parameters.type=e),label:e.t("harvester.storage.parameters.lvmVolumeGroupType.label"),options:p.volumeGroupTypes,mode:a.mode,required:!0},null,8,["value","label","options","mode"])])]),(0,o.createVNode)(h,{value:m.parameters,"onUpdate:value":t[3]||(t[3]=e=>m.parameters=e),"add-label":e.t("storageClass.longhorn.addLabel"),"read-allowed":!1,mode:a.mode,class:"mt-10"},null,8,["value","add-label","mode"])])}var p=a(74457),m=a(70052),v=a(68844),h=a(65852),b=a(32766),g=a(4284),f=a(13190);const y=["type","vgName"],N=[{matchLabelExpressions:[{key:f.LVM_TOPOLOGY_LABEL,values:[]}]}];var k={components:{KeyValue:p.A,LabeledSelect:m.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},realMode:{type:String,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,v.kR)({nodes:this.$store.dispatch(`${e}/findAll`,{type:g.NW}),lvmVolumeGroups:this.$store.dispatch(`${e}/findAll`,{type:b.rk.LVM_VOLUME_GROUP})})},data(){const e=(this.value.allowedTopologies?.[0]?.matchLabelExpressions||[]).find((e=>e.key===f.LVM_TOPOLOGY_LABEL))?.values[0];return{volumeGroupTypes:["striped","dm-thin"],node:e}},watch:{node(e){delete this.value.parameters.vgName;const t=[...N];t[0].matchLabelExpressions[0].values=[e],this.value.allowedTopologies=t}},computed:{nodes(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](g.NW)||[];return t.filter((e=>e.labels[f.LVM_TOPOLOGY_LABEL]===e.name)).map((e=>e.name))},volumeGroups(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](b.rk.LVM_VOLUME_GROUP)||[];return t.filter((e=>e.spec.nodeName===this.node)).map((e=>e.spec.vgName))},parameters:{get(){const e=(0,h.o8)(this.value?.parameters)||{};return y.map((t=>{delete e[t]})),e},set(e){Object.assign(this.value.parameters,e)}}}},V=(a(83267),a(47433));const E=(0,V.A)(k,[["render",u],["__scopeId","data-v-6afc4f36"]]);var w=E},57717:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var o=a(9274);const l={id:"restore"},s={class:"content"},r={class:"mb-20"},n={class:"row"},i={class:"col span-6"},d={class:"col span-6"};function c(e,t,a,c,u,p){const m=(0,o.resolveComponent)("RadioGroup"),v=(0,o.resolveComponent)("LabeledSelect"),h=(0,o.resolveComponent)("LabeledInput"),b=(0,o.resolveComponent)("Checkbox"),g=(0,o.resolveComponent)("Footer");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(m,{value:u.restoreNewVm,"onUpdate:value":t[0]||(t[0]=e=>u.restoreNewVm=e),name:"model",options:[!0,!1],labels:[e.t("harvester.backup.restore.createNew"),e.t("harvester.backup.restore.replaceExisting")],disabled:p.disableExisting,mode:e.mode},null,8,["value","labels","disabled","mode"])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(v,{value:u.namespace,"onUpdate:value":t[1]||(t[1]=e=>u.namespace=e),disabled:!u.restoreNewVm,label:e.t("nameNsDescription.namespace.label"),options:p.namespaces},null,8,["value","disabled","label","options"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(h,{value:u.name,"onUpdate:value":t[2]||(t[2]=e=>u.name=e),disabled:!u.restoreNewVm,label:e.t("harvester.backup.restore.virtualMachineName"),placeholder:e.t("nameNsDescription.name.placeholder"),class:"mb-20"},null,8,["value","disabled","label","placeholder"])])]),(0,o.createVNode)(v,{value:u.backupName,"onUpdate:value":t[3]||(t[3]=e=>u.backupName=e),class:"mb-20",label:e.t("harvester.backup.restore.backup"),options:p.backupOption},null,8,["value","label","options"]),u.restoreNewVm?((0,o.openBlock)(),(0,o.createBlock)(b,{key:0,value:u.restoreResource.spec.keepMacAddress,"onUpdate:value":t[4]||(t[4]=e=>u.restoreResource.spec.keepMacAddress=e),type:"checkbox",label:e.t("harvester.backup.restore.keepMacAddress")},null,8,["value","label"])):(0,o.createCommentVNode)("",!0),u.restoreNewVm?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(v,{key:1,value:u.deletionPolicy,"onUpdate:value":t[5]||(t[5]=e=>u.deletionPolicy=e),label:e.t("harvester.backup.restore.deletePreviousVolumes"),options:p.deletionPolicyOption},null,8,["value","label","options"]))]),(0,o.createVNode)(g,{mode:"create",class:"footer",errors:e.errors,onSave:p.saveRestore,onDone:p.cancelAction},null,8,["errors","onSave","onDone"])])}var u=a(71802),p=a(83328),m=a(53512),v=a(87732),h=a(70052),b=a(81357),g=a(68844),f=a(71898),y=a(98258),N=a(65852),k=a(32766),V=a(41837);const E={apiVersion:"harvesterhci.io/v1beta1",kind:"VirtualMachineRestore",metadata:{name:"",namespace:""},type:k.rk.RESTORE,spec:{target:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:""},virtualMachineBackupName:"",newVM:!0,deletionPolicy:"delete"}};var w={name:"CreateRestore",components:{Checkbox:v.A,Footer:u.A,RadioGroup:p.z,LabeledInput:m.o,LabeledSelect:h.A},mixins:[b.A],async fetch(){await(0,g.kR)({backups:this.$store.dispatch("harvester/findAll",{type:k.rk.BACKUP}),vms:this.$store.dispatch("harvester/findAll",{type:k.rk.VM})})},data(){const e=this.$route.query?.restoreMode,t=this.$route.query?.resourceName,a=(0,N.o8)(E),o="new"===e||void 0===e;return{backupName:t,restoreNewVm:o,restoreResource:a,name:"",description:"",deletionPolicy:"delete",namespace:""}},computed:{backupOption(){const e=this.$store.getters["harvester/all"](k.rk.BACKUP);return e.filter((e=>{const t=this.restoreNewVm||e.attachVmExisting;return t&&e?.status?.readyToUse&&e.spec?.type!==V.a.SNAPSHOT})).map((e=>({label:e.metadata.name,value:e.metadata.name})))},deletionPolicyOption(){return[{value:"delete",label:"Delete"},{value:"retain",label:"Retain"}]},currentBackupResource(){const e=this.backupName,t=this.$store.getters["harvester/all"](k.rk.BACKUP);return t.find((t=>t.name===e))},disableExisting(){return!this.currentBackupResource?.attachVmExisting},backupNamespace(){const e=this.$store.getters["harvester/all"](k.rk.BACKUP);return e.find((e=>e.metadata.name===this.backupName))?.metadata?.namespace},namespaces(){const e=this.$store.getters["allNamespaces"],t=(0,y.Ul)(e.map((e=>({label:e.nameDisplay,value:e.id}))),"label");return t}},watch:{backupName:{handler(e){this.currentBackupResource&&(this.restoreNewVm||(this.name=this?.currentBackupResource?.attachVM)),this.restoreResource.spec.virtualMachineBackupName=e},immediate:!0},restoreNewVm(e){this.name=e?"":this?.currentBackupResource?.attachVM},backupNamespace:{handler(e){this.namespace=e},immediate:!0}},methods:{cancelAction(){this.$router.go(-1)},async saveRestore(e){this.update();const t=await this.$store.dispatch("harvester/create",this.restoreResource);t.metadata.namespace=this.namespace,t.spec.virtualMachineBackupNamespace=this.backupNamespace;try{await t.save(),e(!0),this.$router.push({name:this.doneRoute,params:{resource:k.rk.VM}})}catch(a){this.errors=(0,f.rz)(a)||a,e(!1)}},update(){this.restoreResource.metadata.generateName=`restore-${this.backupName}-`,this.name&&(this.restoreResource.spec.target.name=this.name),this.restoreNewVm?(delete this.restoreResource.spec.deletionPolicy,this.restoreResource.spec.newVM=!0):(this.restoreResource.spec.deletionPolicy=this.deletionPolicy,delete this.restoreResource.spec.newVM,delete this.restoreResource.spec.keepMacAddress)}},componentTitle(){return"restoreVM"}},C=(a(4008),a(47433));const S=(0,C.A)(w,[["render",c],["__scopeId","data-v-dcf8e7de"]]);var B=S},6173:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return q}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-730da7fd"),e=e(),(0,o.popScopeId)(),e),s={class:"row mb-20 mt-20"},r={class:"col span-12"},n={key:2},i={key:2,class:"fileName mt-5"},d=l((()=>(0,o.createElementVNode)("span",{class:"icon icon-file"},null,-1))),c={class:"row"},u={class:"col span-6"},p=["onUpdate:modelValue","disabled","placeholder","onUpdate:value"];function m(e,t,a,l,m,v){const h=(0,o.resolveComponent)("NameNsDescription"),b=(0,o.resolveComponent)("RadioGroup"),g=(0,o.resolveComponent)("LabeledInput"),f=(0,o.resolveComponent)("LabeledSelect"),y=(0,o.resolveComponent)("Tab"),N=(0,o.resolveComponent)("Select"),k=(0,o.resolveComponent)("KeyValue"),V=(0,o.resolveComponent)("Tabbed"),E=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(E,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"can-yaml":!!v.showEditAsYaml,"apply-hooks":e.applyHooks,onFinish:v.saveImage,onError:t[11]||(t[11]=t=>e.errors=t)},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{ref:"nd",value:a.value,mode:e.mode,label:e.t("generic.name"),"name-key":"spec.displayName","onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","label"]),(0,o.createVNode)(V,(0,o.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,o.withCtx)((()=>[(0,o.createVNode)(y,{name:"basic",label:e.t("harvester.image.tabs.basics"),weight:99,class:"bordered-table"},{default:(0,o.withCtx)((()=>[e.isCreate?((0,o.openBlock)(),(0,o.createBlock)(b,{key:0,value:v.sourceType,"onUpdate:value":t[1]||(t[1]=e=>v.sourceType=e),name:"model",options:v.radioGroupOptions,labels:[e.t("harvester.image.sourceType.download"),e.t("harvester.image.sourceType.upload"),e.t("harvester.image.sourceType.encrypt"),e.t("harvester.image.sourceType.decrypt")],mode:e.mode},null,8,["value","options","labels","mode"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[e.isCreate?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(g,{key:0,value:a.value.spec.sourceType,"onUpdate:value":t[2]||(t[2]=e=>a.value.spec.sourceType=e),mode:e.mode,class:"mb-20",disabled:e.isEdit,"label-key":"harvester.image.source"},null,8,["value","mode","disabled"])),"download"===a.value.spec.sourceType?((0,o.openBlock)(),(0,o.createBlock)(g,{key:1,value:a.value.spec.url,"onUpdate:value":t[3]||(t[3]=e=>a.value.spec.url=e),mode:e.mode,disabled:e.isEdit,class:"mb-20 labeled-input--tooltip",required:"","label-key":"harvester.image.url",tooltip:e.t("harvester.image.urlTip",{},!0)},null,8,["value","mode","disabled","tooltip"])):"upload"===a.value.spec.sourceType?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[e.isView?((0,o.openBlock)(),(0,o.createBlock)(g,{key:0,value:v.imageName,"onUpdate:value":t[4]||(t[4]=e=>v.imageName=e),mode:e.mode,class:"mt-20","label-key":"harvester.image.fileName"},null,8,["value","mode"])):(0,o.createCommentVNode)("",!0),e.isCreate?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,type:"button",class:"btn role-primary",onClick:t[6]||(t[6]=(...e)=>v.selectFile&&v.selectFile(...e))},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.t("harvester.image.uploadFile")),1),(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"file",ref:"file",type:"file",accept:".qcow, .qcow2, .raw, .img, .iso",onChange:t[5]||(t[5]=e=>v.handleFileUpload())},null,544),[[o.vShow,!1]])])):(0,o.createCommentVNode)("",!0),v.uploadFileName?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[d,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(v.uploadFileName),1)])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),"download"===a.value.spec.sourceType?((0,o.openBlock)(),(0,o.createBlock)(g,{key:3,value:a.value.spec.checksum,"onUpdate:value":t[7]||(t[7]=e=>a.value.spec.checksum=e),mode:e.mode,disabled:e.isEdit,"label-key":"harvester.image.checksum",tooltip:e.t("harvester.image.checksumTip")},null,8,["value","mode","disabled","tooltip"])):(0,o.createCommentVNode)("",!0),"clone"===a.value.spec.sourceType?((0,o.openBlock)(),(0,o.createBlock)(f,{key:4,value:v.sourceImage,"onUpdate:value":t[8]||(t[8]=e=>v.sourceImage=e),options:v.sourceImageOptions,label:e.t("harvester.image.sourceImage"),mode:e.mode,disabled:e.isEdit,class:"mb-20"},null,8,["value","options","label","mode","disabled"])):(0,o.createCommentVNode)("",!0)])])])),_:1},8,["label"]),(0,o.createVNode)(y,{name:"storage",label:e.t("harvester.storage.label"),weight:89,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(f,{value:v.storageClassName,"onUpdate:value":t[9]||(t[9]=e=>v.storageClassName=e),options:v.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),mode:e.mode,disabled:e.isEdit,class:"mb-20"},null,8,["value","options","label","mode","disabled"])])])])),_:1},8,["label"]),(0,o.createVNode)(y,{name:"labels",label:e.t("labels.labels.title"),weight:2,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(k,{key:"labels",ref:"labels",value:a.value.labels,"add-label":e.t("labels.addLabel"),mode:e.mode,"pad-left":!1,"read-allowed":!1,onFocusKey:v.focusKey,"onUpdate:value":t[10]||(t[10]=e=>a.value.setLabels(e))},{value:(0,o.withCtx)((({row:t,keyName:a,valueName:l,queueUpdate:s})=>[v.internalAnnotations(t)?((0,o.openBlock)(),(0,o.createBlock)(N,{key:0,value:t[l],"onUpdate:value":[e=>t[l]=e,s],mode:e.mode,searchable:!0,clearable:!1,options:v.calculateOptions(t[a])},null,8,["value","onUpdate:value","mode","options"])):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>t[l]=e,disabled:e.isView,type:"text",placeholder:e.t("keyValue.valuePlaceholder"),autocorrect:"off",autocapitalize:"off",spellcheck:"false","onUpdate:value":s},null,40,p)),[[o.vModelDynamic,t[l]]])])),_:1},8,["value","add-label","mode","onFocusKey"])])),_:1},8,["label"])])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","can-yaml","apply-hooks","onFinish"])}var v=a(66210),h=a(35244),b=a(12327),g=a(53512),f=a(74457),y=a(83504),N=a(83328),k=a(84818),V=a(70052),E=a(81357),w=a(2602),C=a(71898),S=a(68844),B=a(4284),A=a(52880),x=a(48249),_=a(32766),D=a(82877);const U="encrypt",M="decrypt",L="clone",T="download",O="upload",I="raw_qcow2";var R={name:"EditImage",inheritAttrs:!1,emits:["update:value"],components:{Tab:b.A,Tabbed:h.A,KeyValue:f.A,Select:k.A,CruResource:v.A,LabeledInput:g.o,NameNsDescription:y.A,RadioGroup:N.z,LabeledSelect:V.A},mixins:[E.A],props:{value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,S.kR)({images:this.$store.dispatch(`${e}/findAll`,{type:_.rk.IMAGE}),storageClasses:this.$store.dispatch(`${e}/findAll`,{type:B.fJ})});const t=this.$store.getters[`${e}/all`](B.fJ).find((e=>e.isDefault));this["storageClassName"]=this.storageClassName||t?.metadata?.name||"longhorn",this.images=this.$store.getters[`${e}/all`](_.rk.IMAGE);const{securityParameters:a}=this.value.spec;if(a){const e=`${a.sourceImageNamespace}/${a.sourceImageName}`;this.selectedImage=this.images.find((t=>t.id===e))}},data(){const{image:e,sourceType:t,cryptoOperation:a}=this.$route.query||{};if(this.value.spec||(this.value["spec"]={sourceType:t||T}),e&&a){const t=JSON.parse(e);this.value.spec.securityParameters={cryptoOperation:a,sourceImageName:t.metadata.name,sourceImageNamespace:t.metadata.namespace}}return this.value.metadata.name||(this.value.metadata.generateName="image-"),{selectedImage:null,images:[],url:this.value.spec.url,files:[],resource:"",headers:{},fileUrl:"",file:""}},computed:{uploadFileName(){return this.file?.name||""},imageName(){return this.value?.metadata?.annotations?.[w.r.IMAGE_NAME]||"-"},isCreateEdit(){return this.isCreate||this.isEdit},showEditAsYaml(){return this.value.spec.sourceType===T||this.value.spec.sourceType===L},radioGroupOptions(){return this.value.volumeEncryptionFeatureEnabled?[T,O,U,M]:[T,O]},storageClassOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](B.fJ);return t.filter((e=>!e.parameters?.backingImage&&e.provisioner!==D.LVM_DRIVER)).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[]},storageClassName:{get(){return this.value.metadata.annotations[w.r.STORAGE_CLASS]},set(e){this.value.metadata.annotations[w.r.STORAGE_CLASS]=e}},sourceImageOptions(){let e=[];return this.value.spec.sourceType!==L?e:(e=this.value.spec.securityParameters.cryptoOperation===U?this.images.filter((e=>!e.isEncrypted)):this.images.filter((e=>e.isEncrypted)),e.map((e=>e.displayNameWithNamespace)))},sourceImage:{get(){return this.selectedImage?this.selectedImage.displayNameWithNamespace:""},set(e){this.selectedImage=this.images.find((t=>t.displayNameWithNamespace===e)),this.value.spec.securityParameters.sourceImageName=this.selectedImage?.metadata.name||"",this.value.spec.securityParameters.sourceImageNamespace=this.selectedImage?.metadata.namespace||""}},sourceType:{get(){return this.value.spec.sourceType===L?this.value.spec?.securityParameters?.cryptoOperation:this.value.spec.sourceType},set(e){e===M||e===U?(this.value.spec.sourceType=L,this.value.spec["securityParameters"]={cryptoOperation:e,sourceImageName:"",sourceImageNamespace:this.value.metadata.namespace},this.selectedImage=null):(delete this.value.spec["securityParameters"],this.value.spec.sourceType=e)}}},watch:{"value.spec.url"(e){const t=e.trim();this.setImageLabels(t)},"value.spec.sourceType"(){this["file"]=null,this.url="",this.$refs?.file?.value&&(this.$refs.file.value=null)}},methods:{async saveImage(e){if(this.value.spec.displayName=(this.value.spec.displayName||"").trim(),this.value.spec.sourceType===O&&this.isCreate)try{this.value.spec.url="";const t=this.file;this.value.metadata.annotations[w.r.IMAGE_NAME]=t?.name;const a=await this.value.save();a.uploadImage(t),e(!0),this.done()}catch(t){this.errors=(0,C.rz)(t),e(!1)}else this.value.spec.url=this.value.spec.url?.trim()||"",this.save(e)},setImageLabels(e){const t=e?.split("/")?.pop()||e,a=t?.split(".")?.pop()?.toLowerCase();if(A.Vi.includes(a)){const e="iso"===a?a:I;this.addLabel(w.r.IMAGE_SUFFIX,e),this.value.spec.displayName||this.$refs.nd.changeNameAndNamespace({text:t,selected:this.value.metadata.namespace})}const o=this.getOSType(e);o&&this.addLabel(w.r.OS_TYPE,o.value)},addLabel(e,t){const a=this.$refs.labels.rows;a.map(((t,a)=>{t.key===e&&this.$refs.labels.remove(a)})),this.$refs.labels.add(e,t)},handleFileUpload(){const e=this.$refs.file.files[0];this.file=e,this.setImageLabels(e?.name),this.value.spec.displayName||this.$refs.nd.changeNameAndNamespace({text:e?.name,selected:this.value.metadata.namespace}),this.setImageLabels()},selectFile(){this.$refs.file.value=null,this.$refs.file.click()},internalAnnotations(e){const t=[w.r.OS_TYPE,w.r.IMAGE_SUFFIX];return t.find((t=>t===e.key))},calculateOptions(e){return e===w.r.OS_TYPE?x.OS:e===w.r.IMAGE_SUFFIX?[{label:"ISO",value:"iso"},{label:"raw/qcow2",value:I}]:[]},focusKey(){this.$refs.key.focus()},getOSType(e){if(e)return x.OS.find((t=>t.match?!!t.match.find((t=>e.toLowerCase().includes(t)))&&t.value:!!e.toLowerCase().includes(t.value.toLowerCase())&&t.value))}}},$=(a(59743),a(47433));const P=(0,$.A)(R,[["render",m],["__scopeId","data-v-730da7fd"]]);var q=P},35322:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var o=a(9274);const l={class:"mb-20"},s={class:"row mb-20"},r={class:"col span-6"},n={class:"col span-6"},i={class:"row mb-20"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mb-20"},p={key:0},m={class:"row mb-20"},v={class:"col span-6"},h=(0,o.createElementVNode)("div",{class:"spacer"},null,-1);function b(e,t,a,b,g,f){const y=(0,o.resolveComponent)("NameNsDescription"),N=(0,o.resolveComponent)("Checkbox"),k=(0,o.resolveComponent)("CpuMemory"),V=(0,o.resolveComponent)("SSHKey"),E=(0,o.resolveComponent)("Tab"),w=(0,o.resolveComponent)("Volume"),C=(0,o.resolveComponent)("Network"),S=(0,o.resolveComponent)("NodeScheduling"),B=(0,o.resolveComponent)("PodAffinity"),A=(0,o.resolveComponent)("KeyValue"),x=(0,o.resolveComponent)("Labels"),_=(0,o.resolveComponent)("LabeledSelect"),D=(0,o.resolveComponent)("Reserved"),U=(0,o.resolveComponent)("UnitInput"),M=(0,o.resolveComponent)("CloudConfig"),L=(0,o.resolveComponent)("Tabbed"),T=(0,o.resolveComponent)("CruResource"),O=(0,o.resolveDirective)("t");return g.templateSpec&&e.spec?((0,o.openBlock)(),(0,o.createBlock)(T,{key:0,"done-route":e.doneRoute,resource:a.value,"can-yaml":!1,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:f.saveVMT},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(y,{value:a.value,mode:f.realTemplateMode,"name-label":"harvester.vmTemplate.nameNsDescription.name",namespaced:!0,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),g.templateId?((0,o.openBlock)(),(0,o.createBlock)(N,{key:0,value:g.isDefaultVersion,"onUpdate:value":t[1]||(t[1]=e=>g.isDefaultVersion=e),class:"mb-20",label:e.t("tableHeaders.defaultVersion"),type:"checkbox",mode:e.mode},null,8,["value","label","mode"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(L,{"side-tabs":!0,onChanged:f.onTabChanged},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(E,{name:"Basics",label:e.t("harvester.vmTemplate.tabs.basics")},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(k,{cpu:e.cpu,memory:e.memory,disabled:f.isConfig,onUpdateCpuMemory:e.updateCpuMemory},null,8,["cpu","memory","disabled","onUpdateCpuMemory"]),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(V,{value:e.sshKey,"onUpdate:value":t[2]||(t[2]=t=>e.sshKey=t),"create-namespace":!0,namespace:g.templateValue.metadata.namespace,"disable-create":e.isView,mode:e.mode,"onUpdate:sshKey":e.updateSSHKey},null,8,["value","namespace","disable-create","mode","onUpdate:sshKey"])])])),_:1},8,["label"]),(0,o.createVNode)(E,{name:"Volume",label:e.t("harvester.tab.volume"),weight:-1},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(w,{value:e.diskRows,"onUpdate:value":t[3]||(t[3]=t=>e.diskRows=t),mode:e.mode,namespace:a.value.metadata.namespace,"existing-volume-disabled":!0},null,8,["value","mode","namespace"])])),_:1},8,["label"]),(0,o.createVNode)(E,{name:"Network",label:e.t("harvester.tab.network"),weight:-2},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(C,{value:e.networkRows,"onUpdate:value":t[4]||(t[4]=t=>e.networkRows=t),mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"]),(0,o.createVNode)(E,{name:"nodeScheduling",label:e.t("workload.container.titles.nodeScheduling"),weight:-3},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodesIdOptions},null,8,["mode","value","nodes"])])),_:1},8,["label"]),(0,o.createVNode)(E,{label:e.t("harvester.tab.vmScheduling"),name:"vmScheduling",weight:-4},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(B,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodes,"all-namespaces-option-available":!0,namespaces:e.filteredNamespaces,"overwrite-labels":e.affinityLabels},null,8,["mode","value","nodes","namespaces","overwrite-labels"])])),_:1},8,["label"]),(0,o.createVNode)(E,{name:e.t("generic.labels"),label:e.t("harvester.tab.instanceLabel"),weight:-5},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{"default-container-class":"labels-and-annotations-container",value:a.value,mode:e.mode,"display-side-by-side":!1,"show-annotations":!1,"show-label-title":!1},{labels:(0,o.withCtx)((({toggler:l})=>[(0,o.createVNode)(A,{key:"labels",value:a.value.instanceLabels,"protected-keys":a.value.systemLabels||[],"toggle-filter":l,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,onInput:t[5]||(t[5]=e=>a.value.setInstanceLabels(e))},null,8,["value","protected-keys","toggle-filter","add-label","mode"])])),_:1},8,["value","mode"])])),_:1},8,["name","label"]),(0,o.createVNode)(E,{name:"advanced",label:e.t("harvester.tab.advanced"),weight:-99},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(_,{value:e.runStrategy,"onUpdate:value":t[6]||(t[6]=t=>e.runStrategy=t),"label-key":"harvester.virtualMachine.runStrategy",options:e.runStrategies,mode:e.mode},null,8,["value","options","mode"])]),(0,o.createElementVNode)("div",n,[(0,o.createVNode)(_,{value:e.osType,"onUpdate:value":t[7]||(t[7]=t=>e.osType=t),"label-key":"harvester.virtualMachine.osType",mode:e.mode,options:e.OS},null,8,["value","mode","options"])])]),(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(_,{value:e.maintenanceStrategy,"onUpdate:value":t[8]||(t[8]=t=>e.maintenanceStrategy=t),"label-key":"harvester.virtualMachine.maintenanceStrategy.label",options:e.maintenanceStrategies,"get-option-label":e.getMaintenanceStrategyOptionLabel,mode:e.mode},null,8,["value","options","get-option-label","mode"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(D,{"reserved-memory":e.reservedMemory,mode:e.mode,onUpdateReserved:e.updateReserved},null,8,["reserved-memory","mode","onUpdateReserved"])])]),(0,o.createElementVNode)("div",u,[e.showAdvanced?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:0,role:"button",onClick:t[9]||(t[9]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[O,"harvester.generic.showMore"]]):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:1,role:"button",onClick:t[10]||(t[10]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[O,"harvester.generic.showMore"]])]),e.showAdvanced?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(U,{value:e.terminationGracePeriodSeconds,"onUpdate:value":t[11]||(t[11]=t=>e.terminationGracePeriodSeconds=t),suffix:1==e.terminationGracePeriodSeconds?"Second":"Seconds",label:e.t("harvester.virtualMachine.terminationGracePeriodSeconds.label"),mode:e.mode,onChange:e.updateTerminationGracePeriodSeconds},null,8,["value","suffix","label","mode","onChange"])])])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(M,{ref:"yamlEditor",mode:e.mode,"user-script":e.userScript,namespace:g.templateValue.metadata.namespace,"network-script":e.networkScript,onUpdateUserData:e.updateUserData,onUpdateNetworkData:e.updateNetworkData},null,8,["mode","user-script","namespace","network-script","onUpdateUserData","onUpdateNetworkData"]),h,a.value.cpuPinningFeatureEnabled?((0,o.openBlock)(),(0,o.createBlock)(N,{key:1,modelValue:e.cpuPinning,"onUpdate:modelValue":t[12]||(t[12]=t=>e.cpuPinning=t),class:"check",type:"checkbox","tooltip-key":"harvester.virtualMachine.cpuPinning.tooltip","label-key":"harvester.virtualMachine.cpuPinning.label",mode:e.mode},null,8,["modelValue","mode"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(N,{value:e.installUSBTablet,"onUpdate:value":t[13]||(t[13]=t=>e.installUSBTablet=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.enableUsb"),mode:e.mode},null,8,["value","label","mode"]),(0,o.createVNode)(N,{value:e.installAgent,"onUpdate:value":t[14]||(t[14]=t=>e.installAgent=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.installAgent",mode:e.mode},null,8,["value","mode"]),(0,o.createVNode)(N,{value:e.tpmEnabled,"onUpdate:value":t[15]||(t[15]=t=>e.tpmEnabled=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.advancedOptions.tpm",mode:e.mode},null,8,["value","mode"]),(0,o.createVNode)(N,{value:e.efiEnabled,"onUpdate:value":t[16]||(t[16]=t=>e.efiEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.efiEnabled"),mode:e.mode},null,8,["value","label","mode"]),e.efiEnabled?((0,o.openBlock)(),(0,o.createBlock)(N,{key:2,value:e.secureBoot,"onUpdate:value":t[17]||(t[17]=t=>e.secureBoot=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.secureBoot"),mode:e.mode},null,8,["value","label","mode"])):(0,o.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["onChanged"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])):(0,o.createCommentVNode)("",!0)}var g=a(65359),f=a(35244),y=a(12327),N=a(3276),k=a(66210),V=a(83504),E=a(70052),w=a(58825),C=a(74457),S=a(18648),B=a(63949),A=a(43631),x=a(78359),_=a(75040),D=a(2602),U=a(81357),M=a(23443),L=a(32766),T=a(48249),O=a(5257),I=a(83141),R=a(8746),$=a(75403),P=a(81559),q=a(78025),F={name:"HarvesterEditVMTemplate",emits:["update:value"],components:{Tab:y.A,SSHKey:q["default"],Volume:I["default"],Tabbed:f.A,Network:R["default"],Checkbox:N.S,CpuMemory:$["default"],CruResource:k.A,CloudConfig:P["default"],LabeledSelect:E.A,NameNsDescription:V.A,NodeScheduling:S.A,PodAffinity:B.A,Reserved:O["default"],UnitInput:A.A,Labels:w.A,KeyValue:C.A},mixins:[U.A,T.Ay],inheritAttrs:!1,props:{value:{type:Object,required:!0}},data(){this.mode===_.G5&&this.value.cleanForNew();const e=this.value.templateId||this.$route.query.templateId;return{templateId:e,templateValue:null,templateSpec:null,versionName:"",description:"",defaultVersion:null,isDefaultVersion:!1}},computed:{...(0,g.L8)({t:"i18n/t"}),isConfig(){return this.$route.query?.as===_.au||this.isView},realTemplateMode(){return this.templateId?_.nW:this.mode},secretNamePrefix(){return this.templateValue?.metadata?.name}},watch:{templateId:{async handler(e){const t=await this.$store.dispatch("harvester/findAll",{type:L.rk.VM_TEMPLATE});let a=t.find((t=>t.id===e))||null,o=a?.spec;a||(o={description:"",defaultVersionId:""},a=await this.$store.dispatch("harvester/create",{metadata:{name:"",namespace:""},spec:o,type:L.rk.VM_TEMPLATE})),this.templateValue=a,this.templateSpec=o},immediate:!0}},created(){this.registerAfterHook((async()=>{if(this.isDefaultVersion){const t=await this.$store.dispatch("harvester/findAll",{type:L.rk.VM_VERSION,opt:{force:!0}}),a=t.find((e=>e?.metadata?.annotations?.[D.r.TEMPLATE_VERSION_CUSTOM_NAME]===this.customName));if(a)try{this.templateValue.defaultVersionId=a.id;const e=[{op:"replace",path:"/spec/defaultVersionId",value:a.id}];await this.templateValue.patch(e,{url:this.templateValue.linkFor("view")})}catch(e){return Promise.reject(new Error(e.message))}}}))},mounted(){this.imageId=this.diskRows[0]?.image||""},methods:{async saveVMT(e){this.parseVM();const t=await this.$store.dispatch("harvester/findAll",{type:L.rk.VM_TEMPLATE}),a=t.find((e=>e.metadata.name===this.templateValue.metadata.name));try{if(this.templateId)a.save();else{if(!this.templateValue?.metadata?.name)return this.errors=[this.t("validation.required",{key:this.t("harvester.vmTemplate.nameNsDescription.name")})],void e(!1);await this.templateValue.save()}this.value.cleanForNew(),this.customName=(0,x.vx)(10),this.value.metadata["annotations"]={...this.value.metadata.annotations,[D.r.TEMPLATE_VERSION_CUSTOM_NAME]:this.customName};const t=this.templateValue.metadata.name||a.metadata.name,o=this.templateValue.metadata.namespace||a.metadata.namespace;this.isCreate&&(this.value.metadata.namespace=o),this.value.spec["templateId"]=`${o}/${t}`;const l=await this.value.save();await this.saveSecret(l),await this.applyHooks(M.Mz),this.done()}catch(o){this.errors=[o],e(!1)}},onTabChanged({tab:e}){"advanced"===e.name&&this.$refs.yamlEditor?.refresh()}}},G=a(47433);const K=(0,G.A)(F,[["render",b]]);var j=K},91128:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var o=a(9274);const l={id:"restore"},s={class:"content"},r={class:"mb-20"},n={class:"row"},i={class:"col span-6"},d={class:"col span-6"};function c(e,t,a,c,u,p){const m=(0,o.resolveComponent)("RadioGroup"),v=(0,o.resolveComponent)("LabeledSelect"),h=(0,o.resolveComponent)("LabeledInput"),b=(0,o.resolveComponent)("Footer");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(m,{value:u.restoreNewVm,"onUpdate:value":t[0]||(t[0]=e=>u.restoreNewVm=e),name:"model",options:[!0,!1],labels:[e.t("harvester.backup.restore.createNew"),e.t("harvester.backup.restore.replaceExisting")],disabled:p.disableExisting,mode:e.mode},null,8,["value","labels","disabled","mode"])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(v,{value:u.namespace,"onUpdate:value":t[1]||(t[1]=e=>u.namespace=e),disabled:!0,label:e.t("nameNsDescription.namespace.label"),options:p.namespaces},null,8,["value","label","options"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(h,{value:u.name,"onUpdate:value":t[2]||(t[2]=e=>u.name=e),disabled:!u.restoreNewVm,label:e.t("harvester.backup.restore.virtualMachineName"),placeholder:e.t("nameNsDescription.name.placeholder"),class:"mb-20"},null,8,["value","disabled","label","placeholder"])])]),(0,o.createVNode)(v,{value:u.snapshotName,"onUpdate:value":t[3]||(t[3]=e=>u.snapshotName=e),class:"mb-20",label:e.t("harvester.vmSnapshot.snapshot"),options:p.snapshotOption},null,8,["value","label","options"]),u.restoreNewVm?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(v,{key:0,value:u.deletionPolicy,"onUpdate:value":t[4]||(t[4]=e=>u.deletionPolicy=e),label:e.t("harvester.backup.restore.deletePreviousVolumes"),options:p.deletionPolicyOption},null,8,["value","label","options"]))]),(0,o.createVNode)(b,{mode:"create",class:"footer",errors:e.errors,onSave:p.saveRestore,onDone:p.cancelAction},null,8,["errors","onSave","onDone"])])}var u=a(71802),p=a(83328),m=a(53512),v=a(70052),h=a(81357),b=a(68844),g=a(71898),f=a(4284),y=a(98258),N=a(65852),k=a(32766),V=a(41837);const E={apiVersion:"harvesterhci.io/v1beta1",kind:"VirtualMachineRestore",metadata:{name:"",namespace:""},type:k.rk.RESTORE,spec:{target:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:""},virtualMachineBackupName:"",newVM:!0,deletionPolicy:"retain"}};var w={name:"CreateRestore",components:{Footer:u.A,RadioGroup:p.z,LabeledInput:m.o,LabeledSelect:v.A},mixins:[h.A],async fetch(){await(0,b.kR)({backups:this.$store.dispatch("harvester/findAll",{type:k.rk.BACKUP}),vms:this.$store.dispatch("harvester/findAll",{type:k.rk.VM})})},data(){const e=this.$route.query?.restoreMode,t=this.$route.query?.resourceName,a=(0,N.o8)(E),o="new"===e||void 0===e;return{snapshotName:t,restoreNewVm:o,restoreResource:a,name:"",description:"",deletionPolicy:"retain",namespace:""}},computed:{snapshotOption(){const e=this.$store.getters["harvester/all"](k.rk.BACKUP);return e.filter((e=>{const t=this.restoreNewVm||e.attachVmExisting;return t&&e?.status?.readyToUse&&e.spec?.type===V.a.SNAPSHOT})).map((e=>({label:e.metadata.name,value:e.metadata.name})))},deletionPolicyOption(){return[{value:"retain",label:"Retain"}]},currentBackupResource(){const e=this.snapshotName,t=this.$store.getters["harvester/all"](k.rk.BACKUP);return t.find((t=>t.name===e))},disableExisting(){return!this.currentBackupResource?.attachVmExisting},snapshotNamespace(){const e=this.$store.getters["harvester/all"](k.rk.BACKUP);return e.find((e=>e.metadata.name===this.snapshotName))?.metadata?.namespace},namespaces(){const e=this.$store.getters["currentStore"](f.CU),t=this.$store.getters[`${e}/all`](f.CU),a=this.$store.getters["systemNamespaces"],o=(0,y.Ul)(t.filter((e=>!a.includes(e.metadata.name))).map((e=>({label:e.nameDisplay,value:e.id}))),"label");return o}},watch:{snapshotName:{handler(e){this.currentBackupResource&&(this.restoreNewVm||(this.name=this?.currentBackupResource?.attachVM)),this.restoreResource.spec.virtualMachineBackupName=e},immediate:!0},restoreNewVm(e){this.name=e?"":this?.currentBackupResource?.attachVM},snapshotNamespace:{handler(e){this.namespace=e},immediate:!0}},methods:{cancelAction(){this.$router.go(-1)},async saveRestore(e){this.update();const t=await this.$store.dispatch("harvester/create",this.restoreResource);t.metadata.namespace=this.namespace,t.spec.virtualMachineBackupNamespace=this.snapshotNamespace;try{await t.save(),e(!0),this.$router.push({name:this.doneRoute,params:{resource:k.rk.VM}})}catch(a){this.errors=(0,g.rz)(a)||a,e(!1)}},update(){this.restoreResource.metadata.generateName=`restore-${this.snapshotName}-`,this.name&&(this.restoreResource.spec.target.name=this.name),this.restoreNewVm?(delete this.restoreResource.spec.deletionPolicy,this.restoreResource.spec.newVM=!0):(this.restoreResource.spec.deletionPolicy=this.deletionPolicy,delete this.restoreResource.spec.newVM)}},componentTitle(){return"restoreVM"}},C=(a(38673),a(47433));const S=(0,C.A)(w,[["render",c],["__scopeId","data-v-6c93c587"]]);var B=S},49293:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("NameNsDescription"),i=(0,o.resolveComponent)("LabeledSelect"),d=(0,o.resolveComponent)("UnitInput"),c=(0,o.resolveComponent)("Banner"),u=(0,o.resolveComponent)("Tab"),p=(0,o.resolveComponent)("LabeledInput"),m=(0,o.resolveComponent)("SortableTable"),v=(0,o.resolveComponent)("ResourceTabs"),h=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(h,{"done-route":e.doneRoute,resource:e.value,mode:e.mode,errors:e.errors,"generate-yaml":r.generateYaml,"apply-hooks":e.applyHooks,onFinish:e.save},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{value:e.value,namespaced:!0,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,o.createVNode)(v,{value:e.value,"onUpdate:value":t[15]||(t[15]=t=>e.value=t),class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{name:"basic",label:e.t("harvester.volume.tabs.basics"),weight:3,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:s.source,"onUpdate:value":[t[1]||(t[1]=e=>s.source=e),r.update],label:e.t("harvester.volume.source"),options:r.sourceOption,disabled:!e.isCreate,required:"",mode:e.mode,class:"mb-20"},null,8,["value","label","options","disabled","mode","onUpdate:value"]),r.isVMImage?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,value:s.imageId,"onUpdate:value":[t[2]||(t[2]=e=>s.imageId=e),r.updateImage],label:e.t("harvester.volume.image"),options:r.imageOption,disabled:!e.isCreate,required:"",mode:e.mode,class:"mb-20"},null,8,["value","label","options","disabled","mode","onUpdate:value"])):(0,o.createCommentVNode)("",!0),"blank"===s.source?((0,o.openBlock)(),(0,o.createBlock)(i,{key:1,value:e.value.spec.storageClassName,"onUpdate:value":[t[3]||(t[3]=t=>e.value.spec.storageClassName=t),r.update],options:r.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),mode:e.mode,class:"mb-20",disabled:!e.isCreate},null,8,["value","options","label","mode","disabled","onUpdate:value"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(d,{value:s.storage,"onUpdate:value":[t[4]||(t[4]=e=>s.storage=e),r.update],label:e.t("harvester.volume.size"),"input-exponent":3,"output-modifier":!0,increment:1024,mode:e.mode,disabled:e.value?.isLonghornV2&&r.isEdit,required:"",class:"mb-20"},null,8,["value","label","mode","disabled","onUpdate:value"]),e.value?.isLonghornV2&&r.isEdit?((0,o.openBlock)(),(0,o.createBlock)(c,{key:2,color:"warning"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.t("harvester.volume.longhorn.disableResize")),1)])),_:1})):(0,o.createCommentVNode)("",!0)])),_:1},8,["label"]),e.isCreate?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,name:"details",label:e.t("harvester.volume.tabs.details"),weight:2.5,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{value:r.frontendDisplay,"onUpdate:value":t[5]||(t[5]=e=>r.frontendDisplay=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.frontend")},null,8,["value","mode","label"]),(0,o.createVNode)(p,{value:r.attachedNode,"onUpdate:value":t[6]||(t[6]=e=>r.attachedNode=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.attachedNode")},null,8,["value","mode","label"]),(0,o.createVNode)(p,{value:r.endpoint,"onUpdate:value":t[7]||(t[7]=e=>r.endpoint=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.endpoint")},null,8,["value","mode","label"]),(0,o.createVNode)(i,{value:r.diskTags,"onUpdate:value":t[8]||(t[8]=e=>r.diskTags=e),multiple:!0,label:e.t("harvester.volume.diskTags"),options:[],disabled:!0,mode:e.mode,class:"mb-20"},null,8,["value","label","mode"]),(0,o.createVNode)(i,{value:r.nodeTags,"onUpdate:value":t[9]||(t[9]=e=>r.nodeTags=e),multiple:!0,label:e.t("harvester.volume.nodeTags"),options:[],disabled:!0,mode:e.mode,class:"mb-20"},null,8,["value","label","mode"]),(0,o.createVNode)(p,{value:r.lastBackup,"onUpdate:value":t[10]||(t[10]=e=>r.lastBackup=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.lastBackup")},null,8,["value","mode","label"]),(0,o.createVNode)(p,{value:r.lastBackupAt,"onUpdate:value":t[11]||(t[11]=e=>r.lastBackupAt=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.lastBackupAt")},null,8,["value","mode","label"]),(0,o.createVNode)(p,{value:r.replicasNumber,"onUpdate:value":t[12]||(t[12]=e=>r.replicasNumber=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.replicasNumber")},null,8,["value","mode","label"])])),_:1},8,["label","weight"])),e.isCreate?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(u,{key:1,name:"instances",label:e.t("harvester.volume.tabs.snapshots"),weight:2,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,(0,o.mergeProps)(e.$attrs,{headers:r.snapshotHeaders,"default-sort-by":"age",rows:e.value.relatedVolumeSnapshotCounts,"key-field":"_key"}),null,16,["headers","rows"])])),_:1},8,["label"])),!e.isCreate&&e.value.spec.dataSource?((0,o.openBlock)(),(0,o.createBlock)(u,{key:2,name:"datasource",label:e.t("harvester.volume.tabs.datasource"),weight:1,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{value:r.dataSourceKind,"onUpdate:value":t[13]||(t[13]=e=>r.dataSourceKind=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.kind")},null,8,["value","mode","label"]),(0,o.createVNode)(p,{value:e.value.spec.dataSource.name,"onUpdate:value":t[14]||(t[14]=t=>e.value.spec.dataSource.name=t),mode:e.mode,disabled:!0,label:e.t("nameNsDescription.name.label")},null,8,["value","mode","label"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0)])),_:1},8,["value","mode"])])),_:1},8,["done-route","resource","mode","errors","generate-yaml","apply-hooks","onFinish"])}var s=a(12327),r=a(82198),n=a(66210),i=a(43631),d=a(58737),c=a(70052),u=a(53512),p=a(83504),m=a(58832),v=a(68844),h=a(65852),b=a(4284),g=a(98258),f=a(3196),y=a(75040),N=a(81357),k=a(2602),V=a(37386),E=a(66905),w=a(32766),C=a(82877),S=a(15908),B={name:"HarvesterVolume",emits:["update:value"],components:{Banner:m.l,Tab:s.A,UnitInput:i.A,CruResource:n.A,SortableTable:r.A,ResourceTabs:d.A,LabeledSelect:c.A,LabeledInput:u.o,NameNsDescription:p.A},mixins:[N.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={images:this.$store.dispatch(`${e}/findAll`,{type:w.rk.IMAGE}),snapshots:this.$store.dispatch(`${e}/findAll`,{type:w.qY}),storages:this.$store.dispatch(`${e}/findAll`,{type:b.fJ}),pvs:this.$store.dispatch(`${e}/findAll`,{type:b.PV})};this.$store.getters[`${e}/schemaFor`](b.oe.VOLUMES)&&(t.longhornVolumes=this.$store.dispatch(`${e}/findAll`,{type:b.oe.VOLUMES})),this.$store.getters[`${e}/schemaFor`](b.oe.ENGINES)&&(t.longhornEngines=this.$store.dispatch(`${e}/findAll`,{type:b.oe.ENGINES}));const a=await(0,v.kR)(t);this.snapshots=a.snapshots,this.images=a.images;const o=this.$store.getters["harvester/all"](b.fJ).find((e=>e.isDefault));this.value.spec["storageClassName"]=this.value?.spec?.storageClassName||o?.metadata?.name||"longhorn"},data(){this.mode===y.YQ&&(this.value.spec.volumeMode="Block",this.value.spec.accessModes=["ReadWriteMany"]);const e=this.value?.spec?.resources?.requests?.storage||null,t=(0,h.Jt)(this.value,`metadata.annotations."${k.r.IMAGE_ID}"`),a=t?"url":"blank";return{source:a,storage:e,imageId:t,snapshots:[],images:[]}},created(){this.registerBeforeHook(this.willSave,"willSave")},computed:{isBlank(){return"blank"===this.source},isEdit(){return this.mode===y.G5},isVMImage(){return"url"===this.source},longhornV2LVMSupport(){return this.$store.getters["harvester-common/getFeatureEnabled"]("longhornV2LVMSupport")},sourceOption(){return[{value:"blank",label:this.t("harvester.volume.sourceOptions.new")},{value:"url",label:this.t("harvester.volume.sourceOptions.vmImage")}]},interfaceOption(){return E.$z},imageOption(){return(0,g.Ul)(this.images.filter((e=>e.isReady)).map((e=>({label:`${e.metadata.namespace}/${e.spec.displayName}`,value:e.id}))),"label")},snapshotHeaders(){return[V.c4,V.o_,V.CU,{name:"size",labelKey:"tableHeaders.size",value:"status.restoreSize",sort:"size",formatter:"Si",formatterOpts:{opts:{increment:1024,addSuffix:!0,maxExponent:3,minExponent:3,suffix:"i"},needParseSi:!0}},{name:"readyToUse",labelKey:"tableHeaders.readyToUse",value:"status.readyToUse",align:"left",formatter:"Checked"},V.K]},dataSourceKind(){return E.$E[this.value.spec?.dataSource?.kind]},storageClasses(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/all`](b.fJ)},storageClassOptions(){return this.storageClasses.filter((e=>!e.parameters?.backingImage)).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[]},frontend(){return this.value.longhornVolume?.spec?.frontend},frontendDisplay(){const e=["blockdev"];return e.includes(this.frontend)?this.t(`harvester.volume.${this.frontend}`):this.frontend},attachedNode(){return this.value.longhornVolume?.spec?.nodeID},endpoint(){return this.value.longhornEngine?.status?.endpoint},diskTags(){return this.value.longhornVolume?.spec?.diskSelector},nodeTags(){return this.value.longhornVolume?.spec?.nodeSelector},replicasNumber(){return this.value.longhornVolume?.spec?.numberOfReplicas},lastBackup(){return this.value.longhornVolume?.status?.lastBackup},lastBackupAt(){return this.value.longhornVolume?.status?.lastBackupAt},rebuildStatus(){return this.value.longhornEngine?.status?.rebuildStatus}},methods:{getAccessMode(){if(!this.longhornV2LVMSupport)return["ReadWriteMany"];const e=this.value.spec.storageClassName,t=this.storageClasses.find((t=>t.name===e));let a=this.value.isLvm||this.value.isLonghornV2;return t&&(a=t.provisioner===C.LVM_DRIVER||t.parameters?.dataEngine===S.DATA_ENGINE_V2),a?["ReadWriteOnce"]:["ReadWriteMany"]},willSave(){this.update()},update(){let e="",t=this.value.spec.storageClassName;if(this.isVMImage&&this.imageId){const a=this.$store.getters["harvester/all"](w.rk.IMAGE);e={...this.value.metadata.annotations,[k.r.IMAGE_ID]:this.imageId},t=a?.find((e=>this.imageId===e.id))?.storageClassName}else e={...this.value.metadata.annotations};const a={...this.value.spec,resources:{requests:{storage:this.storage}},storageClassName:t,accessModes:this.getAccessMode()};this.value.setAnnotations(e),this.value["spec"]=a},updateImage(){if(this.isVMImage&&this.imageId){const e=this.images?.find((e=>this.imageId===e.id)),t=Math.max(e?.status?.size,e?.status?.virtualSize);t&&(this.storage=`${Math.ceil(t/1024/1024/1024)}Gi`)}this.update()},generateYaml(){const e=(0,f.Kq)(this.value);return e}}},A=a(47433);const x=(0,A.A)(B,[["render",l]]);var _=x},69305:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var o=a(9274);const l={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-12"},i={key:0,class:"row"},d={class:"col span-12"};function c(e,t,a,c,u,p){const m=(0,o.resolveComponent)("NameNsDescription"),v=(0,o.resolveComponent)("LabeledInput"),h=(0,o.resolveComponent)("Tab"),b=(0,o.resolveComponent)("ResourceTabs"),g=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(g,{"done-route":e.doneRoute,resource:e.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:e.save},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{value:e.value,namespaced:!0,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,o.createVNode)(b,{value:e.value,"onUpdate:value":t[4]||(t[4]=t=>e.value=t),class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{name:"basics",label:e.t("harvester.virtualMachine.detail.tabs.basics"),class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(v,{value:p.size,"onUpdate:value":t[1]||(t[1]=e=>p.size=e),label:e.t("harvester.snapshot.size"),class:"mt-20",disabled:!0},null,8,["value","label"])])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(v,{value:p.targetVolume,"onUpdate:value":t[2]||(t[2]=e=>p.targetVolume=e),label:e.t("harvester.snapshot.targetVolume"),class:"mt-20",disabled:!0},null,8,["value","label"])])]),p.isImageVolume?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(v,{value:p.imageName,"onUpdate:value":t[3]||(t[3]=e=>p.imageName=e),label:e.t("harvester.snapshot.image"),class:"mt-20",disabled:!0},null,8,["value","label"])])])):(0,o.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["value","mode"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])])}var u=a(12327),p=a(66210),m=a(58737),v=a(53512),h=a(83504),b=a(65852),g=a(81357),f=a(71445),y=a(32766),N={name:"HarvesterSnapshot",emits:["update:value"],components:{LabeledInput:v.o,Tab:u.A,ResourceTabs:m.A,CruResource:p.A,NameNsDescription:h.A},mixins:[g.A],inheritAttrs:!1,computed:{volume(){return this.volumes.find((e=>e.metadata.name===this.targetVolume))},size(){return this.value?.status?.restoreSize},isImageVolume(){return!!(0,b.Jt)(this.value,`metadata.annotations."${f.rk.IMAGE_ID}"`)},imageName(){const e=this.$store.getters["harvester/all"](y.rk.IMAGE).find((e=>e.id===(0,b.Jt)(this.value,`metadata.annotations."${f.rk.IMAGE_ID}"`)));return e?.spec?.displayName},targetVolume(){return this.value?.spec?.source?.persistentVolumeClaimName}}},k=a(47433);const V=(0,k.A)(N,[["render",c]]);var E=V},93987:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var o=a(9274);const l={class:"compat-matrix"},s={class:"device-col node-names"},r={class:"blank-corner"},n={class:"text-right"};function i(e,t,a,i,d,c){const u=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,(0,o.toDisplayString)(e.t("harvester.devices.matrixDeviceClaimName")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(e.t("harvester.devices.matrixHostName")),1)]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.allNodeNames,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e),1)])))),128))]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.enabledDevices,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t},[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["compat-cell device-label",{"text-muted":c.noneAvailable(e)}])},[(0,o.createTextVNode)((0,o.toDisplayString)(e.metadata.name),1)],2)),[[u,c.deviceTooltip(e)]]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.allNodeNames,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:a,class:(0,o.normalizeClass)(["compat-cell",{"has-device":c.nodeHasDevice(t,e)}])},null,2)))),128))])))),128))])}var d=a(65359),c={props:{enabledDevices:{type:Array,required:!0},devicesByNode:{type:Object,required:!0},devicesInUse:{type:Object,default:()=>{}}},computed:{...(0,d.L8)({t:"i18n/t"}),allNodeNames(){return Object.keys(this.devicesByNode)},allDeviceIds(){return Object.keys(this.uniqueDevices)}},methods:{nodeNameFromId(e){return this.devicesByNode[e]?.name},nodeHasDevice(e,t){return t.status.nodeName===e},noneAvailable(e){const t=e.metadata?.name;return!!this.devicesInUse[t]},deviceTooltip(e){return`${e?.status?.resourceName}<br/>${e?.status?.description}`}}},u=(a(91950),a(47433));const p=(0,u.A)(c,[["render",i]]);var m=p},7060:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var o=a(9274);const l={key:0,class:"row"},s={class:"col span-12"},r={key:1},n={class:"row"},i={class:"col span-12"},d={class:"row"},c={class:"col span-6"},u={class:"text-label"},p={key:0,class:"row"},m={class:"col span-12 text-muted"},v={key:1,class:"text-error"},h={key:2,class:"row mt-20"},b={class:"col span-12"},g={class:"row mt-20"},f={class:"col span-12"};function y(e,t,a,y,N,k){const V=(0,o.resolveComponent)("Banner"),E=(0,o.resolveComponent)("t"),w=(0,o.resolveComponent)("LabeledSelect"),C=(0,o.resolveComponent)("CompatibilityMatrix"),S=(0,o.resolveComponent)("DeviceList"),B=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[N.oldFormatDevices.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(V,{color:"warning"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("p",null,null,512),[[B,e.t("harvester.pci.oldFormatDevices.help",{oldFormatDevicesHTML:k.oldFormatDevicesHTML},!0)]])])),_:1})])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(V,{color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(E,{k:"harvester.pci.howToUseDevice"})])),_:1}),N.selectedDevices.length>0?((0,o.openBlock)(),(0,o.createBlock)(V,{key:0,color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(E,{k:"harvester.pci.deviceInTheSameHost"})])),_:1})):(0,o.createCommentVNode)("",!0)])]),k.enabledDevices.length?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createVNode)(w,{value:N.selectedDevices,"onUpdate:value":t[0]||(t[0]=e=>N.selectedDevices=e),label:"Available PCI Devices",searchable:"",multiple:"",taggable:"",options:k.deviceOpts,mode:a.mode},{option:(0,o.withCtx)((e=>[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.value)+" ",1),(0,o.createElementVNode)("span",u,"("+(0,o.toDisplayString)(e.displayLabel)+")",1)])])),_:1},8,["value","options","mode"])])]),k.compatibleNodes.length&&N.selectedDevices.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createElementVNode)("div",m,[(0,o.createTextVNode)(" Compatible hosts: "),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(k.compatibleNodes,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t},(0,o.toDisplayString)(e)+(0,o.toDisplayString)(t<k.compatibleNodes.length-1?", ":""),1)))),128))])])):N.selectedDevices.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,(0,o.toDisplayString)(e.t("harvester.pci.impossibleSelection")),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-sm role-link pl-0",onClick:t[1]||(t[1]=e=>{N.showMatrix=!N.showMatrix,e.target.blur()})},(0,o.toDisplayString)(N.showMatrix?e.t("harvester.pci.hideCompatibility"):e.t("harvester.pci.showCompatibility")),1),N.showMatrix?((0,o.openBlock)(),(0,o.createElementBlock)("div",h,[(0,o.createElementVNode)("div",b,[(0,o.createVNode)(C,{"enabled-devices":k.enabledDevices,"devices-by-node":k.devicesByNode,"devices-in-use":k.devicesInUse},null,8,["enabled-devices","devices-by-node","devices-in-use"])])])):(0,o.createCommentVNode)("",!0)],64)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("div",f,[(0,o.createVNode)(S,{schema:N.pciDeviceSchema,devices:N.pciDevices,onSubmit:t[2]||(t[2]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,8,["schema","devices"])])])]))])}var N=a(75040),k=a(68844),V=a(70052),E=a(52167),w=a(65079),C=a.n(w),S=a(65852),B=a(32766),A=a(84646),x=a(93987),_={name:"VirtualMachinePCIDevices",components:{LabeledSelect:V.A,DeviceList:A["default"],CompatibilityMatrix:x["default"],Banner:E.A},props:{mode:{type:String,default:N.G5},value:{type:Object,default:()=>{}},vm:{type:Object,default:()=>{}}},async fetch(){const e={pciDevices:this.$store.dispatch("harvester/findAll",{type:B.rk.PCI_DEVICE}),claims:this.$store.dispatch("harvester/findAll",{type:B.rk.PCI_CLAIM}),vms:this.$store.dispatch("harvester/findAll",{type:B.rk.VM})},t=await(0,k.kR)(e);for(const r in t)this[r]=t[r];const a=[],o=[],l=this.value?.domain?.devices?.hostDevices||[],s=this.otherDevices(l).map((({name:e})=>e));l.forEach((({name:e,deviceName:t})=>{const l=(t||"").split("/")?.[1];l&&e.includes(l)&&!s.includes(e)?o.push(e):this.enabledDevices.find((t=>t?.metadata?.name===e))&&a.push(e)})),o.length>0?this.oldFormatDevices=o:this.selectedDevices=a},data(){return{pciDevices:[],claims:[],vms:[],selectedDevices:[],pciDeviceSchema:this.$store.getters["harvester/schemaFor"](B.rk.PCI_DEVICE),showMatrix:!1,oldFormatDevices:[]}},watch:{selectedDevices(e){const t=e.map((e=>{const t=this.enabledDevices.find((t=>t.metadata.name===e)),a=t?.status?.resourceName;return{deviceName:a,name:t?.metadata.name}})),a=[...this.otherDevices(this.value.domain.devices.hostDevices||[]),...t];(0,S.hZ)(this.value.domain.devices,"hostDevices",a)}},computed:{enabledDevices(){return this.pciDevices.filter((e=>e.isEnabled&&e.claimedByMe))||[]},devicesInUse(){const e=this.vms.reduce(((e,t)=>(t.metadata.name===this.vm?.metadata?.name||t.hostDevices.forEach((a=>{e[a.name]={usedBy:[t.metadata.name]}})),e)),{});return e},devicesByNode(){return this.enabledDevices?.reduce(((e,t)=>{const a=t.status?.nodeName;return a&&(e[a]?e[a].push(t):e[a]=[]),e}),{})},compatibleNodes(){const e=[...Object.keys(this.devicesByNode)];return this.selectedDevices.forEach((t=>{C()(e,(e=>{const a=this.enabledDevices.find((e=>e.metadata.name===t));return a.status.nodeName!==e}))})),e},deviceOpts(){const e=this.enabledDevices.filter((e=>{if(this.selectedDevices.length>0){const t=this.enabledDevices.find((e=>e.metadata.name===this.selectedDevices[0]));return!this.devicesInUse[e?.metadata.name]&&e.status.nodeName===t.status.nodeName}return!this.devicesInUse[e?.metadata.name]}));return e.map((e=>({value:e?.metadata.name,label:e?.metadata.name,displayLabel:e?.status?.resourceName})))},oldFormatDevicesHTML(){return this.oldFormatDevices.map((e=>`<li>${e}</li>`)).join("")}},methods:{otherDevices(e){return e.filter((e=>!this.pciDevices.find((t=>e.name===t.name))))},nodeNameFromUid(e){for(const t in this.uniqueDevices){const a=this.uniqueDevices[t].nodes,o=a.find((t=>t.systemUUID===e));if(o)return o.name}}}},D=a(47433);const U=(0,D.A)(_,[["render",y]]);var M=U},5257:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("UnitInput");return(0,o.openBlock)(),(0,o.createBlock)(n,{value:s.memory,"onUpdate:value":[t[0]||(t[0]=e=>s.memory=e),r.change],label:e.t("harvester.virtualMachine.input.reservedMemory"),mode:a.mode,"input-exponent":2,increment:1024,"output-modifier":!0},null,8,["value","label","mode","onUpdate:value"])}var s=a(43631),r={name:"HarvesterReserved",emits:["updateReserved"],components:{UnitInput:s.A},props:{reservedMemory:{type:String,default:null},mode:{type:String,default:"create"}},data(){return{memory:this.reservedMemory}},watch:{reservedMemory(e){this.memory=e}},methods:{change(){const{memory:e}=this;this.$emit("updateReserved",{memory:e})}}},n=a(47433);const i=(0,n.A)(r,[["render",l]]);var d=i},10707:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var o=a(9274);const l={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-6"},i={class:"text-label"},d={key:0,class:"row"},c={class:"col span-12 text-muted"},u={key:1,class:"text-error"},p={key:2,class:"row mt-20"},m={class:"col span-12"},v={class:"row mt-20"},h={class:"col span-12"};function b(e,t,a,b,g,f){const y=(0,o.resolveComponent)("t"),N=(0,o.resolveComponent)("Banner"),k=(0,o.resolveComponent)("LabeledSelect"),V=(0,o.resolveComponent)("CompatibilityMatrix"),E=(0,o.resolveComponent)("DeviceList");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(N,{color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(y,{k:"harvester.usb.howToUseDevice"})])),_:1}),g.selectedDevices.length>0?((0,o.openBlock)(),(0,o.createBlock)(N,{key:0,color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(y,{k:"harvester.usb.deviceInTheSameHost"})])),_:1})):(0,o.createCommentVNode)("",!0)])]),f.enabledDevices.length?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(k,{value:g.selectedDevices,"onUpdate:value":t[0]||(t[0]=e=>g.selectedDevices=e),label:e.t("harvester.usb.available"),searchable:"",multiple:"",taggable:"",options:f.deviceOpts,mode:a.mode},{option:(0,o.withCtx)((e=>[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.value)+" ",1),(0,o.createElementVNode)("span",i,"("+(0,o.toDisplayString)(e.displayLabel)+")",1)])])),_:1},8,["value","label","options","mode"])])]),f.compatibleNodes.length&&g.selectedDevices.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createTextVNode)(" Compatible hosts: "),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(f.compatibleNodes,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:e},(0,o.toDisplayString)(e)+(0,o.toDisplayString)(t<f.compatibleNodes.length-1?", ":""),1)))),128))])])):g.selectedDevices.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",u,(0,o.toDisplayString)(e.t("harvester.usb.impossibleSelection")),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-sm role-link pl-0",onClick:t[1]||(t[1]=e=>{g.showMatrix=!g.showMatrix,e.target.blur()})},(0,o.toDisplayString)(g.showMatrix?e.t("harvester.usb.hideCompatibility"):e.t("harvester.usb.showCompatibility")),1),g.showMatrix?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createElementVNode)("div",m,[(0,o.createVNode)(V,{"enabled-devices":f.enabledDevices,"devices-by-node":f.devicesByNode,"devices-in-use":f.devicesInUse},null,8,["enabled-devices","devices-by-node","devices-in-use"])])])):(0,o.createCommentVNode)("",!0)],64)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createVNode)(E,{schema:g.deviceSchema,devices:g.devices,onSubmit:t[2]||(t[2]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,8,["schema","devices"])])])])}var g=a(75040),f=a(68844),y=a(32766),N=a(37386),k=a(70052),V=a(52167),E=a(93987),w=a(34529),C=a(65079),S=a.n(C),B=a(65852),A={name:"VirtualMachineUSBDevices",components:{Banner:V.A,CompatibilityMatrix:E["default"],DeviceList:w["default"],LabeledSelect:k.A},props:{mode:{type:String,default:g.G5},value:{type:Object,default:()=>{}},vm:{type:Object,default:()=>{}}},async fetch(){const e={devices:this.$store.dispatch("harvester/findAll",{type:y.rk.USB_DEVICE}),vms:this.$store.dispatch("harvester/findAll",{type:y.rk.VM})},t=await(0,f.kR)(e);for(const a in t)this[a]=t[a];this.selectedDevices=(this.value?.domain?.devices?.hostDevices||[]).map((({name:e})=>e)).filter((e=>this.enabledDevices.find((t=>t?.metadata?.name===e))))},data(){return{deviceSchema:this.$store.getters["harvester/schemaFor"](y.rk.USB_DEVICE),deviceHeaders:[{...N.c4},N.X0],devices:[],vms:[],selectedDevices:[],showMatrix:!1}},watch:{selectedDevices(e){const t=e.map((e=>{const t=this.enabledDevices.find((t=>t.metadata.name===e)),a=t?.status?.resourceName;return{deviceName:a,name:t?.metadata.name}})),a=[...this.otherDevices(this.value.domain.devices.hostDevices||[]),...t];(0,B.hZ)(this.value.domain.devices,"hostDevices",a)}},computed:{deviceOpts(){const e=this.enabledDevices.filter((e=>{if(this.selectedDevices.length>0){const t=this.enabledDevices.find((e=>e.metadata.name===this.selectedDevices[0]));return!this.devicesInUse[e?.metadata.name]&&e.status.nodeName===t?.status.nodeName}return!this.devicesInUse[e?.metadata.name]}));return e.map((e=>({value:e?.metadata.name,label:e?.metadata.name,displayLabel:e?.status?.description})))},enabledDevices(){return this.devices.filter((e=>e.status.enabled))},devicesInUse(){const e=this.vms.reduce(((e,t)=>(t.metadata.name===this.vm?.metadata?.name||t.hostDevices.forEach((a=>{e[a.name]={usedBy:[t.metadata.name]}})),e)),{});return e},devicesByNode(){return this.enabledDevices?.reduce(((e,t)=>{const a=t.status?.nodeName;return a&&(e[a]?e[a].push(t):e[a]=[]),e}),{})},compatibleNodes(){const e=[...Object.keys(this.devicesByNode)];return this.selectedDevices.forEach((t=>{S()(e,(e=>{const a=this.enabledDevices.find((e=>e.metadata.name===t));return a?.status.nodeName!==e}))})),e}},methods:{otherDevices(e){return e.filter((e=>!this.devices.find((t=>e.name===t.name))))}}},x=a(47433);const _=(0,x.A)(A,[["render",b]]);var D=_},23910:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var o=a(9274);const l={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-6"},i={key:0,class:"row"},d={class:"col span-12 text-muted"},c={key:1,class:"text-error"},u={class:"row mt-20"},p={class:"col span-12"};function m(e,t,a,m,v,h){const b=(0,o.resolveComponent)("t"),g=(0,o.resolveComponent)("Banner"),f=(0,o.resolveComponent)("LabeledSelect"),y=(0,o.resolveComponent)("VGpuDeviceList");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(g,{color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(b,{k:"harvester.vgpu.howToUseDevice"})])),_:1}),v.selectedDevices.length>0?((0,o.openBlock)(),(0,o.createBlock)(g,{key:0,color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(b,{k:"harvester.vgpu.deviceInTheSameHost"})])),_:1})):(0,o.createCommentVNode)("",!0)])]),h.enabledDevices.length?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(f,{value:v.selectedDevices,"onUpdate:value":t[0]||(t[0]=e=>v.selectedDevices=e),label:"Available vGPU Devices",searchable:"",multiple:"",taggable:"",options:h.deviceOpts,mode:a.mode},{option:(0,o.withCtx)((e=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.value),1)])),_:1},8,["value","options","mode"])])]),h.compatibleNodes.length&&v.selectedDevices.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createTextVNode)(" Compatible hosts: "),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(h.compatibleNodes,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t},(0,o.toDisplayString)(e)+(0,o.toDisplayString)(t<h.compatibleNodes.length-1?", ":""),1)))),128))])])):v.selectedDevices.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,(0,o.toDisplayString)(e.t("harvester.vgpu.impossibleSelection")),1)):(0,o.createCommentVNode)("",!0)],64)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createVNode)(y,{schema:v.deviceSchema,devices:v.devices,onSubmit:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,8,["schema","devices"])])])])}var v=a(75040),h=a(68844),b=a(70052),g=a(52167),f=a(65079),y=a.n(f),N=a(65852),k=a(32766),V=a(33212),E=a(24759),w={name:"VirtualMachineVGpuDevices",components:{Banner:g.A,LabeledSelect:b.A,VGpuDeviceList:V["default"]},props:{mode:{type:String,default:v.G5},value:{type:Object,default:()=>{}},vm:{type:Object,default:()=>{}}},async fetch(){const e={devices:this.$store.dispatch("harvester/findAll",{type:k.rk.VGPU_DEVICE}),vms:this.$store.dispatch("harvester/findAll",{type:k.rk.VM})},t=await(0,h.kR)(e);for(const a in t)this[a]=t[a];(0,E.sb)([...(this.value?.domain?.devices?.gpus||[]).map((({name:e})=>e)),...Object.values(this.vm?.provisionedVGpus).reduce(((e,t)=>[...e,...t]),[])]).forEach((e=>{this.enabledDevices.find((t=>t?.metadata?.name===e))&&this.selectedDevices.push(e)}))},data(){return{deviceSchema:this.$store.getters["harvester/schemaFor"](k.rk.VGPU_DEVICE),devices:[],vms:[],selectedDevices:[]}},watch:{selectedDevices(e){const t=e.map((e=>{const t=this.enabledDevices.find((t=>t.metadata.name===e)),a=`nvidia.com/${t?.status?.configureVGPUTypeName?.replace(/\s+/g,"_")}`;return{deviceName:a,name:t?.metadata.name}}));(0,N.hZ)(this.value.domain.devices,"gpus",t)}},computed:{enabledDevices(){return this.devices.filter((e=>e.isEnabled))||[]},devicesInUse(){const e=this.vms.reduce(((e,t)=>(t.metadata.name===this.vm?.metadata?.name||t.hostDevices.forEach((a=>{e[a.name]={usedBy:[t.metadata.name]}})),e)),{});return e},devicesByNode(){return this.enabledDevices?.reduce(((e,t)=>{const a=t.spec?.nodeName;return a&&(e[a]?e[a].push(t):e[a]=[]),e}),{})},compatibleNodes(){const e=[...Object.keys(this.devicesByNode)];return this.selectedDevices.forEach((t=>{y()(e,(e=>{const a=this.enabledDevices.find((e=>e.metadata.name===t));return a.spec.nodeName!==e}))})),e},deviceOpts(){const e=this.enabledDevices.filter((e=>{if(this.selectedDevices.length>0){const t=this.enabledDevices.find((e=>e.metadata.name===this.selectedDevices[0]));return!this.devicesInUse[e?.metadata.name]&&e.spec.nodeName===t.spec.nodeName}return!this.devicesInUse[e?.metadata.name]}));return e.map((e=>({value:e?.metadata.name,label:e?.metadata.name})))}}},C=a(47433);const S=(0,C.A)(w,[["render",m]]);var B=S},15137:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return de}});var o=a(9274);const l={key:2,class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mb-20"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row mb-20"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mb-20"},v={key:0,class:"mb-20"},h={class:"row mb-20"},b={class:"col span-6"},g={class:"col span-6"},f={class:"row mb-20"},y={class:"col span-6"},N={key:1};function k(e,t,a,k,V,E){const w=(0,o.resolveComponent)("RadioGroup"),C=(0,o.resolveComponent)("LabeledInput"),S=(0,o.resolveComponent)("NameNsDescription"),B=(0,o.resolveComponent)("Checkbox"),A=(0,o.resolveComponent)("LabeledSelect"),x=(0,o.resolveComponent)("CpuMemory"),_=(0,o.resolveComponent)("SSHKey"),D=(0,o.resolveComponent)("Tab"),U=(0,o.resolveComponent)("Volume"),M=(0,o.resolveComponent)("Network"),L=(0,o.resolveComponent)("NodeScheduling"),T=(0,o.resolveComponent)("PodAffinity"),O=(0,o.resolveComponent)("PciDevices"),I=(0,o.resolveComponent)("VGpuDevices"),R=(0,o.resolveComponent)("UsbDevices"),$=(0,o.resolveComponent)("AccessCredentials"),P=(0,o.resolveComponent)("KeyValue"),q=(0,o.resolveComponent)("Labels"),F=(0,o.resolveComponent)("Reserved"),G=(0,o.resolveComponent)("UnitInput"),K=(0,o.resolveComponent)("CloudConfig"),j=(0,o.resolveComponent)("MessageLink"),H=(0,o.resolveComponent)("Banner"),J=(0,o.resolveComponent)("Tabbed"),z=(0,o.resolveComponent)("RestartVMDialog"),Q=(0,o.resolveComponent)("CruResource"),Y=(0,o.resolveDirective)("t");return e.spec?((0,o.openBlock)(),(0,o.createBlock)(Q,{key:0,id:"vm","done-route":e.doneRoute,resource:a.value,"cancel-event":!0,mode:e.mode,"can-yaml":!!V.isSingle,errors:e.errors,"generate-yaml":E.generateYaml,"apply-hooks":e.applyHooks,onFinish:E.saveVM,onCancel:E.cancelAction},{default:(0,o.withCtx)((()=>[e.isCreate?((0,o.openBlock)(),(0,o.createBlock)(w,{key:0,value:V.isSingle,"onUpdate:value":t[0]||(t[0]=e=>V.isSingle=e),class:"mb-20 vm-radio-group",name:"createInstanceMode",options:[!0,!1],labels:[e.t("harvester.virtualMachine.instance.single.label"),e.t("harvester.virtualMachine.instance.multiple.label")]},null,8,["value","labels"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(S,{value:a.value,mode:e.mode,"has-extra":!V.isSingle,"name-label":E.nameLabel,namespaced:!0,"name-placeholder":V.isSingle?"nameNsDescription.name.placeholder":"harvester.virtualMachine.instance.multiple.nameNsDescription","extra-columns":V.isSingle?[]:["type"],"onUpdate:value":t[2]||(t[2]=t=>e.$emit("update:value",t))},{type:(0,o.withCtx)((()=>[V.isSingle?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(C,{key:0,value:V.count,"onUpdate:value":[t[1]||(t[1]=e=>V.count=e),E.validateCount],valueModifiers:{number:!0},min:2,type:"number",label:e.t("harvester.virtualMachine.instance.multiple.count"),required:""},null,8,["value","label","onUpdate:value"]))])),_:1},8,["value","mode","has-extra","name-label","name-placeholder","extra-columns"]),e.isCreate?((0,o.openBlock)(),(0,o.createBlock)(B,{key:1,value:V.useTemplate,"onUpdate:value":t[3]||(t[3]=e=>V.useTemplate=e),class:"check mb-20",type:"checkbox","label-key":"harvester.virtualMachine.useTemplate.label"},null,8,["value"])):(0,o.createCommentVNode)("",!0),V.useTemplate?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(A,{value:V.templateId,"onUpdate:value":[t[4]||(t[4]=e=>V.templateId=e),E.updateTemplateId],"label-key":"harvester.virtualMachine.useTemplate.template.label",options:E.templateOptions},null,8,["value","options","onUpdate:value"])]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(A,{value:V.templateVersionId,"onUpdate:value":t[5]||(t[5]=e=>V.templateVersionId=e),"label-key":"harvester.virtualMachine.useTemplate.version.label",options:E.versionOptions},null,8,["value","options"])])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(J,{"side-tabs":!0,onChanged:E.onTabChanged},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(D,{name:"basics",label:e.t("harvester.virtualMachine.detail.tabs.basics")},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{cpu:e.cpu,memory:e.memory,mode:e.mode,onUpdateCpuMemory:e.updateCpuMemory},null,8,["cpu","memory","mode","onUpdateCpuMemory"]),(0,o.createVNode)(_,{value:e.sshKey,"onUpdate:value":t[6]||(t[6]=t=>e.sshKey=t),class:"mb-20","create-namespace":!0,namespace:a.value.metadata.namespace,mode:e.mode,disabled:e.isWindows,"onUpdate:sshKey":e.updateSSHKey,onRegisterAfterHook:e.registerAfterHook},null,8,["value","namespace","mode","disabled","onUpdate:sshKey","onRegisterAfterHook"])])),_:1},8,["label"]),(0,o.createVNode)(D,{name:"Volume",label:e.t("harvester.tab.volume"),weight:-1},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(U,{value:e.diskRows,"onUpdate:value":t[7]||(t[7]=t=>e.diskRows=t),mode:e.mode,"custom-volume-mode":e.customVolumeMode,namespace:a.value.metadata.namespace,"resource-type":a.value.type,vm:a.value,"validate-required":!0},null,8,["value","mode","custom-volume-mode","namespace","resource-type","vm"])])),_:1},8,["label"]),(0,o.createVNode)(D,{name:"Network",label:e.t("harvester.tab.network"),weight:-2},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,{value:e.networkRows,"onUpdate:value":t[8]||(t[8]=t=>e.networkRows=t),mode:e.mode,"is-single":V.isSingle},null,8,["value","mode","is-single"])])),_:1},8,["label"]),(0,o.createVNode)(D,{name:"nodeScheduling",label:e.t("workload.container.titles.nodeScheduling"),weight:-3},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(L,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodesIdOptions},null,8,["mode","value","nodes"])])),_:1},8,["label"]),(0,o.createVNode)(D,{label:e.t("harvester.tab.vmScheduling"),name:"vmScheduling",weight:-4},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(T,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodes,"all-namespaces-option-available":!0,namespaces:e.filteredNamespaces,"overwrite-labels":e.affinityLabels},null,8,["mode","value","nodes","namespaces","overwrite-labels"])])),_:1},8,["label"]),e.enabledPCI?((0,o.openBlock)(),(0,o.createBlock)(D,{key:0,label:e.t("harvester.tab.pciDevices"),name:"pciDevices",weight:-5},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(O,{mode:e.mode,value:e.spec.template.spec,vm:a.value},null,8,["mode","value","vm"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),e.enabledSriovgpu?((0,o.openBlock)(),(0,o.createBlock)(D,{key:1,label:e.t("harvester.tab.vGpuDevices"),name:"vGpuDevices",weight:-6},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(I,{mode:e.mode,value:e.spec.template.spec,vm:a.value},null,8,["mode","value","vm"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),e.enabledPCI?((0,o.openBlock)(),(0,o.createBlock)(D,{key:2,label:e.t("harvester.tab.usbDevices"),name:"usbDevices",weight:-7},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(R,{mode:e.mode,value:e.spec.template.spec,vm:a.value},null,8,["mode","value","vm"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),e.isEdit?((0,o.openBlock)(),(0,o.createBlock)(D,{key:3,label:e.t("harvester.tab.accessCredentials"),name:"accessCredentials",weight:-8},{default:(0,o.withCtx)((()=>[(0,o.createVNode)($,{value:e.accessCredentials,"onUpdate:value":t[9]||(t[9]=t=>e.accessCredentials=t),mode:e.mode,"resource-type":a.value,"is-qemu-installed":E.isQemuInstalled},null,8,["value","mode","resource-type","is-qemu-installed"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(D,{name:"instanceLabel",label:e.t("harvester.tab.instanceLabel"),weight:-8},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(q,{"default-container-class":"labels-and-annotations-container",value:a.value,mode:e.mode,"display-side-by-side":!1,"show-annotations":!1,"show-label-title":!1},{labels:(0,o.withCtx)((({toggler:l})=>[(0,o.createVNode)(P,{key:"labels",value:a.value.instanceLabels,"protected-keys":a.value.systemLabels||[],"toggle-filter":l,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,"onUpdate:value":t[10]||(t[10]=e=>a.value.setInstanceLabels(e))},null,8,["value","protected-keys","toggle-filter","add-label","mode"])])),_:1},8,["value","mode"])])),_:1},8,["label"]),(0,o.createVNode)(D,{name:"advanced",label:e.t("harvester.tab.advanced"),weight:-9},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(A,{value:e.runStrategy,"onUpdate:value":t[11]||(t[11]=t=>e.runStrategy=t),"label-key":"harvester.virtualMachine.runStrategy",options:e.runStrategies,mode:e.mode},null,8,["value","options","mode"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(A,{value:e.osType,"onUpdate:value":t[12]||(t[12]=t=>e.osType=t),"label-key":"harvester.virtualMachine.osType",options:e.OS,disabled:!e.isCreate},null,8,["value","options","disabled"])])]),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(A,{value:e.maintenanceStrategy,"onUpdate:value":t[13]||(t[13]=t=>e.maintenanceStrategy=t),"label-key":"harvester.virtualMachine.maintenanceStrategy.label",options:e.maintenanceStrategies,"get-option-label":e.getMaintenanceStrategyOptionLabel,mode:e.mode},null,8,["value","options","get-option-label","mode"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(F,{"reserved-memory":e.reservedMemory,mode:e.mode,onUpdateReserved:e.updateReserved},null,8,["reserved-memory","mode","onUpdateReserved"])])]),(0,o.createElementVNode)("div",m,[e.showAdvanced?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:0,role:"button",onClick:t[14]||(t[14]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[Y,"harvester.generic.showMore"]]):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:1,role:"button",onClick:t[15]||(t[15]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[Y,"harvester.generic.showMore"]])]),e.showAdvanced?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",b,[(0,o.createVNode)(C,{value:V.hostname,"onUpdate:value":t[16]||(t[16]=e=>V.hostname=e),"label-key":E.hostnameLabel,placeholder:E.hostPlaceholder,mode:e.mode},null,8,["value","label-key","placeholder","mode"])]),(0,o.createElementVNode)("div",g,[(0,o.createVNode)(A,{value:e.machineType,"onUpdate:value":t[17]||(t[17]=t=>e.machineType=t),"label-key":"harvester.virtualMachine.input.MachineType",options:E.machineTypeOptions,mode:e.mode},null,8,["value","options","mode"])])]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",y,[(0,o.createVNode)(G,{value:e.terminationGracePeriodSeconds,"onUpdate:value":[t[18]||(t[18]=t=>e.terminationGracePeriodSeconds=t),e.updateTerminationGracePeriodSeconds],suffix:1==e.terminationGracePeriodSeconds?"Second":"Seconds",label:e.t("harvester.virtualMachine.terminationGracePeriodSeconds.label"),mode:e.mode,positive:""},null,8,["value","suffix","label","mode","onUpdate:value"])])])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(K,{ref:"yamlEditor","user-script":e.userScript,mode:e.mode,"view-code":e.isWindows,namespace:a.value.metadata.namespace,"network-script":e.networkScript,onUpdateUserData:e.updateUserData,onUpdateNetworkData:e.updateNetworkData,onUpdateDataTemplateId:e.updateDataTemplateId},null,8,["user-script","mode","view-code","namespace","network-script","onUpdateUserData","onUpdateNetworkData","onUpdateDataTemplateId"]),a.value.cpuPinningFeatureEnabled?((0,o.openBlock)(),(0,o.createBlock)(B,{key:1,value:e.cpuPinning,"onUpdate:value":t[19]||(t[19]=t=>e.cpuPinning=t),disabled:!E.enableCpuPinningCheckbox,class:"check",type:"checkbox","tooltip-key":"harvester.virtualMachine.cpuPinning.tooltip","label-key":"harvester.virtualMachine.cpuPinning.label",mode:e.mode},null,8,["value","disabled","mode"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(B,{value:e.installUSBTablet,"onUpdate:value":t[20]||(t[20]=t=>e.installUSBTablet=t),class:"check mt-20",type:"checkbox","tooltip-key":"harvester.virtualMachine.usbTip","label-key":"harvester.virtualMachine.enableUsb",mode:e.mode},null,8,["value","mode"]),(0,o.createVNode)(B,{value:e.installAgent,"onUpdate:value":[t[21]||(t[21]=t=>e.installAgent=t),e.updateAgent],class:"check",type:"checkbox",disabled:e.isWindows,"label-key":"harvester.virtualMachine.installAgent",mode:e.mode},null,8,["value","disabled","mode","onUpdate:value"]),(0,o.createVNode)(B,{value:e.tpmEnabled,"onUpdate:value":t[22]||(t[22]=t=>e.tpmEnabled=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.advancedOptions.tpm",mode:e.mode},null,8,["value","mode"]),(0,o.createVNode)(B,{value:e.efiEnabled,"onUpdate:value":t[23]||(t[23]=t=>e.efiEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.efiEnabled"),mode:e.mode},null,8,["value","label","mode"]),e.efiEnabled?((0,o.openBlock)(),(0,o.createBlock)(B,{key:2,value:e.secureBoot,"onUpdate:value":t[24]||(t[24]=t=>e.secureBoot=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.secureBoot"),mode:e.mode},null,8,["value","label","mode"])):(0,o.createCommentVNode)("",!0),E.showCpuPinningBanner?((0,o.openBlock)(),(0,o.createBlock)(H,{key:3,color:"warning"},{default:(0,o.withCtx)((()=>["create"===e.mode?((0,o.openBlock)(),(0,o.createBlock)(j,{key:0,to:E.to,"prefix-label":"harvester.virtualMachine.advancedOptions.cpuManager.prefix","middle-label":"harvester.virtualMachine.advancedOptions.cpuManager.middle","suffix-label":"harvester.virtualMachine.advancedOptions.cpuManager.suffix"},null,8,["to"])):(0,o.createCommentVNode)("",!0),"edit"===e.mode?((0,o.openBlock)(),(0,o.createElementBlock)("span",N,(0,o.toDisplayString)(e.t("harvester.virtualMachine.cpuPinning.restartVMMessage")),1)):(0,o.createCommentVNode)("",!0)])),_:1})):(0,o.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["onChanged"]),V.isOpen?((0,o.openBlock)(),(0,o.createBlock)(z,{key:3,ref:"restartDialog",vm:a.value},null,8,["vm"])):(0,o.createCommentVNode)("",!0)])),_:1},8,["done-route","resource","mode","can-yaml","errors","generate-yaml","apply-hooks","onFinish","onCancel"])):(0,o.createCommentVNode)("",!0)}var V=a(45250),E=a(65359),w=a(35244),C=a(12327),S=a(3276),B=a(66210),A=a(83328),x=a(53512),_=a(70052),D=a(83504),U=a(43631),M=a(58825),L=a(18648),T=a(63949),O=a(23910),I=a(10707),R=a(74457),$=a(24759),P=a(65852),q=a(3196),F=a(71898),G=a(2602),K=a(23443),j=a(81357),H=a(66490),J=a(48249),z=a(32766),Q=a(80296),Y=a(7060),W=a(60068),Z=a(81559),X=a(75403),ee=a(8746),te=a(83141),ae=a(78025),oe=a(5257),le=a(58832),se=a(21398),re={name:"HarvesterEditVM",emits:["update:value"],components:{Tab:C.A,Tabbed:w.A,Checkbox:S.S,RadioGroup:A.z,CruResource:B.A,LabeledInput:x.o,LabeledSelect:_.A,NameNsDescription:D.A,Volume:te["default"],SSHKey:ae["default"],Network:ee["default"],CpuMemory:X["default"],CloudConfig:Z["default"],NodeScheduling:L.A,PodAffinity:T.A,AccessCredentials:W["default"],Reserved:oe["default"],Labels:M.A,PciDevices:Y["default"],RestartVMDialog:Q["default"],UnitInput:U.A,VGpuDevices:O["default"],KeyValue:R.A,Banner:le.l,MessageLink:se.A,UsbDevices:I["default"]},mixins:[j.A,J.Ay],inheritAttrs:!1,props:{value:{type:Object,required:!0}},data(){const e=(0,P.o8)(this.value),t="Running"===this.value.actualState,a=this.value.spec.template.spec.hostname||"";return{cloneVM:e,count:2,templateId:"",templateVersionId:"",namePrefix:"",isSingle:!0,useTemplate:!1,isOpen:!1,hostname:a,isRestartImmediately:t}},computed:{...(0,E.L8)({t:"i18n/t"}),to(){return{name:"harvester-c-cluster-resource",params:{cluster:this.$store.getters["clusterId"],resource:z.rk.HOST}}},machineTypeOptions(){return[{label:"None",value:""},{label:"q35",value:"q35"}]},templateOptions(){return this.templates.map((e=>{const t=this.hasAvailableVersion(e.id);return{label:e.id,value:e.id,disabled:!t}}))},versionOptions(){const e=this.curTemplateResource?.defaultVersion;return this.versions.filter((e=>e.templateId===this.templateId)).map((t=>{const a=t.version,o=e===a?`${a} (${this.t("generic.default")})`:a,l=t.id;return{label:o,value:l,disabled:!t.isReady}}))},curTemplateResource(){return this.templates.find((e=>e.id===this.templateId))},nameLabel(){return this.isSingle?"harvester.virtualMachine.instance.single.nameLabel":"harvester.virtualMachine.instance.multiple.nameLabel"},hostnameLabel(){return this.isSingle?"harvester.virtualMachine.instance.single.host.label":"harvester.virtualMachine.instance.multiple.host.label"},hostPlaceholder(){return this.isSingle?this.t("harvester.virtualMachine.instance.single.host.placeholder"):this.t("harvester.virtualMachine.instance.multiple.host.placeholder")},secretNamePrefix(){return this.value?.metadata?.name},isQemuInstalled(){return this.value.isQemuInstalled},hasRestartAction(){return this.value.hasAction("restart")},hasStartAction(){return this.value.hasAction("start")},enableCpuPinningCheckbox(){return"create"!==this.mode||this.nodes.some((e=>e.isCPUManagerEnabled))},showCpuPinningBanner(){return!!this.value.cpuPinningFeatureEnabled&&("edit"===this.mode?this.cpuPinning!==!!this.cloneVM.spec.template.spec.domain.cpu.dedicatedCpuPlacement:"create"===this.mode&&this.nodes.every((e=>!e.isCPUManagerEnabled)))}},watch:{templateId:{async handler(e,t){if(e&&e!==t&&!this.templateVersionId){const t=await this.$store.dispatch("harvester/findAll",{type:z.rk.VM_TEMPLATE});this.templateVersionId=t.find((t=>t.id===e))?.spec?.defaultVersionId}},immediate:!1},templateVersionId:{async handler(e){if(!e)return;const t=await this.$store.dispatch("harvester/findAll",{type:z.rk.VM_VERSION}),a=t.find((t=>t.id===e)),o=(0,P.o8)(a.spec.vm);delete o.spec?.template?.spec?.accessCredentials,delete o.spec?.template?.metadata?.annotations?.[G.r.DYNAMIC_SSHKEYS_NAMES],delete o.spec?.template?.metadata?.annotations?.[G.r.DYNAMIC_SSHKEYS_USERS];const l=(0,H.v)(o),s=l.map((e=>(e?.spec?.dataSource&&delete e.spec.dataSource,e)));o.metadata.annotations[G.r.VOLUME_CLAIM_TEMPLATE]=JSON.stringify(s),this.getInitConfig({value:o,existUserData:!0,fromTemplate:!0}),this["hasCreateVolumes"]=[]}},useTemplate(e){!1===e&&(this.templateId="",this.templateVersionId="",this.value.applyDefaults(),this.getInitConfig({value:this.value,init:this.isCreate}))}},created(){this.registerAfterHook((async()=>{await this.restartVM();const e=`${this.value.metadata.namespace}/${this.value.metadata.name}`,t=this.$store.getters["harvester/byId"](z.rk.VM,e);try{await this.saveSecret(t),await this.saveAccessCredentials(t)}catch(a){this.errors.push(...(0,F.rz)(a))}!this.errors.length&&this.isSingle&&this.done()})),this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},mounted(){this.imageId=this.$route.query?.image||this.imageId;const e=this.getDiskRows(this.value);this["diskRows"]=e;const t=this.$route.query.templateId,a=this.$route.query.versionId;t&&a&&(this.templateId=t,this.templateVersionId=a,this.useTemplate=!0)},methods:{cancelAction(){const{fromPage:e=z.rk.VM}=this.$route?.query,t={name:this.doneRoute,params:{resource:e}};this.$router.replace(t)},saveVM(e){(0,$.IU)(this.errors),this.isSingle?this.saveSingle(e):this.saveMultiple(e)},async saveSingle(e){this.parseVM(),this.value.spec.template.spec.hostname=this.hostname?this.hostname:this.value.metadata.name,await this._save(this.value,e),this.errors.length?e(!1):e(!0)},async saveMultiple(e){this.namePrefix=this.value.metadata.name||"";const t=this.namePrefix.endsWith("-")?"":"-",a=this.hostname?this.hostname:this.namePrefix;if(this.count<1)return this.errors=[this.t("harvester.virtualMachine.instance.multiple.countTip")],void e(!1);if(!this.value.metadata.name)return this.errors.push(this.t("validation.required",{key:this.t("generic.name")},!0)),void e(!1);const o=(0,P.o8)(this.value),l=(0,P.o8)(this.spec);for(let s=1;s<=this.count;s++){this.value["spec"]=o.spec,this["spec"]=l;const r=s<10?`0${s}`:s;this.value.cleanForNew(),this.value.metadata.name=`${this.namePrefix}${t}${r}`,this.value.spec.template.spec["hostname"]=`${a}${t}${r}`,this.secretName="",await this.parseVM();const n=await this.$store.dispatch("harvester/clone",{resource:this.value});await this._save(n,e),s!==this.count||this.errors.length?s===this.count&&(this.value.metadata.name=this.namePrefix,e(!1)):(e(!0),this.done())}},async _save(e,t){try{await this.applyHooks(K.Fm),await e.save(),await this.applyHooks(K.Mz)}catch(a){this.errors.push(...(0,F.rz)(a)),t(!1)}},restartVM(){if("edit"!==this.mode)return;if(!this.value.isRunning)return;const e=(0,P.o8)(this.value);delete e?.metadata,delete this.cloneVM?.metadata,delete this.cloneVM?.__clone;const t=JSON.parse(JSON.stringify(this.cloneVM)),a=JSON.parse(JSON.stringify(e));return(0,V.isEqual)(t,a)?void 0:new Promise((e=>{this.isOpen=!0,this.$nextTick((()=>{this.$refs.restartDialog.resolve=e}))}))},updateBeforeSave(){this.isSingle&&(this.value.spec.template.spec.hostname||(this.value.spec.template.spec["hostname"]=this.value.metadata.name));const e=this.getAccessCredentialsValidation();return e.length>0?Promise.reject(e):Promise.resolve()},validateCount(e){e>10&&(this["count"]=10)},updateTemplateId(){this.templateVersionId=""},onTabChanged({tab:e}){"advanced"===e.name&&this.$refs.yamlEditor?.refresh()},hasAvailableVersion(e){let t=!1;return this.versions.filter((t=>t.templateId===e)).find((e=>{e.isReady&&(t=!0)})),t},generateYaml(){this.parseVM();const e=(0,q.Kq)(this.value);return e}}},ne=(a(28438),a(47433));const ie=(0,ne.A)(re,[["render",k],["__scopeId","data-v-284b1d80"]]);var de=ie},89625:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var o=a(9274);const l={key:0},s={key:0,class:"pool-project"},r={class:"pool-namespace"},n={key:1,class:"pool-guestCluster"},i={key:2,class:"remove"},d={key:1,class:"footer"};function c(e,t,a,c,u,p){const m=(0,o.resolveComponent)("t"),v=(0,o.resolveComponent)("PriorityRow");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("harvester.ipPool.scope.label")),1),u.rows.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["pool-headers",{"show-project-and-cluster":p.showProjectAndCluster}])},[p.showProjectAndCluster?((0,o.openBlock)(),(0,o.createElementBlock)("span",s,[(0,o.createVNode)(m,{k:"harvester.ipPool.project.label"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",r,[(0,o.createVNode)(m,{k:"harvester.ipPool.namespace.label"})]),p.showProjectAndCluster?((0,o.openBlock)(),(0,o.createElementBlock)("span",n,[(0,o.createVNode)(m,{k:"harvester.ipPool.guestCluster.label"})])):(0,o.createCommentVNode)("",!0),p.showRemove?((0,o.openBlock)(),(0,o.createElementBlock)("span",i)):(0,o.createCommentVNode)("",!0)],2),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(u.rows,((t,l)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:l},[(0,o.createVNode)(v,{row:t,mode:a.mode,rows:u.rows,idx:l,"onUpdate:value":e.queueUpdate,onRemove:e=>p.remove(l)},null,8,["row","mode","rows","idx","onUpdate:value","onRemove"])])))),128))])):(0,o.createCommentVNode)("",!0),p.showAdd?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[0]||(t[0]=e=>p.add())},[(0,o.createVNode)(m,{k:"harvester.ipPool.scope.addLabel"})])])):(0,o.createCommentVNode)("",!0)])}var u=a(12784),p=a.n(u),m=a(75040),v=a(24759),h=a(65852),b=a(65359),g=a(1214),f={emits:["update:value"],components:{PriorityRow:g["default"]},props:{value:{type:Array,default:null},mode:{type:String,default:m.G5},autoAddIfEmpty:{type:Boolean,default:!0}},data(){const e=(0,h.o8)(this.value||[]);return{rows:e}},computed:{...(0,b.L8)(["isRancherInHarvester","isStandaloneHarvester"]),isView(){return this.mode===m.nW},showAdd(){return!this.isView},showRemove(){return!this.isView},showProjectAndCluster(){return!this.isStandaloneHarvester}},created(){this.queueUpdate=p()(this.update,500)},methods:{add(){const e={namespace:"*"};this.showProjectAndCluster?this.rows.push({...e,project:"*",guestCluster:"*"}):this.rows.push(e),this.queueUpdate()},remove(e){(0,v.Wq)(this.rows,e),this.queueUpdate()},update(){this.isView||this.$emit("update:value",this.rows)}}},y=(a(30347),a(47433));const N=(0,y.A)(f,[["render",c],["__scopeId","data-v-3ca2ec55"]]);var k=N},1214:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var o=a(9274);const l={key:0,class:"pool-project"},s={key:0},r={class:"pool-namespace"},n={key:0},i={key:1,class:"pool-guestCluster"},d={key:0},c={key:2,class:"remove"};function u(e,t,a,u,p,m){const v=(0,o.resolveComponent)("Select"),h=(0,o.resolveComponent)("t");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["pool-row",{"show-project-and-cluster":m.showProjectAndCluster}])},[m.showProjectAndCluster?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[m.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",s,(0,o.toDisplayString)(a.row.project),1)):((0,o.openBlock)(),(0,o.createBlock)(v,{key:1,value:a.row.project,"onUpdate:value":[t[0]||(t[0]=e=>a.row.project=e),m.update],options:m.projectOptions},null,8,["value","options","onUpdate:value"]))])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",r,[m.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",n,(0,o.toDisplayString)(a.row.namespace),1)):((0,o.openBlock)(),(0,o.createBlock)(v,{key:1,value:a.row.namespace,"onUpdate:value":[t[1]||(t[1]=e=>a.row.namespace=e),m.update],options:m.namespaceOptions},null,8,["value","options","onUpdate:value"]))]),m.showProjectAndCluster?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[m.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",d,(0,o.toDisplayString)(a.row.guestCluster),1)):((0,o.openBlock)(),(0,o.createBlock)(v,{key:1,value:a.row.guestCluster,"onUpdate:value":[t[2]||(t[2]=e=>a.row.guestCluster=e),m.update],options:m.guestClusterOptions},null,8,["value","options","onUpdate:value"]))])):(0,o.createCommentVNode)("",!0),m.showRemove?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-link",onClick:t[3]||(t[3]=e=>m.remove(a.idx))},[(0,o.createVNode)(h,{k:"generic.remove"})])])):(0,o.createCommentVNode)("",!0)],2)}var p=a(75040),m=a(84818),v=a(4284),h=a(65359),b=a(32766),g={emits:["update:value","remove"],components:{Select:m.A},props:{row:{type:Object,default:()=>({})},mode:{type:String,default:p.G5},rows:{type:Array,default:()=>[]},idx:{type:Number,required:!0}},data(){return{value:""}},computed:{...(0,h.L8)(["allNamespaces","currentCluster","isRancherInHarvester","isStandaloneHarvester"]),showProjectAndCluster(){return!this.isStandaloneHarvester},isView(){return this.mode===p.nW},showRemove(){return!this.isView},filteredNamespaces(){const e=this.allNamespaces||[];return e.filter((e=>"*"===this.row.project||(!this.row.project||e.project?.id===this.row.project)))},namespaceOptions(){const e=(this.filteredNamespaces||[]).map((e=>({label:e.metadata.name,value:e.id})));return[{label:this.t("generic.all"),value:"*"},...e]},guestClusterOptions(){const e=this.$store.getters["management/all"](v.qt.RANCHER_CLUSTER),t=this.$store.getters["management/all"](b.rk.HARVESTER_CONFIG),a=this.rows.map((e=>e?.guestCluster)),o=this.filteredNamespaces.map((e=>e.id)),l=e.filter((e=>{const l=e.spec?.rkeConfig?.machinePools||[],s=l[0]?.machineConfigRef?.name,r=t.find((e=>e.id===`fleet-default/${s}`));if(r){const t=r?.vmNamespace;return!("*"!==this.row.namespace||!o.includes(t))||t===this.row.namespace&&!a.includes(e.id)}return!1})).map((e=>({label:e.nameDisplay,value:e.metadata.name})));return[{label:this.t("generic.none"),value:""},{label:this.t("generic.all"),value:"*"},...l]},projectOptions(){const e=this.$store.getters["management/all"](v.Mc.PROJECT),t=e.filter((e=>e.metadata.namespace===this.currentCluster.id)).map((e=>({label:e.nameDisplay,value:e.id})));return[{label:this.t("generic.none"),value:""},{label:this.t("generic.all"),value:"*"},...t]}},methods:{update(){const{namespace:e,project:t,guestCluster:a}=this.row;this.$emit("update:value",{namespace:e,project:t,guestCluster:a})},remove(){this.$emit("remove")}},watch:{"row.project"(){"*"!==this.row.namespace&&(this.row.namespace=""),"*"===this.row.guestCluster&&""===this.row.guestCluster||(this.row.guestCluster="")},"row.namespace"(){"*"!==this.row.guestCluster&&(this.row.guestCluster="")}}},f=(a(59688),a(47433));const y=(0,f.A)(g,[["render",u],["__scopeId","data-v-6c39bd05"]]);var N=y},52728:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-070c8736"),e=e(),(0,o.popScopeId)(),e),s={key:0},r={class:"pool-subnet"},n=l((()=>(0,o.createElementVNode)("span",{class:"text-error"}," * ",-1))),i={class:"pool-gateway"},d={key:0,class:"pool-startIP"},c={key:1,class:"pool-endIP"},u={key:2,class:"remove"},p={class:"pool-subnet"},m={key:0},v=["onUpdate:modelValue"],h={class:"pool-gateway"},b={key:0},g=["onUpdate:modelValue"],f={key:0,class:"pool-startIP"},y={key:0},N=["onUpdate:modelValue"],k={key:1,class:"pool-endIP"},V={key:0},E=["onUpdate:modelValue"],w={key:2,class:"remove"},C=["onClick"],S={key:1,class:"footer"};function B(e,t,a,l,B,A){const x=(0,o.resolveComponent)("t");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[B.rows.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(B.rows,((a,l)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:l},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["pool-headers",{[a.type]:!0}])},[(0,o.createElementVNode)("span",r,[(0,o.createVNode)(x,{k:"harvester.ipPool.subnet.label"}),n]),(0,o.createElementVNode)("span",i,[(0,o.createVNode)(x,{k:"harvester.ipPool.gateway.label"})]),"range"===a.type?((0,o.openBlock)(),(0,o.createElementBlock)("span",d,[(0,o.createVNode)(x,{k:"harvester.ipPool.startIP.label"})])):(0,o.createCommentVNode)("",!0),"range"===a.type?((0,o.openBlock)(),(0,o.createElementBlock)("span",c,[(0,o.createVNode)(x,{k:"harvester.ipPool.endIP.label"})])):(0,o.createCommentVNode)("",!0),A.showRemove?((0,o.openBlock)(),(0,o.createElementBlock)("span",u)):(0,o.createCommentVNode)("",!0)],2),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["pool-row",{[a.type]:!0}])},[(0,o.createElementVNode)("div",p,[A.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",m,(0,o.toDisplayString)(a.subnet),1)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.subnet=e,type:"text",onInput:t[0]||(t[0]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,v)),[[o.vModelText,a.subnet]])]),(0,o.createElementVNode)("div",h,[A.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",b,(0,o.toDisplayString)(a.gateway),1)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.gateway=e,type:"text",onInput:t[1]||(t[1]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,g)),[[o.vModelText,a.gateway]])]),"range"===a.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",f,[A.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",y,(0,o.toDisplayString)(a.rangeStart),1)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.rangeStart=e,type:"text",onInput:t[2]||(t[2]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,N)),[[o.vModelText,a.rangeStart]])])):(0,o.createCommentVNode)("",!0),"range"===a.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",k,[A.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",V,(0,o.toDisplayString)(a.rangeEnd),1)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.rangeEnd=e,type:"text",onInput:t[3]||(t[3]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,E)),[[o.vModelText,a.rangeEnd]])])):(0,o.createCommentVNode)("",!0),A.showRemove?((0,o.openBlock)(),(0,o.createElementBlock)("div",w,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-link",onClick:e=>A.remove(l)},[(0,o.createVNode)(x,{k:"generic.remove"})],8,C)])):(0,o.createCommentVNode)("",!0)],2)])))),128))])):(0,o.createCommentVNode)("",!0),A.showAdd?((0,o.openBlock)(),(0,o.createElementBlock)("div",S,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[4]||(t[4]=e=>A.addCIDR())},[(0,o.createVNode)(x,{k:"harvester.ipPool.cidr.addLabel"})]),(0,o.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[5]||(t[5]=e=>A.addRange())},[(0,o.createVNode)(x,{k:"harvester.ipPool.range.addLabel"})])])):(0,o.createCommentVNode)("",!0)])}var A=a(12784),x=a.n(A),_=a(75040),D=a(24759),U={emits:["update:value"],props:{value:{type:Array,default:null},mode:{type:String,default:_.G5},specType:{type:String,default:"ClusterIP"},autoAddIfEmpty:{type:Boolean,default:!0}},data(){const e=(this.value||[]).map((e=>{let t="cidr";return e.rangeStart&&e.rangeEnd&&(t="range"),{...e,type:t}}));return{rows:e}},computed:{isView(){return this.mode===_.nW},showAdd(){return!this.isView},showRemove(){return!this.isView}},created(){this.queueUpdate=x()(this.update,500)},methods:{addCIDR(){this.rows.push({subnet:"",gateway:"",type:"cidr"}),this.queueUpdate()},addRange(){this.rows.push({subnet:"",gateway:"",rangeStart:"",rangeEnd:"",type:"range"}),this.queueUpdate()},remove(e){(0,D.Wq)(this.rows,e),this.queueUpdate()},update(){this.isView||this.$emit("update:value",this.rows)}}},M=(a(90839),a(47433));const L=(0,M.A)(U,[["render",B],["__scopeId","data-v-070c8736"]]);var T=L},10788:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const l={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,o.resolveComponent)("LabeledSelect"),u=(0,o.resolveComponent)("LabeledInput"),p=(0,o.resolveComponent)("Priority");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(c,{value:i.selector.network,"onUpdate:value":[t[0]||(t[0]=e=>i.selector.network=e),e.queueUpdate],label:e.t("harvester.ipPool.network.label"),options:d.networkOptions,mode:a.mode},null,8,["value","label","options","mode","onUpdate:value"])]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(u,{value:i.selector.priority,"onUpdate:value":[t[1]||(t[1]=e=>i.selector.priority=e),d.update],valueModifiers:{number:!0},label:e.t("harvester.ipPool.priority.label"),mode:a.mode,type:"number",min:"0"},null,8,["value","label","mode","onUpdate:value"])])]),(0,o.createVNode)(p,{value:i.selector.scope,"onUpdate:value":[t[2]||(t[2]=e=>i.selector.scope=e),d.update],class:"col span-12",mode:a.mode},null,8,["value","mode","onUpdate:value"])])}var i=a(12784),d=a.n(i),c=a(70052),u=a(53512),p=a(4284),m=a(75040),v=a(89625),h={emits:["update:value"],components:{LabeledSelect:c.A,LabeledInput:u.o,Priority:v["default"]},props:{value:{type:Object,default:()=>({})},mode:{type:String,default:m.G5}},data(){const e=this.value||{network:"",priority:0,scope:[]};return{selector:e}},computed:{networkOptions(){const e=this.$store.getters["harvester/all"](p.XG)||[];return[{label:this.t("generic.none"),value:""},...e.map((e=>({label:e.id,value:e.id})))]}},created(){this.queueUpdate=d()(this.update,500)},methods:{update(){this.isView||this.$emit("update:value",this.selector)}}},b=a(47433);const g=(0,b.A)(h,[["render",n]]);var f=g},59405:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("NameNsDescription"),i=(0,o.resolveComponent)("Range"),d=(0,o.resolveComponent)("Tab"),c=(0,o.resolveComponent)("Selector"),u=(0,o.resolveComponent)("ResourceTabs"),p=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(p,{"done-route":e.doneRoute,resource:e.value,mode:e.mode,errors:s.errors,"apply-hooks":e.applyHooks,"yaml-modifiers":r.yamlModifiers,onFinish:e.save},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{value:e.value,namespaced:!1,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,o.createVNode)(u,{class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{name:"range",label:e.t("harvester.ipPool.tabs.range"),weight:98,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:e.value.spec.ranges,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.ranges=t),class:"col span-12",mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"]),(0,o.createVNode)(d,{name:"selector",label:e.t("harvester.ipPool.tabs.selector"),weight:97,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{value:e.value.spec.selector,"onUpdate:value":t[2]||(t[2]=t=>e.value.spec.selector=t),mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"])])),_:1},8,["mode"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","yaml-modifiers","onFinish"])}var s=a(83504),r=a(58737),n=a(12327),i=a(81357),d=a(4284),c=a(68844),u=a(66210),p=a(32766),m=a(52728),v=a(10788),h={name:"HarvesterIPPool",emits:["update:value"],components:{NameNsDescription:s.A,ResourceTabs:r.A,Tab:n.A,CruResource:u.A,Range:m["default"],Selector:v["default"]},mixins:[i.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={networks:this.$store.dispatch(`${e}/findAll`,{type:d.XG}),settings:this.$store.dispatch(`${e}/findAll`,{type:p.rk.SETTING})};this.$store.getters["management/schemaFor"](p.rk.HARVESTER_CONFIG)&&(t.harvesterConfigs=this.$store.dispatch("management/findAll",{type:p.rk.HARVESTER_CONFIG})),this.$store.getters["management/schemaFor"](d.qt.RANCHER_CLUSTER)&&(t.rancherClusters=this.$store.dispatch("management/findAll",{type:d.qt.RANCHER_CLUSTER})),await(0,c.kR)(t)},data(){return{errors:[]}},computed:{yamlModifiers(){const e=["metadata.managedFields","metadata.relationships","metadata.state","links","type","id"];return this.isCreate&&e.push("status"),{activelyRemove:e}}}},b=a(47433);const g=(0,b.A)(h,[["render",l]]);var f=g},68201:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={key:0},n={class:"row mt-10"},i={key:0,class:"col span-6"},d={class:"col span-6"},c={class:"row mt-10"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mt-10"},v={class:"col span-6"};function h(e,t,a,h,b,g){const f=(0,o.resolveComponent)("RadioGroup"),y=(0,o.resolveComponent)("LabeledSelect"),N=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(f,{value:b.healthCheckEnabled,"onUpdate:value":t[0]||(t[0]=e=>b.healthCheckEnabled=e),mode:a.mode,name:"healthCheckEnabled",labels:[e.t("generic.disabled"),e.t("generic.enabled")],options:[!1,!0],disabled:a.disabled,onInput:g.onToggle},null,8,["value","mode","labels","disabled","onInput"])])]),b.healthCheckEnabled?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",n,[b.healthCheckEnabled?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.createVNode)(y,{value:a.value.port,"onUpdate:value":t[1]||(t[1]=e=>a.value.port=e),mode:a.mode,options:g.portOptions,required:"",label:e.t("harvester.service.healthCheckPort.label"),disabled:a.disabled},null,8,["value","mode","options","label","disabled"])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(N,{value:a.value.successThreshold,"onUpdate:value":t[2]||(t[2]=e=>a.value.successThreshold=e),valueModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckSuccessThreshold.label"),tooltip:e.t("harvester.service.healthCheckSuccessThreshold.description"),disabled:a.disabled},null,8,["value","mode","label","tooltip","disabled"])])]),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(N,{value:a.value.failureThreshold,"onUpdate:value":t[3]||(t[3]=e=>a.value.failureThreshold=e),valueModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckFailureThreshold.label"),tooltip:e.t("harvester.service.healthCheckFailureThreshold.description"),disabled:a.disabled},null,8,["value","mode","label","tooltip","disabled"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(N,{value:a.value.periodSeconds,"onUpdate:value":t[4]||(t[4]=e=>a.value.periodSeconds=e),valueModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckPeriod.label"),disabled:a.disabled},null,8,["value","mode","label","disabled"])])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(N,{value:a.value.timeoutSeconds,"onUpdate:value":t[5]||(t[5]=e=>a.value.timeoutSeconds=e),valueModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckTimeout.label"),disabled:a.disabled},null,8,["value","mode","label","disabled"])])])])):(0,o.createCommentVNode)("",!0)])}var b=a(53512),g=a(70052),f=a(77163),y={emits:["enabled"],components:{LabeledInput:b.o,LabeledSelect:g.A,RadioGroup:f.A},props:{value:{type:Object,required:!0},model:{type:Object,required:!0},mode:{type:String,default:"create"},disabled:{type:Boolean,default:!1}},data(){return{healthCheckEnabled:!!this.value.port}},computed:{portOptions(){const e=this.model?.spec?.listeners||[];return e.filter((e=>e.port&&"TCP"===e.protocol)).map((e=>e.backendPort))||[]}},methods:{onToggle(e){this.$emit("enabled",e)}}},N=a(47433);const k=(0,N.A)(y,[["render",h]]);var V=k},67347:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-602acdc3"),e=e(),(0,o.popScopeId)(),e),s={key:0},r={class:"listener-headers"},n={class:"listener-name"},i={class:"listener-protocol"},d={class:"listener-port"},c=l((()=>(0,o.createElementVNode)("span",{class:"text-error"}," * ",-1))),u={class:"listener-backendPort"},p=l((()=>(0,o.createElementVNode)("span",{class:"text-error"}," * ",-1))),m={key:0,class:"remove"},v={class:"port-name"},h={key:0},b=["onUpdate:modelValue","placeholder"],g={class:"port-protocol"},f={key:0},y={class:"port"},N={key:0},k=["onUpdate:modelValue","placeholder"],V={class:"target-port"},E={key:0},w=["onUpdate:modelValue","placeholder"],C={key:0,class:"remove"},S=["onClick"],B={key:1,class:"footer"};function A(e,t,a,l,A,x){const _=(0,o.resolveComponent)("t"),D=(0,o.resolveComponent)("Select");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[A.rows.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("span",n,[(0,o.createVNode)(_,{k:"harvester.loadBalancer.listeners.name.label"})]),(0,o.createElementVNode)("span",i,[(0,o.createVNode)(_,{k:"harvester.loadBalancer.listeners.protocol.label"})]),(0,o.createElementVNode)("span",d,[(0,o.createVNode)(_,{k:"harvester.loadBalancer.listeners.port.label"}),c]),(0,o.createElementVNode)("span",u,[(0,o.createVNode)(_,{k:"harvester.loadBalancer.listeners.backendPort.label"}),p]),x.showRemove?((0,o.openBlock)(),(0,o.createElementBlock)("span",m)):(0,o.createCommentVNode)("",!0)]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(A.rows,((a,l)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:l,class:"listener-row"},[(0,o.createElementVNode)("div",v,[x.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",h,(0,o.toDisplayString)(a.name),1)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,ref_for:!0,ref:"port-name","onUpdate:modelValue":e=>a.name=e,type:"text",placeholder:e.t("servicePorts.rules.name.placeholder"),onInput:t[0]||(t[0]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,b)),[[o.vModelText,a.name,void 0,{number:!0}]])]),(0,o.createElementVNode)("div",g,[x.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",f,(0,o.toDisplayString)(a.protocol),1)):((0,o.openBlock)(),(0,o.createBlock)(D,{key:1,value:a.protocol,"onUpdate:value":e=>a.protocol=e,options:x.protocolOptions,onInput:e.queueUpdate},null,8,["value","onUpdate:value","options","onInput"]))]),(0,o.createElementVNode)("div",y,[x.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",N,(0,o.toDisplayString)(a.port),1)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,ref_for:!0,ref:"port","onUpdate:modelValue":e=>a.port=e,type:"number",min:"1",max:"65535",placeholder:e.t("servicePorts.rules.listening.placeholder"),onInput:t[1]||(t[1]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,k)),[[o.vModelText,a.port,void 0,{number:!0}]])]),(0,o.createElementVNode)("div",V,[x.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",E,(0,o.toDisplayString)(a.backendPort),1)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.backendPort=e,type:"number",min:"1",max:"65535",placeholder:e.t("harvester.loadBalancer.listeners.backendPort.placeholder"),onInput:t[2]||(t[2]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,w)),[[o.vModelText,a.backendPort,void 0,{number:!0}]])]),x.showRemove?((0,o.openBlock)(),(0,o.createElementBlock)("div",C,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-link",onClick:e=>x.remove(l)},[(0,o.createVNode)(_,{k:"generic.remove"})],8,S)])):(0,o.createCommentVNode)("",!0)])))),128))])):(0,o.createCommentVNode)("",!0),x.showAdd?((0,o.openBlock)(),(0,o.createElementBlock)("div",B,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[3]||(t[3]=e=>x.add())},[(0,o.createVNode)(_,{k:"generic.add"})])])):(0,o.createCommentVNode)("",!0)])}var x=a(12784),_=a.n(x),D=a(75040),U=a(24759),M=a(65852),L=a(84818),T={emits:["update:value"],components:{Select:L.A},props:{value:{type:Array,default:null},mode:{type:String,default:D.G5},autoAddIfEmpty:{type:Boolean,default:!0}},data(){const e=(0,M.o8)(this.value||[]);return{rows:e}},computed:{isView(){return this.mode===D.nW},showAdd(){return!this.isView},showRemove(){return!this.isView},protocolOptions(){return["TCP","UDP"]}},created(){this.queueUpdate=_()(this.update,500)},mounted(){this.isView||this.autoAddIfEmpty&&this.mode!==D.G5&&this?.rows.length<1&&this.add(!1)},methods:{add(e=!0){this.rows.push({name:"",port:null,protocol:"TCP",backendPort:null}),this.queueUpdate(),this.rows.length>0&&e&&this.$nextTick((()=>{const e=this.$refs["port-name"];e[e.length-1].focus()}))},remove(e){(0,U.Wq)(this.rows,e),this.queueUpdate()},update(){this.isView||this.$emit("update:value",this.rows)}}},O=(a(50004),a(47433));const I=(0,O.A)(T,[["render",A],["__scopeId","data-v-602acdc3"]]);var R=I},49464:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={key:0,class:"col span-6"},n={class:"row"},i={class:"col span-12"};function d(e,t,a,d,c,u){const p=(0,o.resolveComponent)("NameNsDescription"),m=(0,o.resolveComponent)("LabeledSelect"),v=(0,o.resolveComponent)("Tab"),h=(0,o.resolveComponent)("Banner"),b=(0,o.resolveComponent)("Listeners"),g=(0,o.resolveComponent)("KeyValue"),f=(0,o.resolveComponent)("HealthCheck"),y=(0,o.resolveComponent)("ResourceTabs"),N=(0,o.resolveComponent)("CruResource"),k=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(N,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,"yaml-modifiers":u.yamlModifiers,onFinish:e.save},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{value:a.value,namespaced:!0,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,o.createVNode)(y,{class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(v,{name:"basic",label:e.t("harvester.loadBalancer.tabs.basic"),weight:99,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(m,{value:a.value.spec.ipam,"onUpdate:value":t[1]||(t[1]=e=>a.value.spec.ipam=e),label:e.t("harvester.loadBalancer.ipam.label"),options:u.ipamOption,mode:e.mode},null,8,["value","label","options","mode"])]),"pool"===a.value.spec.ipam?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(m,{value:a.value.spec.ipPool,"onUpdate:value":[t[2]||(t[2]=e=>a.value.spec.ipPool=e),u.update],label:e.t("harvester.loadBalancer.ipPool.label"),options:u.ipPoolOptions,mode:e.mode},null,8,["value","label","options","mode","onUpdate:value"])])):(0,o.createCommentVNode)("",!0)])])),_:1},8,["label"]),"vm"===a.value.spec.workloadType?((0,o.openBlock)(),(0,o.createBlock)(v,{key:0,name:"listeners",label:e.t("harvester.loadBalancer.tabs.listeners"),weight:98,class:"bordered-table"},{default:(0,o.withCtx)((()=>[u.healthCheckPortInUseWarning?((0,o.openBlock)(),(0,o.createBlock)(h,{key:0,color:"warning"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("span",null,null,512),[[k,u.healthCheckPortInUseWarning]])])),_:1})):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(b,{value:a.value.spec.listeners,"onUpdate:value":t[3]||(t[3]=e=>a.value.spec.listeners=e),class:"col span-12",mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),"vm"===a.value.spec.workloadType?((0,o.openBlock)(),(0,o.createBlock)(v,{key:1,name:"backendServer",label:e.t("harvester.loadBalancer.tabs.backendServer"),weight:97,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(h,{color:c.matchingVMs.none?"warning":"success"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("span",null,null,512),[[k,e.t("harvester.loadBalancer.backendServerSelector.matchingVMs.matchesSome",c.matchingVMs)]])])),_:1},8,["color"])])]),(0,o.createVNode)(g,{value:u.backendServerSelector,"onUpdate:value":t[4]||(t[4]=e=>u.backendServerSelector=e),mode:e.mode,"read-allowed":!1,"initial-empty-row":!0},null,8,["value","mode"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),"vm"===a.value.spec.workloadType?((0,o.openBlock)(),(0,o.createBlock)(v,{key:2,name:"healthCheck",label:e.t("harvester.loadBalancer.tabs.healthCheck"),weight:96,class:"bordered-table"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(f,{value:a.value.spec.healthCheck,"onUpdate:value":t[5]||(t[5]=e=>a.value.spec.healthCheck=e),mode:e.mode,model:a.value,onEnabled:u.healthCheckEnabled},null,8,["value","mode","model","onEnabled"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0)])),_:1},8,["mode"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","yaml-modifiers","onFinish"])}var c=a(45250),u=a(83504),p=a(58737),m=a(70052),v=a(12327),h=a(66210),b=a(74457),g=a(52167),f=a(81357),y=a(4284),N=a(68844),k=a(58899),V=a(32766),E=a(67347),w=a(68201);const C="loadbalancer.harvesterhci.io/namespace",S="loadbalancer.harvesterhci.io/project";var B={name:"HarvesterLoadBalancer",emits:["update:value"],components:{NameNsDescription:u.A,ResourceTabs:p.A,LabeledSelect:m.A,Tab:v.A,Listeners:E["default"],HealthCheck:w["default"],CruResource:h.A,KeyValue:b.A,Banner:g.A},mixins:[f.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={ipPools:this.$store.dispatch(`${e}/findAll`,{type:V.rk.IP_POOL}),namespaces:this.$store.dispatch(`${e}/findAll`,{type:y.CU}),vms:this.$store.dispatch(`${e}/findAll`,{type:V.rk.VM})};this.$store.getters["management/schemaFor"](y.Mc.PROJECT)&&(t.projects=this.$store.dispatch("management/findAll",{type:y.Mc.PROJECT})),await(0,N.kR)(t),this.updateMatchingVMs()},data(){const e=this.value.metadata.annotations||[];this.value.spec.healthCheck||(this.value.spec.healthCheck={});const t={matched:0,matches:[],none:!0,sample:null,total:0};return{ipPool:this.value.spec.ipPool,projectSelector:e[S]||"",namespaceSelector:e[C]||"",matchingVMs:t}},computed:{ipamOption(){return[{label:this.t("harvester.loadBalancer.ipam.options.dhcp"),value:"dhcp"},{label:this.t("harvester.loadBalancer.ipam.options.pool"),value:"pool"}]},ipPoolOptions(){const e=this.$store.getters["harvester/all"](V.rk.IP_POOL),t=e.map((e=>e.id));return[{label:this.t("harvester.loadBalancer.ipPool.options.none"),value:""},...t]},projectOptions(){const e=this.$store.getters["harvester/all"](y.Mc.PROJECT);return e.map((e=>e.id))},namespaceOptions(){const e=this.$store.getters["harvester/all"](y.CU);return e.map((e=>e.id))},backendServerSelector:{get(){const e={};return Object.keys(this.value.spec?.backendServerSelector||{}).map((t=>{e[t]=(this.value.spec.backendServerSelector[t]||[]).join(",")||""})),e},set(e){const t={};Object.keys(e).map((a=>{t[a]=(e[a]||"").split(",")})),this.value.spec["backendServerSelector"]=t}},yamlModifiers(){const e=["metadata.managedFields","metadata.relationships","metadata.state","links","type","id"];return this.isCreate&&e.push("status"),{activelyRemove:e}},healthCheckPortInUseWarning(){const e=this.value?.spec?.healthCheck?.port,t=this.value?.spec?.listeners?.find((t=>t.backendPort===e));return e&&t?this.t("harvester.loadBalancer.healthCheck.warning.portInUse",{port:t.backendPort},!0):""}},methods:{update(){const{projectSelector:e,namespaceSelector:t}=this;e&&(this.value.metadata.annotations[S]=e),t&&(this.value.metadata.annotations[C]=t)},updateMatchingVMs:(0,c.throttle)((function(){const e=this.value.spec.backendServerSelector,t=this.$store.getters["harvester/all"](V.rk.VM).filter((e=>e.metadata.namespace===this.value.metadata.namespace));if((0,c.isEmpty)(e))this.matchingVMs={matched:0,total:t.length,none:!0,sample:null};else{const a=(0,k.wC)(t,e,"spec.template.metadata.labels");this.matchingVMs={matched:a.length,total:t.length,none:0===a.length,sample:a[0]?a[0].nameDisplay:null}}}),250,{leading:!0}),healthCheckEnabled(e){e||(this.value.spec.healthCheck={})}},watch:{backendServerSelector:"updateMatchingVMs","value.metadata.namespace":"updateMatchingVMs"}},A=(a(62541),a(47433));const x=(0,A.A)(B,[["render",d],["__scopeId","data-v-201c4480"]]);var _=x},36263:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Ue}});var o=a(9274);const l={class:"row mb-20"},s={class:"col span-3"};function r(e,t,a,r,n,i){const d=(0,o.resolveComponent)("NameNsDescription"),c=(0,o.resolveComponent)("LabeledSelect"),u=(0,o.resolveComponent)("Banner"),p=(0,o.resolveComponent)("ProjectMembershipEditor"),m=(0,o.resolveComponent)("Tab"),v=(0,o.resolveComponent)("ResourceQuota"),h=(0,o.resolveComponent)("ContainerResourceLimit"),b=(0,o.resolveComponent)("Labels"),g=(0,o.resolveComponent)("Tabbed"),f=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(f,{class:"project","done-route":e.value.listLocation,errors:e.fvUnreportedValidationErrors,mode:e.mode,resource:e.value,subtypes:[],"can-yaml":!1,"validation-passed":e.fvFormIsValid,onError:t[4]||(t[4]=t=>e.errors=t),onFinish:i.save,onCancel:e.done},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{value:e.value,"name-editable":!0,mode:e.mode,namespaced:!1,"description-key":"spec.description","description-disabled":i.isDescriptionDisabled,"name-key":"spec.displayName","normalize-name":!1,rules:{name:e.fvGetAndReportPathRules("spec.displayName"),namespace:[],description:[]},"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","description-disabled","rules"]),(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[i.pspOptions?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,value:e.value.spec.podSecurityPolicyTemplateId,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.podSecurityPolicyTemplateId=t),class:"psp",mode:e.mode,options:i.pspOptions,disabled:!n.canEditPSPBindings,label:e.t("project.psp.label")},null,8,["value","mode","options","disabled","label"])):(0,o.createCommentVNode)("",!0)])]),(0,o.createVNode)(g,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[i.canViewMembers?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,name:"members",label:e.t("project.members.label"),weight:10},{default:(0,o.withCtx)((()=>[i.showBannerForOnlyManagingMembers?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,color:"info",label:e.t("project.membersEditOnly")},null,8,["label"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(p,{mode:e.mode,"parent-id":e.value.id,onHasOwnerChanged:i.onHasOwnerChanged,onMembershipUpdate:i.onMembershipUpdate},null,8,["mode","parent-id","onHasOwnerChanged","onMembershipUpdate"])])),_:1},8,["label"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(m,{name:"resource-quotas",label:e.t("project.resourceQuotas"),weight:9},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(v,{value:e.value,"onUpdate:value":t[2]||(t[2]=t=>e.value=t),mode:i.canEditTabElements,types:e.isStandaloneHarvester?n.HARVESTER_TYPES:n.RANCHER_TYPES,onRemove:i.removeQuota},null,8,["value","mode","types","onRemove"])])),_:1},8,["label"]),(0,o.createVNode)(m,{name:"container-default-resource-limit",label:i.resourceQuotaLabel,weight:8},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{value:e.value.spec.containerDefaultResourceLimit,"onUpdate:value":t[3]||(t[3]=t=>e.value.spec.containerDefaultResourceLimit=t),mode:i.canEditTabElements,"show-tip":!1,"register-before-hook":e.registerBeforeHook},null,8,["value","mode","register-before-hook"])])),_:1},8,["label"]),(0,o.createVNode)(m,{name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:7},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(b,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:i.canEditTabElements,"display-side-by-side":!1},null,8,["value","mode"])])),_:1})])),_:1})])),_:1},8,["done-route","errors","mode","resource","validation-passed","onFinish","onCancel"])}var n=a(65359);const i={class:"row"},d={key:0,class:"col span-12"},c={class:"helper-text mb-10"},u={class:"row mb-20"},p={class:"col span-6"},m={class:"col span-6"},v={class:"row mb-20"},h={class:"col span-6"},b={class:"col span-6"},g={key:0,class:"row"},f={class:"col span-6"};function y(e,t,a,l,s,r){const n=(0,o.resolveComponent)("t"),y=(0,o.resolveComponent)("UnitInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",i,[a.showTip?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createElementVNode)("p",c,[a.mode===s.viewMode?((0,o.openBlock)(),(0,o.createBlock)(n,{key:0,k:"containerResourceLimit.helpTextDetail"})):((0,o.openBlock)(),(0,o.createBlock)(n,{key:1,k:"containerResourceLimit.helpText"}))])])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("span",p,[(0,o.createVNode)(y,{value:s.requestsCpu,"onUpdate:value":[t[0]||(t[0]=e=>s.requestsCpu=e),r.updateLimits],placeholder:e.t("containerResourceLimit.cpuPlaceholder"),label:e.t("containerResourceLimit.requestsCpu"),mode:a.mode,"input-exponent":-1,"output-modifier":!0,"base-unit":e.t("suffix.cpus"),"data-testid":"cpu-reservation"},null,8,["value","placeholder","label","mode","base-unit","onUpdate:value"])]),(0,o.createElementVNode)("span",m,[(0,o.createVNode)(y,{value:s.requestsMemory,"onUpdate:value":[t[1]||(t[1]=e=>s.requestsMemory=e),r.updateLimits],placeholder:e.t("containerResourceLimit.memPlaceholder"),label:e.t("containerResourceLimit.requestsMemory"),mode:a.mode,"input-exponent":2,increment:1024,"output-modifier":!0,"data-testid":"memory-reservation"},null,8,["value","placeholder","label","mode","onUpdate:value"])])]),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("span",h,[(0,o.createVNode)(y,{value:s.limitsCpu,"onUpdate:value":[t[2]||(t[2]=e=>s.limitsCpu=e),r.updateLimits],placeholder:e.t("containerResourceLimit.cpuPlaceholder"),label:e.t("containerResourceLimit.limitsCpu"),mode:a.mode,"input-exponent":-1,"output-modifier":!0,"base-unit":e.t("suffix.cpus"),"data-testid":"cpu-limit"},null,8,["value","placeholder","label","mode","base-unit","onUpdate:value"])]),(0,o.createElementVNode)("span",b,[(0,o.createVNode)(y,{value:s.limitsMemory,"onUpdate:value":[t[3]||(t[3]=e=>s.limitsMemory=e),r.updateLimits],placeholder:e.t("containerResourceLimit.memPlaceholder"),label:e.t("containerResourceLimit.limitsMemory"),mode:a.mode,"input-exponent":2,increment:1024,"output-modifier":!0,"data-testid":"memory-limit"},null,8,["value","placeholder","label","mode","onUpdate:value"])])]),a.handleGpuLimit?((0,o.openBlock)(),(0,o.createElementBlock)("div",g,[(0,o.createElementVNode)("span",f,[(0,o.createVNode)(y,{value:s.limitsGpu,"onUpdate:value":[t[4]||(t[4]=e=>s.limitsGpu=e),r.updateLimits],placeholder:e.t("containerResourceLimit.gpuPlaceholder"),label:e.t("containerResourceLimit.limitsGpu"),mode:a.mode,"base-unit":e.t("suffix.gpus"),"data-testid":"gpu-limit"},null,8,["value","placeholder","label","mode","base-unit","onUpdate:value"])])])):(0,o.createCommentVNode)("",!0)])}var N=a(15510),k=a.n(N),V=a(43631),E=a(71445),w=a(65852),C=a(75040),S={emits:["update:value"],components:{UnitInput:V.A},props:{mode:{type:String,default:"create"},namespace:{type:Object,default:null},value:{type:Object,default:()=>({})},handleGpuLimit:{type:Boolean,default:!0},registerBeforeHook:{type:Function,default:null},showTip:{type:Boolean,default:!0}},data(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:o,limitsGpu:l}=this.value;return{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:o,limitsGpu:l,viewMode:C.nW}},watch:{value(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:o,limitsGpu:l}=this.value;this.limitsCpu=e,this.limitsMemory=t,this.requestsCpu=a,this.requestsMemory=o,this.limitsGpu=l}},computed:{detailTopColumns(){return[{title:this.$store.getters["i18n/t"]("generic.created"),name:"created"}]}},created(){this?.namespace?.id&&this.initLimits(),this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},methods:{updateLimits(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:o,limitsGpu:l}=this;this.$emit("update:value",(0,w.nY)({limitsCpu:e,limitsMemory:t,requestsCpu:a,limitsGpu:l,requestsMemory:o}))},updateBeforeSave(e){const{limitsCpu:t,limitsMemory:a,requestsCpu:o,requestsMemory:l,limitsGpu:s}=this,r=this.namespace,n=(0,w.nY)({limitsCpu:t,limitsMemory:a,requestsCpu:o,limitsGpu:s,requestsMemory:l});r&&r.setAnnotation(E.$E,JSON.stringify(n))},initLimits(){const e=this.namespace,t=e?.metadata?.annotations[E.$E];if(!k()(t)&&"null"!==t){const{limitsCpu:e,limitsMemory:a,requestsCpu:o,requestsMemory:l,limitsGpu:s}=JSON.parse(t);this.limitsCpu=e,this.limitsMemory=a,this.requestsCpu=o,this.requestsMemory=l,this.limitsGpu=s}}}},B=a(47433);const A=(0,B.A)(S,[["render",y]]);var x=A,_=a(81357),D=a(53551),U=a(66210),M=a(58825),L=a(70052);const T={class:"headers mb-10"},O={class:"mr-10"},I={class:"mr-20"},R={class:"mr-10"};function $(e,t,a,l,s,r){const n=(0,o.resolveComponent)("Row"),i=(0,o.resolveComponent)("ArrayList");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",T,[(0,o.createElementVNode)("div",O,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(e.t("resourceQuota.headers.resourceType")),1)]),(0,o.createElementVNode)("div",I,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(e.t("resourceQuota.headers.projectLimit")),1)]),(0,o.createElementVNode)("div",R,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(e.t("resourceQuota.headers.namespaceDefaultLimit")),1)])]),(0,o.createVNode)(i,{value:s.typeValues,"onUpdate:value":t[1]||(t[1]=e=>s.typeValues=e),label:"Resources","add-label":e.t("resourceQuota.add.label"),"default-add-value":r.remainingTypes()[0]?r.remainingTypes()[0].value:"","add-allowed":r.remainingTypes().length>0,mode:a.mode,onRemove:r.emitRemove},{columns:(0,o.withCtx)((l=>[(0,o.createVNode)(n,{value:a.value,mode:a.mode,types:r.remainingTypes(s.typeValues[l.i]),type:s.typeValues[l.i],onInput:t[0]||(t[0]=t=>e.$emit("input",t)),onTypeChange:e=>r.updateType(l.i,e)},null,8,["value","mode","types","type","onTypeChange"])])),_:1},8,["value","add-label","default-add-value","add-allowed","mode","onRemove"])])}var P=a(6961);const q={key:0,class:"row"};function F(e,t,a,l,s,r){const n=(0,o.resolveComponent)("Select"),i=(0,o.resolveComponent)("UnitInput");return e.typeOption?((0,o.openBlock)(),(0,o.createElementBlock)("div",q,[(0,o.createVNode)(n,{value:a.type,class:"mr-10",mode:a.mode,options:a.types,"data-testid":"projectrow-type-input","onUpdate:value":t[0]||(t[0]=e=>r.updateType(e))},null,8,["value","mode","options"]),(0,o.createVNode)(i,{value:r.resourceQuotaLimit[a.type],class:"mr-10",mode:a.mode,placeholder:e.typeOption.placeholder,increment:e.typeOption.increment,"input-exponent":e.typeOption.inputExponent,"base-unit":e.typeOption.baseUnit,"output-modifier":!0,"data-testid":"projectrow-project-quota-input","onUpdate:value":t[1]||(t[1]=e=>r.updateQuotaLimit("resourceQuota",a.type,e))},null,8,["value","mode","placeholder","increment","input-exponent","base-unit"]),(0,o.createVNode)(i,{value:r.namespaceDefaultResourceQuotaLimit[a.type],mode:a.mode,placeholder:e.typeOption.placeholder,increment:e.typeOption.increment,"input-exponent":e.typeOption.inputExponent,"base-unit":e.typeOption.baseUnit,"output-modifier":!0,"data-testid":"projectrow-namespace-quota-input","onUpdate:value":t[2]||(t[2]=e=>r.updateQuotaLimit("namespaceDefaultResourceQuota",a.type,e))},null,8,["value","mode","placeholder","increment","input-exponent","base-unit"])])):(0,o.createCommentVNode)("",!0)}var G=a(84818);const K=[{value:"configMaps",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.configMaps",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"limitsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.limitsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"limitsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.limitsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"persistentVolumeClaims",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.persistentVolumeClaims",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"pods",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.pods",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"replicationControllers",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.replicationControllers",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"requestsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.requestsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"requestsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"requestsStorage",units:"storage",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsStorage",placeholderKey:"resourceQuota.projectLimit.storagePlaceholder"},{value:"secrets",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.secrets",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"services",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.services",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"servicesLoadBalancers",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.servicesLoadBalancers",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"servicesNodePorts",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.servicesNodePorts",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"}],j=[{value:"limitsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.limitsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"limitsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.limitsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"requestsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.requestsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"requestsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"}],H={typeOption(){return this.types.find((e=>e.value===this.type))}},J={mappedTypes(){return this.types.map((e=>({label:this.t(e.labelKey),baseUnit:e.baseUnitKey?this.t(e.baseUnitKey):void 0,placeholder:this.t(e.placeholderKey),...e})))}};var z={emits:["type-change"],components:{Select:G.A,UnitInput:V.A},props:{mode:{type:String,required:!0},types:{type:Array,default:()=>[]},type:{type:String,default:""},value:{type:Object,default:()=>({})}},computed:{...H,resourceQuotaLimit:{get(){return this.value.spec.resourceQuota?.limit||{}}},namespaceDefaultResourceQuotaLimit:{get(){return this.value.spec.namespaceDefaultResourceQuota?.limit||{}}}},methods:{updateType(e){"undefined"!==typeof this.value.spec.resourceQuota?.limit[this.type]&&delete this.value.spec.resourceQuota.limit[this.type],"undefined"!==typeof this.value.spec.namespaceDefaultResourceQuota?.limit[this.type]&&delete this.value.spec.namespaceDefaultResourceQuota.limit[this.type],this.$emit("type-change",e)},updateQuotaLimit(e,t,a){this.value.spec[e]||(this.value.spec[e]={limit:{}}),this.value.spec[e].limit[t]=a}}};a(83190);const Q=(0,B.A)(z,[["render",F],["__scopeId","data-v-79592e36"]]);var Y=Q,W={emits:["remove","input"],components:{ArrayList:P.A,Row:Y},props:{mode:{type:String,required:!0},value:{type:Object,default:()=>({})},types:{type:Array,default:()=>[]}},data(){return this.value["spec"]=this.value.spec||{},this.value.spec["namespaceDefaultResourceQuota"]=this.value.spec.namespaceDefaultResourceQuota||{limit:{}},this.value.spec["resourceQuota"]=this.value.spec.resourceQuota||{limit:{}},{typeValues:Object.keys(this.value.spec.resourceQuota.limit)}},computed:{...J},methods:{updateType(e,t){this.typeValues[e]=t},remainingTypes(e){return this.mappedTypes.filter((t=>!this.typeValues.includes(t.value)||t.value===e))},emitRemove(e){this.$emit("remove",e.row?.value)}}};a(33680);const Z=(0,B.A)(W,[["render",$],["__scopeId","data-v-37c130a0"]]);var X=Z,ee=a(12327),te=a(35244),ae=a(83504),oe=a(4284),le=a(93786);function se(e,t,a,l,s,r){const n=(0,o.resolveComponent)("MembershipEditor");return(0,o.openBlock)(),(0,o.createBlock)(n,{ref:"editor","add-member-dialog-name":"AddProjectMemberDialog","modal-sticky":!0,"default-binding-handler":r.defaultBindingHandler,type:s.NORMAN.PROJECT_ROLE_TEMPLATE_BINDING,mode:a.mode,"parent-key":"projectId","parent-id":a.parentId},null,8,["default-binding-handler","type","mode","parent-id"])}const re={class:"box mb-0"},ne={class:"column-headers row"},ie={class:"col span-6"},de={class:"text-label"},ce={class:"col span-6"},ue={class:"text-label"},pe={class:"columns row"},me={class:"col span-6"},ve={class:"col span-6 role"},he={key:0},be=["disabled","onClick"];function ge(e,t,a,l,s,r){const n=(0,o.resolveComponent)("Loading"),i=(0,o.resolveComponent)("Principal"),d=(0,o.resolveComponent)("ArrayList");return e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(n,{key:0})):((0,o.openBlock)(),(0,o.createBlock)(d,{key:1,value:s.bindings,"onUpdate:value":t[1]||(t[1]=e=>s.bindings=e),mode:a.mode,"show-header":!0},{"column-headers":(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",re,[(0,o.createElementVNode)("div",ne,[(0,o.createElementVNode)("div",ie,[(0,o.createElementVNode)("label",de,(0,o.toDisplayString)(e.t("membershipEditor.user")),1)]),(0,o.createElementVNode)("div",ce,[(0,o.createElementVNode)("label",ue,(0,o.toDisplayString)(e.t("membershipEditor.role")),1)])])])])),columns:(0,o.withCtx)((({row:e})=>[(0,o.createElementVNode)("div",pe,[(0,o.createElementVNode)("div",me,[(0,o.createVNode)(i,{value:e.value.principalId},null,8,["value"])]),(0,o.createElementVNode)("div",ve,(0,o.toDisplayString)(e.value.roleDisplay),1)])])),add:(0,o.withCtx)((()=>[(0,o.createElementVNode)("button",{type:"button",class:"btn role-primary mt-10",onClick:t[0]||(t[0]=(...e)=>r.addMember&&r.addMember(...e))},(0,o.toDisplayString)(e.t("generic.add")),1)])),"remove-button":(0,o.withCtx)((({remove:t,i:a})=>[r.isCreate&&0===a||r.isView?((0,o.openBlock)(),(0,o.createElementBlock)("span",he)):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,type:"button",disabled:r.isView,class:"btn role-link",onClick:t},(0,o.toDisplayString)(e.t("generic.remove")),9,be))])),_:1},8,["value","mode"]))}var fe=a(82888);function ye(e){return e?.replace(":","/")||e}function Ne(e,t=!1){return(!!e.getters["management/schemaFor"](oe.Mc.PROJECT_ROLE_TEMPLATE_BINDING)||!t)&&!!e.getters["management/schemaFor"](oe.Mc.ROLE_TEMPLATE)&&!!e.getters["rancher/schemaFor"](oe.k$.PRINCIPAL)}var ke={emits:["membership-update"],components:{ArrayList:P.A,Loading:fe.A},props:{addMemberDialogName:{type:String,required:!0},parentKey:{type:String,required:!0},parentId:{type:String,default:null},mode:{type:String,required:!0},type:{type:String,required:!0},defaultBindingHandler:{type:Function,default:null},modalSticky:{type:Boolean,default:!1}},async fetch(){const e={type:this.type,opt:{force:!0}};this.type===oe.k$.PROJECT_ROLE_TEMPLATE_BINDING&&this.parentId&&Object.assign(e,{opt:{filter:{projectId:this.parentId.split("/").join(":")}}});const t=[this.schema?this.$store.dispatch("rancher/findAll",e):[],this.$store.dispatch("rancher/findAll",{type:oe.k$.PRINCIPAL}),this.$store.dispatch("management/findAll",{type:oe.Mc.ROLE_TEMPLATE}),this.$store.dispatch("management/findAll",{type:oe.Mc.USER})],[a]=await Promise.all(t),o=a.filter((e=>ye((0,w.Jt)(e,this.parentKey))===ye(this.parentId)));if(this["lastSavedBindings"]=[...o],this.mode===C.YQ&&0===o.length&&this.defaultBindingHandler){const e=await this.defaultBindingHandler();e.isDefaultBinding=!0,o.push(e)}this["bindings"]=o},data(){return{schema:this.$store.getters["rancher/schemaFor"](this.type),bindings:[],lastSavedBindings:[]}},computed:{newBindings(){return this.bindings.filter((e=>!e.id&&!this.lastSavedBindings.includes(e)&&!e.isDefaultBinding))},removedBindings(){return this.lastSavedBindings.filter((e=>!this.bindings.includes(e)))},membershipUpdate(){const e=this.newBindings,t=this.removedBindings;return{newBindings:this.newBindings,removedBindings:this.removedBindings,save:a=>{const o=e.map((e=>((0,w.hZ)(e,this.parentKey,a),e.save()))),l=t.map((e=>e.remove()));return Promise.all([...o,...l])}}},isCreate(){return this.mode===C.YQ},isView(){return this.mode===C.nW}},watch:{membershipUpdate:{deep:!0,handler(){this.$emit("membership-update",this.membershipUpdate)}}},methods:{addMember(){this.$store.dispatch("cluster/promptModal",{component:this.addMemberDialogName,componentProps:{onAdd:this.onAddMember},modalSticky:this.modalSticky})},onAddMember(e){this["bindings"]=[...this.bindings,...e]}}};a(82760);const Ve=(0,B.A)(ke,[["render",ge],["__scopeId","data-v-6db6a2c5"]]);var Ee=Ve;function we(e){return Ne(e,!0)}var Ce={components:{MembershipEditor:Ee},props:{parentId:{type:String,default:null},mode:{type:String,required:!0}},data(){return{NORMAN:oe.k$,bindings:[],lastSavedBindings:[]}},computed:{isCreate(){return this.mode===C.YQ},isView(){return this.mode===C.nW}},methods:{defaultBindingHandler(){return this.$store.dispatch("management/create",{type:oe.k$.PROJECT_ROLE_TEMPLATE_BINDING,roleTemplateId:"project-owner",userPrincipalId:this.$store.getters["auth/principalId"]})}}};const Se=(0,B.A)(Ce,[["render",se]]);var Be=Se,Ae=a(76250),xe=a(58832),_e={emits:["update:value"],components:{ContainerResourceLimit:x,CruResource:U.A,Labels:M.A,LabeledSelect:L.A,NameNsDescription:ae.A,ProjectMembershipEditor:Be,ResourceQuota:X,Tabbed:te.A,Tab:ee.A,Banner:xe.l},mixins:[_.A,D.A],inheritAttrs:!1,async fetch(){this.$store.getters["management/canList"](oe.Mc.POD_SECURITY_POLICY_TEMPLATE)&&(this.allPSPs=await this.$store.dispatch("management/findAll",{type:oe.Mc.POD_SECURITY_POLICY_TEMPLATE}));const e=this.$store.getters["management/schemaFor"](oe.Mc.PSP_TEMPLATE_BINDING);this.canEditPSPBindings=!!e},data(){return this.value["spec"]=this.value.spec||{},this.value.spec["podSecurityPolicyTemplateId"]=this.value.status?.podSecurityPolicyTemplateId||"",{allPSPs:[],projectRoleTemplateBindingSchema:this.$store.getters["management/schemaFor"](oe.Mc.PROJECT_ROLE_TEMPLATE_BINDING),createLocation:{name:"c-cluster-product-resource-create",params:{product:le.o,resource:oe.Mc.PROJECT_ROLE_TEMPLATE_BINDING},query:{[C.iJ]:this.project?.id?.replace("/",":")}},resource:oe.Mc.PROJECT_ROLE_TEMPLATE_BINDING,saveBindings:null,membershipHasOwner:!1,membershipUpdate:{},HARVESTER_TYPES:j,RANCHER_TYPES:K,fvFormRuleSets:[{path:"spec.displayName",rules:["required"]}],canEditPSPBindings:!0}},computed:{...(0,n.L8)(["currentCluster","isStandaloneHarvester"]),canViewMembers(){return we(this.$store)},canEditProject(){return this.value?.links?.update},isDescriptionDisabled(){return this.mode===C.G5&&!this.canEditProject||!1},canEditTabElements(){return this.mode!==C.G5||this.canEditProject?this.mode:C.nW},showBannerForOnlyManagingMembers(){return this.mode===C.G5&&!this.canEditProject},isK3s(){return(this.currentCluster?.spec?.kubernetesVersion||"").includes("k3s")},pspOptions(){if(this.isK3s||!this.currentCluster.spec.defaultPodSecurityPolicyTemplateName)return null;const e=[{label:this.t("project.psp.default"),value:""}];if(this.allPSPs)for(const a of this.allPSPs)e.push({label:a.nameDisplay,value:a.id});const t=this.value.status?.podSecurityPolicyTemplateId;return t&&!e.find((e=>e.value===t))&&e.unshift({label:this.t("project.psp.current",{value:t}),value:t}),e},isHarvester(){return this.$store.getters["currentProduct"].inStore===Ae.T},resourceQuotaLabel(){return this.isHarvester?this.t("project.vmDefaultResourceLimit"):this.t("project.containerDefaultResourceLimit")}},watch:{hasOwner(){this.errors=this.hasOwner?[]:[this.t("project.haveOneOwner")]}},created(){this.value.metadata["namespace"]=this.$store.getters["currentCluster"].id,this.value["spec"]=this.value.spec||{},this.value.spec["containerDefaultResourceLimit"]=this.value.spec.containerDefaultResourceLimit||{}},methods:{async save(e){try{if(this.mode===C.YQ){const e=await this.value.save();this.membershipUpdate.save&&await this.membershipUpdate.save(e.id)}else if(this.mode===C.G5&&(this.canEditProject&&(await this.value.save(!0),await this.$store.dispatch("management/find",{type:oe.Mc.PROJECT,id:this.value.id,opt:{force:!0}})),this.membershipUpdate.save)){const e=await this.value.norman;await this.membershipUpdate.save(e.id)}e(!0),this.$router.replace(this.value.listLocation)}catch(t){this.errors.push(t),e(!1)}},onHasOwnerChanged(e){this["membershipHasOwner"]=e},onMembershipUpdate(e){this["membershipUpdate"]=e},removeQuota(e){["resourceQuota","namespaceDefaultResourceQuota"].forEach((t=>{this.value?.spec[t]?.limit&&this.value?.spec[t]?.limit[e]&&delete this.value?.spec[t]?.limit[e],this.value?.spec[t]?.usedLimit&&this.value?.spec[t]?.usedLimit[e]&&delete this.value?.spec[t]?.usedLimit[e]}))}}};const De=(0,B.A)(_e,[["render",r]]);var Ue=De},87544:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("NameNsDescription"),i=(0,o.resolveComponent)("Labels"),d=(0,o.resolveComponent)("Tab"),c=(0,o.resolveComponent)("ResourceTabs"),u=(0,o.resolveComponent)("CruResource");return(0,o.openBlock)(),(0,o.createBlock)(u,{resource:e.value,mode:e.mode,errors:e.errors,onFinish:e.save},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{value:e.value,mode:e.mode,namespaced:!1,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,o.createVNode)(c,{value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),mode:e.mode,"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:e.mode,"display-side-by-side":!1},null,8,["value","mode"])])),_:1})])),_:1},8,["value","mode"])])),_:1},8,["resource","mode","errors","onFinish"])}var s=a(66210),r=a(83504),n=a(58737),i=a(12327),d=a(58825),c=a(81357),u={name:"EditClusterNetwork",emits:["update:value"],components:{CruResource:s.A,NameNsDescription:r.A,ResourceTabs:n.A,Tab:i.A,Labels:d.A},mixins:[c.A],inheritAttrs:!1,computed:{doneLocationOverride(){return this.value.doneOverride}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.validate)},methods:{validate(){const e=[],t=this.value?.metadata?.name;return t?t.length>12&&e.push(this.t("validation.stringLength.max",{key:this.t("generic.name"),count:12},!0)):e.push(this.t("validation.required",{key:this.t("generic.name")},!0)),e.length>0?Promise.reject(e):Promise.resolve()}}},p=a(47433);const m=(0,p.A)(u,[["render",l]]);var v=m},95058:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const l={class:"row"},s={key:0,class:"row mb-10"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,o.resolveComponent)("RadioGroup"),u=(0,o.resolveComponent)("LabeledSelect"),p=(0,o.resolveComponent)("KeyValue");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(c,{value:i.selectNode,"onUpdate:value":[t[0]||(t[0]=e=>i.selectNode=e),d.update],name:"selectNode",options:d.selectNodeOptions,mode:a.mode},null,8,["value","options","mode","onUpdate:value"])]),"nodeSelector"===i.selectNode?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(u,{value:i.nodeName,"onUpdate:value":[t[1]||(t[1]=e=>i.nodeName=e),d.update],label:e.t("workload.scheduling.affinity.nodeName"),options:a.nodes||[],mode:a.mode,multiple:!1},null,8,["value","label","options","mode","onUpdate:value"])])])):"custom"===i.selectNode?((0,o.openBlock)(),(0,o.createBlock)(p,{key:1,value:i.nodeSelector,"onUpdate:value":[t[2]||(t[2]=e=>i.nodeSelector=e),d.update],"key-label":e.t("generic.key"),mode:a.mode,"add-label":e.t("workload.scheduling.affinity.addNodeSelector"),"read-allowed":!1,"value-label":e.t("generic.value"),"initial-empty-row":!0},null,8,["value","key-label","mode","add-label","value-label","onUpdate:value"])):(0,o.createCommentVNode)("",!0)])}var i=a(65359),d=a(83328),c=a(70052),u=a(74457),p=a(71445),m=a(24759),v=a(32766),h={emits:["updateMatchingNICs","updateMatchingNodes"],components:{RadioGroup:d.z,LabeledSelect:c.A,KeyValue:u.A},props:{value:{type:Object,default:()=>({})},nodes:{type:Array,default:()=>[]},mode:{type:String,default:"create"}},data(){const{nodeSelector:e={}}=this.value;let t="all",a="";return e[p.yA]&&1===Object.keys(e).length?(t="nodeSelector",a=e[p.yA]):Object.keys(e).length>0&&(t="custom"),{selectNode:t,nodeName:a,nodeSelector:e}},computed:{...(0,i.L8)({t:"i18n/t"}),selectNodeOptions(){const e=[{label:this.t("harvester.vlanConfig.scheduling.affinity.allNodes"),value:"all"},{label:this.t("harvester.vlanConfig.scheduling.affinity.specificNode"),value:"nodeSelector"},{label:this.t("harvester.vlanConfig.scheduling.affinity.schedulingRules"),value:"custom"}];return e},nics(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](v.rk.LINK_MONITOR,"nic")||{},a=t?.status?.linkStatus||{},o=[];return Object.keys(a).map((e=>{const t=a[e]||[];t.map((t=>{(0,m.jq)(o,"name",t.name)||t.masterIndex||o.push({...t,nodeName:e})}))})),o}},methods:{update(){const{nodeName:e,nodeSelector:t}=this;switch(this.selectNode){case"all":delete this.value?.nodeSelector;break;case"nodeSelector":delete this.value?.nodeSelector,Object.assign(this.value,{nodeSelector:{[p.yA]:e}});break;case"custom":delete this.value.nodeName,delete this.value.nodeSelector,Object.assign(this.value,{nodeSelector:t});break;default:delete this.value.nodeSelector}this.$emit("updateMatchingNICs"),this.$emit("updateMatchingNodes")}}},b=a(47433);const g=(0,b.A)(h,[["render",n]]);var f=g},56867:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Q}});var o=a(9274);const l={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-12"},i={class:"row mt-10"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mt-20"},p={class:"col span-12"},m={class:"mt-20"},v={class:"row"},h={class:"col span-6"},b={class:"col span-6"},g={class:"mt-20"},f={class:"row mt-10"},y={class:"col span-6"};function N(e,t,a,N,k,V){const E=(0,o.resolveComponent)("Loading"),w=(0,o.resolveComponent)("NameNsDescription"),C=(0,o.resolveComponent)("Banner"),S=(0,o.resolveComponent)("NodeSelector"),B=(0,o.resolveComponent)("Tab"),A=(0,o.resolveComponent)("LabelValue"),x=(0,o.resolveComponent)("ArrayListSelect"),_=(0,o.resolveComponent)("LabeledSelect"),D=(0,o.resolveComponent)("LabeledInput"),U=(0,o.resolveComponent)("Tabbed"),M=(0,o.resolveComponent)("CruResource"),L=(0,o.resolveDirective)("clean-html");return e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(E,{key:0})):((0,o.openBlock)(),(0,o.createBlock)(M,{key:1,resource:e.value,mode:e.mode,errors:e.errors,onFinish:e.save},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(w,{value:e.value,mode:e.mode,namespaced:!1,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,o.createVNode)(U,{"side-tabs":!0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(B,{name:"nodeSelector",label:e.t("harvester.vlanConfig.titles.nodeSelector"),weight:99},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(C,{color:k.matchingNodes.none?"warning":"success"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("span",null,null,512),[[L,e.t("harvester.vlanConfig.nodeSelector.matchingNodes.matchesSome",k.matchingNodes)]])])),_:1},8,["color"])])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(S,{mode:e.mode,value:e.value.spec,nodes:V.nodeOptions,onUpdateMatchingNICs:V.updateMatchingNICs,onUpdateMatchingNodes:V.updateMatchingNodes},null,8,["mode","value","nodes","onUpdateMatchingNICs","onUpdateMatchingNodes"])])])])),_:1},8,["label"]),(0,o.createVNode)(B,{name:"upLink",label:e.t("harvester.vlanConfig.titles.uplink"),weight:99,"show-header":!1},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(A,{name:e.t("harvester.network.clusterNetwork.label"),value:e.value.spec.clusterNetwork},null,8,["name","value"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(A,{name:"Type",value:"VLAN"})])]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(k.nicErrors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(C,{key:t,color:"warning",label:e},null,8,["label"])))),128)),(0,o.createVNode)(x,{value:e.value.spec.uplink.nics,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.uplink.nics=t),mode:e.mode,options:V.nicOptions,"enable-default-add-value":!1,"array-list-props":{addLabel:e.t("harvester.vlanConfig.uplink.nics.addLabel"),initialEmptyRow:!0,title:e.t("harvester.vlanConfig.uplink.nics.label"),required:!0,protip:!1},"select-props":{placeholder:e.t("harvester.vlanConfig.uplink.nics.placeholder")}},null,8,["value","mode","options","array-list-props","select-props"])])]),(0,o.createElementVNode)("h3",m,(0,o.toDisplayString)(e.t("harvester.vlanConfig.titles.bondOptions")),1),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createVNode)(_,{value:V.bondOptionMode,"onUpdate:value":t[2]||(t[2]=e=>V.bondOptionMode=e),label:e.t("harvester.vlanConfig.uplink.bondOptions.mode.label"),mode:e.mode,options:V.bondOptions,required:""},null,8,["value","label","mode","options"])]),(0,o.createElementVNode)("div",b,[(0,o.createVNode)(D,{value:V.miimon,"onUpdate:value":t[3]||(t[3]=e=>V.miimon=e),valueModifiers:{number:!0},label:e.t("harvester.vlanConfig.uplink.bondOptions.miimon.label"),mode:e.mode,type:"number",tooltip:e.t("harvester.vlanConfig.uplink.bondOptions.miimon.tooltip",null,!0)},null,8,["value","label","mode","tooltip"])])]),(0,o.createElementVNode)("h3",g,(0,o.toDisplayString)(e.t("harvester.vlanConfig.titles.attributes")),1),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",y,[(0,o.createVNode)(D,{value:V.mtu,"onUpdate:value":t[4]||(t[4]=e=>V.mtu=e),valueModifiers:{number:!0},label:e.t("harvester.vlanConfig.uplink.linkAttributes.mtu.label"),mode:e.mode,type:"number"},null,8,["value","label","mode"])])])])),_:1},8,["label"])])),_:1})])),_:1},8,["resource","mode","errors","onFinish"]))}var k=a(45250),V=a(66210),E=a(83504),w=a(53512),C=a(70052),S=a(35244),B=a(12327);function A(e,t,a,l,s,r){const n=(0,o.resolveComponent)("Select"),i=(0,o.resolveComponent)("ArrayList");return(0,o.openBlock)(),(0,o.createBlock)(i,(0,o.mergeProps)(a.arrayListProps,{value:a.value,class:"array-list-select","add-allowed":r.addAllowed||a.loading,loading:a.loading,defaultAddValue:r.defaultAddValue,disabled:a.disabled,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))}),{columns:(0,o.withCtx)((e=>[(0,o.createVNode)(n,(0,o.mergeProps)({value:e.row.value},a.selectProps,{options:r.calculateOptions(e.row.value),"get-option-label":r.getOptionLabel,"onUpdate:value":t=>r.updateRow(e.i,t)}),null,16,["value","options","get-option-label","onUpdate:value"])])),_:1},16,["value","add-allowed","loading","defaultAddValue","disabled"])}var x=a(6961),_=a(84818),D={emits:["update:value"],components:{ArrayList:x.A,Select:_.A},props:{value:{type:Array,required:!0},options:{default:null,type:Array},selectProps:{type:Object,default:null},arrayListProps:{type:Object,default:null},enableDefaultAddValue:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!0}},computed:{filteredOptions(){return this.options.filter((e=>!this.value.includes(e.value)))},addAllowed(){return this.arrayListProps?.addAllowed||this.filteredOptions.length>0},defaultAddValue(){return this.enableDefaultAddValue?this.options[0]?.value:""},getOptionLabel(){return this.selectProps?.getOptionLabel?e=>this.selectProps?.getOptionLabel(e)||e:void 0}},methods:{updateRow(e,t){this.value.splice(e,1,t),this.$emit("update:value",this.value)},calculateOptions(e){const t=this.options.find((t=>t.value===e));return t?[t,...this.filteredOptions]:this.filteredOptions}}},U=(a(17831),a(47433));const M=(0,U.A)(D,[["render",A],["__scopeId","data-v-38ac1adc"]]);var L=M,T=a(90555),O=a(82888),I=a(58832),R=a(81357),$=a(4284),P=a(65852),q=a(24759),F=a(68844),G=a(71445),K=a(58899),j=a(32766),H=a(95058),J={emits:["update:value"],components:{CruResource:V.A,NameNsDescription:E.A,LabeledInput:w.o,LabeledSelect:C.A,Tabbed:S.A,Tab:B.A,NodeSelector:H["default"],ArrayListSelect:L,LabelValue:T.A,Loading:O.A,Banner:I.l},mixins:[R.A],inheritAttrs:!1,data(){const e=(0,P.o8)(this.value?.spec?.uplink?.nics||[]),t={matched:0,matches:[],none:!0,sample:null,total:0};return{type:"vlan",matchNICs:[],originNics:e,matchingNodes:t,nicErrors:[]}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.validate);const e=this.$route.query.clusterNetwork;e&&(0,P.hZ)(this.value,"spec.clusterNetwork",e)},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={linkMonitors:this.$store.dispatch(`${e}/findAll`,{type:j.rk.LINK_MONITOR}),nodes:this.$store.dispatch(`${e}/findAll`,{type:$.NW})};await(0,F.kR)(t),this.updateMatchingNICs(),this.updateMatchingNodes()},computed:{nodeOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`]($.NW);return t.filter((e=>"true"!==e.isEtcd)).map((e=>({label:e.nameDisplay,value:e.id})))},mtu:{get(){return this.value?.spec?.uplink?.linkAttributes?.mtu},set(e){(0,P.hZ)(this.value,"spec.uplink.linkAttributes.mtu",e)}},bondOptionMode:{get(){return this.value?.spec?.uplink?.bondOptions?.mode},set(e){(0,P.hZ)(this.value,"spec.uplink.bondOptions.mode",e)}},miimon:{get(){return this.value?.spec?.uplink?.bondOptions?.miimon},set(e){(0,P.hZ)(this.value,"spec.uplink.bondOptions.miimon",e)}},bondOptions(){return["balance-rr","active-backup","balance-xor","broadcast","802.3ad","balance-tlb","balance-alb"]},doneLocationOverride(){return this.value.doneOverride},nics(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](j.rk.LINK_MONITOR,"nic")||{},a=t?.status?.linkStatus||{},o=this.nodes.map((e=>e.id)),l=[];return Object.keys(a).map((e=>{if(o.includes(e)){const t=a[e]||[];t.map((t=>{l.push({...t,nodeName:e})}))}})),l},nicOptions(){const e=[],t={};return(this.matchNICs||[]).map((a=>{a.masterIndex&&!this.originNics.includes(a.name)?(0,P.hZ)(t,`${a.name}.masterIndex`,!0):(0,q.jq)(e,"name",a.name)?(0,q.jq)(e,"name",a.name)&&((0,P.hZ)(t,`${a.name}.total`,t[a.name].total+1),(0,P.hZ)(t,`${a.name}.down`,"down"===a.state?t[a.name].down+1:t[a.name].down)):(e.push(a),(0,P.hZ)(t,`${a.name}.total`,1),(0,P.hZ)(t,`${a.name}.down`,"down"===a.state?1:0))})),e.filter((e=>!t[e.name].masterIndex)).map((e=>{let a="";return a=0===t[e.name].down?`${e.name} (Up)`:1===t[e.name].total?`${e.name} (Down)`:`${e.name} (${t[e.name].down}/${t[e.name].total} Down)`,{label:a,value:e.name,disabled:t[e.name].down>0}}))},nodes(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`]($.NW);return t.filter((e=>"true"!==e.isEtcd))}},methods:{validate(){const e=[],t=this.value.spec?.uplink?.nics||[],a=this.t("validation.arrayCountRequired",{key:this.t("harvester.vlanConfig.uplink.nics.label"),count:1},!0);if(0===t.length?e.push(a):t.map((t=>{t||e.push(a);const o=this.nicOptions.find((e=>e.value===t));o&&o?.disabled&&e.push(this.t("harvester.vlanConfig.uplink.nics.validate.available",{nic:t},!0))})),this.value?.metadata?.name||e.push(this.t("validation.required",{key:this.t("generic.name")},!0)),this.value?.spec?.clusterNetwork||e.push(this.t("validation.required",{key:this.t("harvester.network.clusterNetwork.label")},!0)),e.length>0)return Promise.reject((0,q.sb)(e));{const e=this.value?.spec?.uplink?.bondOptions?.miimon;e||0===e||delete this.value?.spec?.uplink?.bondOptions?.miimon;const t=this.value?.spec?.uplink?.linkAttributes?.mtu;return t||0===t||delete this.value?.spec?.uplink?.linkAttributes?.mtu,Promise.resolve()}},updateMatchingNICs:(0,k.throttle)((function(){const e=this.value?.spec?.nodeSelector||{},t=this.nics||[];let a=[],o=[];if((0,k.isEmpty)(e))a=(0,P.o8)(t),o=(this.nodes||[]).map((e=>e.id));else if(e[G.yA]&&1===Object.keys(e).length)a=t.filter((t=>t.nodeName===e[G.yA])),o=[e[G.yA]];else{const l=(0,K.wC)(this.nodes||[],e).map((e=>e.id));a=t.filter((e=>l.includes(e.nodeName))),o=l.map((e=>e.id))}this.matchNICs=this.intersection(a,o)||[]}),250,{leading:!0}),intersection(e=[],t=[]){const a={};return e.map((e=>{a[e.name]=(a[e.name]||0)+1})),e.filter((e=>a[e.name]===t.length))},updateMatchingNodes:(0,k.throttle)((function(){const e=this.value?.spec?.nodeSelector||{},t=this.nodes||[];if((0,k.isEmpty)(e))this.matchingNodes={matched:t.length,total:t.length,none:!1,sample:t[0]?t[0].nameDisplay:null};else if(e[G.yA]&&1===Object.keys(e).length){const a=t.find((t=>t.id===e[G.yA]));this.matchingNodes=a?{matched:1,total:t.length,none:!1,sample:a.nameDisplay}:{matched:0,total:0,none:!0,sample:null}}else{const a=(0,K.wC)(t,e);this.matchingNodes={matched:a.length,total:t.length,none:0===a.length,sample:a[0]?a[0].nameDisplay:null}}}),250,{leading:!0})},watch:{nicOptions(e){const t=this.value.spec?.uplink?.nics||[],a=[];t.map((t=>{const o=e.find((e=>e.value===t));(o&&o?.disabled||!o)&&a.push(this.t("harvester.vlanConfig.uplink.nics.validate.available",{nic:t},!0))})),this.nicErrors=(0,q.sb)(a)}}};a(59505);const z=(0,U.A)(J,[["render",N],["__scopeId","data-v-7d89080c"]]);var Q=z},49300:function(e,t,a){"use strict";a.d(t,{A:function(){return k}});var o=a(9274);const l={key:0,class:"grid"},s={key:0},r={class:"deploys-os-label"},n={key:1},i={class:"os-incompatible-label"},d={class:"logo"},c={class:"name"},u={key:3,class:"description"},p={key:1,class:"m-50 text-center"};function m(e,t,a,m,v,h){const b=(0,o.resolveComponent)("LazyImage"),g=(0,o.resolveDirective)("t");return a.rows.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.rows,((t,l)=>((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(a.asLink?"a":"div"),{key:h.get(t,a.keyField),href:a.asLink?h.get(t,a.linkField):null,target:h.get(t,a.targetField),rel:a.rel,class:(0,o.normalizeClass)(["item",{"has-description":!!h.get(t,a.descriptionField),"has-side-label":!!h.get(t,a.sideLabelField),[a.colorFor(t,l)]:!0,disabled:!0===h.get(t,a.disabledField)}]),"data-testid":a.componentTestid+"-"+h.get(t,a.nameField),onClick:e=>h.select(t,l)},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["side-label",{indicator:!0}])}),t.deploysOnWindows?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("label",r,(0,o.toDisplayString)(e.t("catalog.charts.deploysOnWindows")),1)])):(0,o.createCommentVNode)("",!0),t.windowsIncompatible?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createElementVNode)("label",i,(0,o.toDisplayString)(e.t("catalog.charts.windowsIncompatible")),1)])):(0,o.createCommentVNode)("",!0),h.get(t,a.sideLabelField)?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:(0,o.normalizeClass)(["side-label",{indicator:!1}])},[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(h.get(t,a.sideLabelField)),1)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",d,[t.iconClass?((0,o.openBlock)(),(0,o.createElementBlock)("i",{key:0,class:(0,o.normalizeClass)(t.iconClass)},null,2)):((0,o.openBlock)(),(0,o.createBlock)(b,{key:1,src:h.get(t,a.iconField)},null,8,["src"]))]),(0,o.createElementVNode)("h4",c,(0,o.toDisplayString)(h.get(t,a.nameField)),1),h.get(t,a.descriptionField)?((0,o.openBlock)(),(0,o.createElementBlock)("div",u,(0,o.toDisplayString)(h.get(t,a.descriptionField)),1)):(0,o.createCommentVNode)("",!0)])),_:2},1032,["href","target","rel","data-testid","class","onClick"])))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.withDirectives)((0,o.createElementVNode)("h1",null,null,512),[[g,a.noDataKey]])]))}var v=a(68821),h=a(65852),b=a(92809),g=a.n(b),f={emits:["clicked"],components:{LazyImage:v.A},props:{rows:{type:Array,required:!0},keyField:{type:String,default:"key"},iconField:{type:String,default:"icon"},nameField:{type:String,default:"name"},descriptionField:{type:String,default:"description"},sideLabelField:{type:String,default:"sideLabel"},disabledField:{type:String,default:"disabled"},asLink:{type:Boolean,default:!1},linkField:{type:String,default:"link"},targetField:{type:String,default:"target"},rel:{type:String,default:"noopener noreferrer nofollow"},noDataKey:{type:String,default:"sortableTable.noRows"},colorFor:{type:Function,default:(e,t)=>"color"+(t%8+1)},componentTestid:{type:String,default:"select-icon-grid"}},methods:{get:h.Jt,isDisabled(e){return!0===(0,h.Jt)(this.rows[e],this.disabledField)},select(e,t){this.isDisabled(t)||this.$emit("clicked",e,t)},capitalize:g()}},y=(a(73557),a(47433));const N=(0,y.A)(f,[["render",m],["__scopeId","data-v-6be0c6a0"]]);var k=N},62992:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var o=a(9274);const l={class:"tip"},s={class:"text"};function r(e,t,a,r,n,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["my-icon",a.icon])},null,2),(0,o.renderSlot)(e.$slots,"default",{},(()=>[(0,o.createElementVNode)("span",s,(0,o.toDisplayString)(a.text),1)]),!0)])}var n={props:{icon:{type:String,default:""},text:{type:String,default:""}}},i=(a(81384),a(47433));const d=(0,i.A)(n,[["render",r],["__scopeId","data-v-0603092f"]]);var c=d},83504:function(e,t,a){"use strict";a.d(t,{A:function(){return w}});var o=a(9274);const l={class:"row mb-20"},s=["data-testid"],r={class:"icon icon-close align-value"},n=["data-testid"],i=["data-testid"],d=["data-testid"],c={key:3,class:"spacer"};function u(e,t,a,u,p,m){const v=(0,o.resolveComponent)("LabeledInput"),h=(0,o.resolveComponent)("LabeledSelect"),b=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[a.namespaced&&!a.nameNsHidden&&p.createNamespace?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,"data-testid":a.componentTestid+"-namespace-create",class:"col span-3"},[(0,o.createVNode)(v,{ref:"namespace",value:p.namespace,"onUpdate:value":t[0]||(t[0]=e=>p.namespace=e),label:e.t("namespace.label"),placeholder:e.t("namespace.createNamespace"),disabled:m.namespaceReallyDisabled,mode:a.mode,"min-height":30,required:a.nameRequired,rules:a.rules.namespace},null,8,["value","label","placeholder","disabled","mode","required","rules"]),(0,o.createElementVNode)("button",{aria:"Cancel create",onClick:t[1]||(t[1]=(...e)=>m.cancelCreateNamespace&&m.cancelCreateNamespace(...e))},[(0,o.withDirectives)((0,o.createElementVNode)("i",r,null,512),[[b,e.t("generic.cancel")]])])],8,s)):(0,o.createCommentVNode)("",!0),!a.namespaced||a.nameNsHidden||p.createNamespace?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,"data-testid":a.componentTestid+"-namespace",class:"col span-3"},[(0,o.withDirectives)((0,o.createVNode)(h,{value:p.namespace,"onUpdate:value":t[2]||(t[2]=e=>p.namespace=e),clearable:!0,options:m.options,disabled:m.namespaceReallyDisabled,searchable:!0,mode:a.mode,multiple:!1,label:e.t("namespace.label"),placeholder:e.t("namespace.selectOrCreate"),rules:a.rules.namespace,required:"",onSelecting:m.selectNamespace},null,8,["value","options","disabled","mode","label","placeholder","rules","onSelecting"]),[[o.vShow,!p.createNamespace]])],8,n)),a.nameNsHidden?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,"data-testid":a.componentTestid+"-name",class:"col span-3"},[(0,o.createVNode)(v,{ref:"name",key:"name",value:p.name,"onUpdate:value":t[3]||(t[3]=e=>p.name=e),label:e.t(a.nameLabel),placeholder:e.t(a.namePlaceholder),disabled:m.nameReallyDisabled,mode:a.mode,"min-height":30,required:a.nameRequired,rules:a.rules.name},null,8,["value","label","placeholder","disabled","mode","required","rules"])],8,i)),(0,o.renderSlot)(e.$slots,"customize",{},void 0,!0),(0,o.withDirectives)((0,o.createElementVNode)("div",{"data-testid":a.componentTestid+"-description",class:(0,o.normalizeClass)(["col",a.extraColumns.length>0?"span-3":"span-6"])},[(0,o.createVNode)(v,{key:"description",value:p.description,"onUpdate:value":t[4]||(t[4]=e=>p.description=e),mode:a.mode,disabled:a.descriptionDisabled,label:e.t(a.descriptionLabel),placeholder:e.t(a.descriptionPlaceholder),"min-height":30,rules:a.rules.description},null,8,["value","mode","disabled","label","placeholder","rules"])],10,d),[[o.vShow,!a.descriptionHidden]]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.extraColumns,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:a,class:(0,o.normalizeClass)({col:!0,[m.colSpan]:!0})},[(0,o.renderSlot)(e.$slots,t,{},void 0,!0)],2)))),128)),a.showSpacer?((0,o.openBlock)(),(0,o.createElementBlock)("div",c)):(0,o.createCommentVNode)("",!0)])}var p=a(25443),m=a(65852),v=a(98258),h=a(4284),b=a(71445),g=a(75040),f=a(53512),y=a(70052);function N(e){return(e||"").trim().toLowerCase().replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var k={name:"NameNsDescription",emits:["update:value","isNamespaceNew"],components:{LabeledInput:f.o,LabeledSelect:y.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},nameNsHidden:{type:Boolean,default:!1},descriptionHidden:{type:Boolean,default:!1},extraColumns:{type:Array,default:()=>[]},nameLabel:{type:String,default:"nameNsDescription.name.label"},nameEditable:{type:Boolean,default:!1},namePlaceholder:{type:String,default:"nameNsDescription.name.placeholder"},nameDisabled:{type:Boolean,default:!1},nameRequired:{type:Boolean,default:!0},nameNormalized:{type:Boolean,default:!0},namespaced:{type:Boolean,default:!0},namespaceFilter:{type:Function,default:null},namespaceMapper:{type:Function,default:null},namespaceType:{type:String,default:h.CU},namespaceLabel:{type:String,default:"nameNsDescription.namespace.label"},namespacePlaceholder:{type:String,default:"nameNsDescription.namespace.placeholder"},namespaceDisabled:{type:Boolean,default:!1},namespaceNewAllowed:{type:Boolean,default:!1},noDefaultNamespace:{type:Boolean,default:!1},namespacesOverride:{type:Array,default:null},namespaceOptions:{type:Array,default:null},createNamespaceOverride:{type:Boolean,default:!1},descriptionLabel:{type:String,default:"nameNsDescription.description.label"},descriptionPlaceholder:{type:String,default:"nameNsDescription.description.placeholder"},descriptionDisabled:{type:Boolean,default:!1},nameKey:{type:String,default:null},namespaceKey:{type:String,default:null},descriptionKey:{type:String,default:null},forceNamespace:{type:String,default:null},showSpacer:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0},rules:{default:()=>({namespace:[],name:[],description:[]}),type:Object},componentTestid:{type:String,default:"name-ns-description"}},data(){const e=this.value,t=e.metadata;let a,o,l;o=this.nameKey?(0,m.Jt)(e,this.nameKey):t?.name,this.namespaced&&(this.forceNamespace?(a=this.forceNamespace,this.updateNamespace(a)):a=this.namespaceKey?(0,m.Jt)(e,this.namespaceKey):t?.namespace,a||this.noDefaultNamespace||(a=this.$store.getters["defaultNamespace"],t&&(t.namespace=a))),l=this.descriptionKey?(0,m.Jt)(e,this.descriptionKey):t?.annotations?.[b.tC];const s=this.$store.getters["currentStore"](),r=this.$store.getters[`${s}/schemaFor`](h.CU);return{namespace:a,name:o,description:l,createNamespace:!1,nsSchema:r}},computed:{...(0,p.L8)(["currentProduct","currentCluster","namespaces","allowedNamespaces"]),...(0,p.i0)("cru-resource",["setCreateNamespace"]),namespaceReallyDisabled(){return!!this.forceNamespace||this.namespaceDisabled||this.mode===g.G5},nameReallyDisabled(){return this.nameDisabled||this.mode===g.G5&&!this.nameEditable},options(){let e;if(this.namespacesOverride)e=this.namespacesOverride;else if(this.namespaceOptions)e=(this.namespaceOptions.map((e=>e.name))||[]).sort();else{const t=this.isCreate?this.allowedNamespaces():this.namespaces();e=Object.keys(t)}const t=e.map((e=>({nameDisplay:e,id:e}))).map(this.namespaceMapper||(e=>({label:e.nameDisplay,value:e.id}))),a=(0,v.Ul)(t,"label");this.forceNamespace&&a.unshift({label:this.forceNamespace,value:this.forceNamespace});const o={label:this.t("namespace.createNamespace"),value:"",kind:"highlighted"},l={label:"divider",disabled:!0,kind:"divider"},s=this.canCreateNamespace||this.createNamespaceOverride?[o,l]:[];return[...s,...a]},isView(){return this.mode===g.nW},isCreate(){return this.mode===g.YQ},showCustomize(){return this.mode===g.YQ&&this.name&&this.name.length>0},colSpan(){if(!this.horizontal)return"span-8";let e=(this.nameNsHidden?0:2)+(this.descriptionHidden?0:1)+this.extraColumns.length;e=Math.max(2,e);const t=12/e;return`span-${t}`},canCreateNamespace(){return(this.nsSchema?.collectionMethods||[]).includes("POST")&&this.currentCluster?.canUpdate}},watch:{name(e){this.normalizeName&&(e=N(e)),this.nameKey?(0,m.hZ)(this.value,this.nameKey,e):this.value.metadata["name"]=e,this.$emit("update:value",this.value)},namespace(e){this.updateNamespace(e),this.$emit("update:value",this.value)},description(e){this.descriptionKey?(0,m.hZ)(this.value,this.descriptionKey,e):this.value.setAnnotation(b.tC,e),this.$emit("update:value",this.value)}},mounted(){this.$nextTick((()=>{this.$refs.name&&this.$refs.name.focus()}))},methods:{updateNamespace(e){this.forceNamespace&&(e=this.forceNamespace),this.namespaced&&this.$emit("isNamespaceNew",!e||this.options&&!this.options.find((t=>t.value===e))),this.namespaceKey?(0,m.hZ)(this.value,this.namespaceKey,e):this.value.metadata.namespace=e},changeNameAndNamespace(e){this.name=(e.text||"").toLowerCase(),this.namespace=e.selected},cancelCreateNamespace(e){this.createNamespace=!1,this.$parent.$emit("createNamespace",!1),this.namespace=this.$store.getters["defaultNamespace"]||this.options.find((e=>!!e.value))?.value},selectNamespace(e){e&&""!==e.value?(this.createNamespace=!1,this.$store.dispatch("cru-resource/setCreateNamespace",!1),this.$emit("isNamespaceNew",!1)):(this.createNamespace=!0,this.$store.dispatch("cru-resource/setCreateNamespace",!0),this.$emit("isNamespaceNew",!0),this.$nextTick((()=>this.$refs.namespace.focus())))}}},V=(a(45087),a(47433));const E=(0,V.A)(k,[["render",u],["__scopeId","data-v-4418d0b6"]]);var w=E},8524:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});var o=a(9274);const l={class:"input-container"};function s(e,t,a,s,r,n){const i=(0,o.resolveComponent)("ResourceLabeledSelect"),d=(0,o.resolveComponent)("LabeledSelect");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["secret-selector",{"show-key-selector":a.showKeySelector}])},[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(i,{value:n.name,"onUpdate:value":t[0]||(t[0]=e=>n.name=e),disabled:!n.isView&&a.disabled,label:a.secretNameLabel,mode:a.mode,"resource-type":r.SECRET,"in-store":a.inStore,"paginated-resource-settings":r.paginateSecretsSetting,"all-resources-settings":r.allSecretsSettings},null,8,["value","disabled","label","mode","resource-type","in-store","paginated-resource-settings","all-resources-settings"]),a.showKeySelector?((0,o.openBlock)(),(0,o.createBlock)(d,{key:0,value:n.key,"onUpdate:value":t[1]||(t[1]=e=>n.key=e),class:"col span-6",disabled:n.isKeyDisabled,options:n.keys,label:a.keyNameLabel,mode:a.mode},null,8,["value","disabled","options","label","mode"])):(0,o.createCommentVNode)("",!0)])],2)}var r=a(70052),n=a(70455),i=a(4284),d=a(75040),c=a(59433),u=a(80989),p=a(41452);const m="__[[NONE]]__";var v={emits:["update:value"],components:{LabeledSelect:r.A,ResourceLabeledSelect:n.A},props:{value:{type:[String,Object],required:!1,default:void 0},namespace:{type:String,required:!0},types:{type:Array,default:()=>Object.values(c.J)},disabled:{type:Boolean,default:!1},mountKey:{type:String,default:"valueFrom"},nameKey:{type:String,default:"name"},keyKey:{type:String,default:"key"},showKeySelector:{type:Boolean,default:!1},secretNameLabel:{type:String,default:"Secret Name"},keyNameLabel:{type:String,default:"Key"},mode:{type:String,default:d.G5},inStore:{type:String,default:"cluster"}},data(){return{secrets:null,SECRET:i.bB,allSecretsSettings:{mapResult:e=>{const t=e.filter((e=>this.types.includes(e._type)&&e.namespace===this.namespace)),a=this.mapSecrets(t.sort(((e,t)=>e.name.localeCompare(t.name))));return this.secrets=t,a}},paginateSecretsSetting:{requestSettings:this.paginatePageOptions,mapResult:e=>{const t=this.mapSecrets(e);return this.secrets=e,t}}}},computed:{name:{get(){const e=this.showKeySelector?this.value?.[this.mountKey]?.secretKeyRef?.[this.nameKey]:this.value;return e||m},set(e){const t=e===m,a=t?void 0:e;this.showKeySelector?this.$emit("update:value",{[this.mountKey]:{secretKeyRef:{[this.nameKey]:a,[this.keyKey]:""}}}):this.$emit("update:value",a)}},key:{get(){return this.value?.[this.mountKey]?.secretKeyRef?.[this.keyKey]||""},set(e){this.$emit("update:value",{[this.mountKey]:{secretKeyRef:{[this.nameKey]:this.name,[this.keyKey]:e}}})}},keys(){const e=(this.secrets||[]).find((e=>e.name===this.name))||{};return Object.keys(e.data||{}).map((e=>({label:e,value:e})))},isView(){return this.mode===d.nW},isKeyDisabled(){return!this.isView&&(!this.name||this.name===m||this.disabled)}},methods:{mapSecrets(e){const t=e.reduce(((e,t)=>(t.kind===p.c.NONE||(t.id?e.push({label:t.name,value:t.name}):e.push(t)),e)),[]);return[{label:"None",value:m,kind:p.c.NONE},...t]},paginatePageOptions(e){const{opts:{filter:t}}=e,a=t?[u.eY.createSingleField({field:"metadata.name",value:t})]:[];return a.push(u.eY.createSingleField({field:"metadata.namespace",value:this.namespace}),u.eY.createSingleField({field:"metadata.fields.1",value:this.types.join(",")})),{...e,filters:a,groupByNamespace:!1,classify:!0,sort:[{asc:!0,field:"metadata.name"}]}}}},h=(a(90649),a(47433));const b=(0,h.A)(v,[["render",s]]);var g=b},73281:function(e,t,a){"use strict";a.d(t,{A:function(){return le}});var o=a(9274);const l={key:1},s={key:0,class:"icon icon-info status-icon text-warning"},r={key:0,class:"icon icon-info status-icon text-warning"};function n(e,t,a,n,i,d){const c=(0,o.resolveComponent)("Loading"),u=(0,o.resolveComponent)("NameNsDescription"),p=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("LabeledSelect"),v=(0,o.resolveComponent)("Match"),h=(0,o.resolveComponent)("ArrayListGrouped"),b=(0,o.resolveComponent)("Tab"),g=(0,o.resolveComponent)("YamlEditor"),f=(0,o.resolveComponent)("Tabbed"),y=(0,o.resolveComponent)("CruResource"),N=(0,o.resolveDirective)("clean-tooltip");return e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0})):i.formSupported?((0,o.openBlock)(),(0,o.createBlock)(y,{key:1,class:"flow","done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],"validation-passed":!0,errors:e.errors,"apply-hooks":e.applyHooks,onError:t[9]||(t[9]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,o.withCtx)((()=>[e.isView?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,value:e.value,mode:e.mode,namespaced:e.value.type!==d.LOGGING.CLUSTER_FLOW,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["value","mode","namespaced"])),(0,o.createVNode)(f,{"side-tabs":!0,onChanged:t[8]||(t[8]=e=>d.tabChanged(e))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(b,{name:"match",label:e.t("logging.flow.matches.label"),weight:3},{default:(0,o.withCtx)((()=>[d.isHarvester?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,color:"info",class:"mt-0",label:e.t("logging.flow.matches.banner")},null,8,["label"])),d.isHarvester?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createVNode)(m,{value:i.loggingType,"onUpdate:value":t[1]||(t[1]=e=>i.loggingType=e),class:"mb-20",options:d.flowTypeOptions,mode:e.mode,disabled:!e.isCreate,label:e.t("generic.type")},null,8,["value","options","mode","disabled","label"])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(h,{value:i.matches,"onUpdate:value":t[4]||(t[4]=e=>i.matches=e),"add-label":e.t("ingress.rules.addRule"),"default-add-value":{},mode:e.mode},{default:(0,o.withCtx)((t=>[(0,o.createVNode)(v,{class:"rule mb-20",value:t.row.value,mode:e.mode,namespaces:d.namespaceChoices,nodes:d.nodeChoices,"is-cluster-flow":e.value.type===d.LOGGING.CLUSTER_FLOW,onRemove:e=>d.removeMatch(t.row.i),"onUpdate:value":e=>d.updateMatch(e,t.row.i)},null,8,["value","mode","namespaces","nodes","is-cluster-flow","onRemove","onUpdate:value"])])),add:(0,o.withCtx)((()=>[(0,o.createElementVNode)("button",{class:"btn role-tertiary add",type:"button",onClick:t[2]||(t[2]=e=>d.addMatch(!0))},(0,o.toDisplayString)(e.t("logging.flow.matches.addSelect")),1),(0,o.createElementVNode)("button",{class:"btn role-tertiary add",type:"button",onClick:t[3]||(t[3]=e=>d.addMatch(!1))},(0,o.toDisplayString)(e.t("logging.flow.matches.addExclude")),1)])),_:1},8,["value","add-label","mode"])])),_:1},8,["label"]),(0,o.createVNode)(b,{name:"outputs",label:e.t("logging.flow.outputs.label"),weight:2},{default:(0,o.withCtx)((()=>[e.value.type!==d.LOGGING.CLUSTER_FLOW?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,label:e.t("logging.flow.outputs.sameNamespaceError"),color:"info"},null,8,["label"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(m,{value:i.globalOutputRefs,"onUpdate:value":t[5]||(t[5]=e=>i.globalOutputRefs=e),label:e.t("logging.flow.clusterOutputs.label"),options:d.clusterOutputChoices,multiple:!0,taggable:!0,clearable:!0,"close-on-select":!1,reduce:e=>e.value},{"selected-option":(0,o.withCtx)((t=>[d.isTag(d.clusterOutputChoices,t)?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("i",s,null,512)),[[N,e.t("logging.flow.clusterOutputs.doesntExistTooltip")]]):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(t.label),1)])),_:1},8,["value","label","options","reduce"]),e.value.type===d.LOGGING.FLOW?((0,o.openBlock)(),(0,o.createBlock)(m,{key:1,value:i.localOutputRefs,"onUpdate:value":t[6]||(t[6]=e=>i.localOutputRefs=e),label:e.t("logging.flow.outputs.label"),class:"mt-10",options:d.outputChoices,multiple:!0,taggable:!0,clearable:!0,"close-on-select":!1,reduce:e=>e.value},{"selected-option":(0,o.withCtx)((t=>[d.isTag(d.outputChoices,t)?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("i",r,null,512)),[[N,e.t("logging.flow.outputs.doesntExistTooltip")]]):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(t.label),1)])),_:1},8,["value","label","options","reduce"])):(0,o.createCommentVNode)("",!0)])),_:1},8,["label"]),(0,o.createVNode)(b,{name:"filters",label:e.t("logging.flow.filters.label"),weight:1},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{ref:"yaml",value:i.filtersYaml,"onUpdate:value":t[7]||(t[7]=e=>i.filtersYaml=e),scrolling:!1,"initial-yaml-values":i.initialFiltersYaml,"editor-mode":e.isView?d.EDITOR_MODES.VIEW_CODE:d.EDITOR_MODES.EDIT_CODE,onOnReady:d.onYamlEditorReady},null,8,["value","initial-yaml-values","editor-mode","onOnReady"])])),_:1},8,["label"])])),_:1})])),_:1},8,["done-route","mode","resource","errors","apply-hooks","onFinish","onCancel"])):((0,o.openBlock)(),(0,o.createBlock)(p,{key:2,label:e.t("logging.flow.matches.unsupportedConfig"),color:"error"},null,8,["label"]))}var i=a(58832),d=a(81357),c=a(66210),u=a(82888),p=a(83504),m=a(35244),v=a(12327),h=a(4284),b=a(20246),g=a.n(b),f=a(3196),y=a(89893),N=a(68844),k=a(24759),V=a(70546),E=a(70052),w=a(65852),C=a(15510),S=a.n(C),B=a(4373),A=a(71898),x=a(76250);const _=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),D={class:"row"},U={class:"col span-12"},M={key:1},L=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),T={class:"row"},O={class:"col span-12"},I={key:0},R=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),$={class:"row"},P={class:"col span-12"},q=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),F={class:"row"},G={class:"col span-12"};function K(e,t,a,l,s,r){const n=(0,o.resolveComponent)("KeyValue"),i=(0,o.resolveComponent)("Select"),d=(0,o.resolveComponent)("LabeledSelect");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[r.isHarvester?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createVNode)(n,{value:a.value.labels,"onUpdate:value":t[0]||(t[0]=e=>a.value.labels=e),title:a.value.select?e.t("logging.flow.matches.pods.title.include"):e.t("logging.flow.matches.pods.title.exclude"),mode:a.mode,"initial-empty-row":!0,"read-allowed":!1,"title-add":!0,protip:"","key-label":e.t("logging.flow.matches.pods.keyLabel"),"value-label":e.t("logging.flow.matches.pods.valueLabel"),"add-label":e.t("logging.flow.matches.pods.addLabel")},null,8,["value","title","mode","key-label","value-label","add-label"]),_],64)),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(a.value.select?e.t("logging.flow.matches.nodes.title.include"):e.t("logging.flow.matches.nodes.title.exclude")),1),(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("div",U,[(0,o.createVNode)(i,{value:a.value.hosts,"onUpdate:value":t[1]||(t[1]=e=>a.value.hosts=e),class:"lg",options:a.nodes,placeholder:e.t("logging.flow.matches.nodes.placeholder"),multiple:!0,searchable:!0,taggable:!0,clearable:!0,"close-on-select":!1,reduce:e=>e.value},null,8,["value","options","placeholder","reduce"])])]),r.isHarvester?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",M,[L,(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(a.value.select?e.t("logging.flow.matches.containerNames.title.include"):e.t("logging.flow.matches.containerNames.title.exclude")),1),(0,o.createElementVNode)("div",T,[(0,o.createElementVNode)("div",O,[(0,o.createVNode)(d,{value:a.value.container_names,"onUpdate:value":t[2]||(t[2]=e=>a.value.container_names=e),mode:a.mode,options:[],disabled:!1,placeholder:e.t("logging.flow.matches.containerNames.placeholder"),multiple:!0,taggable:!0,clearable:!0,searchable:!0,"close-on-select":!1,"no-options-label-key":"logging.flow.matches.containerNames.enter",placement:"top"},null,8,["value","mode","placeholder"])])]),a.isClusterFlow?((0,o.openBlock)(),(0,o.createElementBlock)("div",I,[R,(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(a.value.select?e.t("logging.flow.matches.containerNames.title.include"):e.t("logging.flow.matches.containerNames.title.exclude")),1),(0,o.createElementVNode)("div",$,[(0,o.createElementVNode)("div",P,[(0,o.createVNode)(i,{value:a.value.namespaces,"onUpdate:value":t[3]||(t[3]=e=>a.value.namespaces=e),class:"lg",options:a.namespaces,placeholder:e.t("logging.flow.matches.namespaces.placeholder"),multiple:!0,taggable:!0,clearable:!0,searchable:!0,"close-on-select":!1,"no-options-label-key":"logging.flow.matches.containerNames.enter",placement:"top"},null,8,["value","options","placeholder"])])]),q,(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(a.value.select?e.t("logging.flow.matches.namespaces.title.include"):e.t("logging.flow.matches.namespaces.title.exclude")),1),(0,o.createElementVNode)("div",F,[(0,o.createElementVNode)("div",G,[(0,o.createVNode)(i,{modelValue:a.value.namespaces,"onUpdate:modelValue":t[4]||(t[4]=e=>a.value.namespaces=e),class:"lg",options:a.namespaces,placeholder:e.t("logging.flow.matches.namespaces.placeholder"),multiple:!0,taggable:!0,clearable:!0,"close-on-select":!1,placement:"top"},null,8,["modelValue","options","placeholder"])])])])):(0,o.createCommentVNode)("",!0)]))])}var j=a(74457),H=a(84818),J={emits:["remove"],components:{KeyValue:j.A,Select:H.A,LabeledSelect:E.A},props:{mode:{type:String,required:!0},value:{type:Object,default:()=>({})},nodes:{type:Array,default:()=>[]},namespaces:{type:Array,default:()=>[]},isClusterFlow:{type:Boolean,default:!1}},computed:{isHarvester(){return this.$store.getters["currentProduct"].inStore===x.T}},methods:{update(){},removeRule(){this.$emit("remove")}}},z=a(47433);const Q=(0,z.A)(J,[["render",K]]);var Y=Q;const W="Logging",Z="Audit",X="Event",ee=[W,Z,X];function te(e=!0){const t={select:!!e,exclude:!e,labels:{},hosts:[],container_names:[]};return t}var ae={emits:["input"],components:{Banner:i.l,CruResource:c.A,LabeledSelect:E.A,Loading:u.A,NameNsDescription:p.A,Tab:v.A,Tabbed:m.A,YamlEditor:y.A,Match:Y,ArrayListGrouped:B.A},mixins:[d.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentCluster"],t=e.isHarvester?x.T:"cluster",a=this.$store.getters[`${t}/schemaFor`](h.cm.CLUSTER_OUTPUT),o=this.$store.getters[`${t}/schemaFor`](h.cm.OUTPUT),l=this.$store.getters["cluster/schemaFor"](h.CU),s=this.$store.getters[`${t}/schemaFor`](h.NW),r=this.$store.getters[`${t}/schemaFor`](h.Sm),n=this.value.type===h.cm.FLOW,i=(e,a)=>a?this.$store.dispatch(`${t}/findAll`,{type:e}):Promise.resolve([]),d=await(0,N.kR)({allOutputs:i(h.cm.OUTPUT,n&&o),allClusterOutputs:i(h.cm.CLUSTER_OUTPUT,a),allNamespaces:i(h.CU,l),allNodes:i(h.NW,s),allPods:i(h.Sm,r)});for(const c of Object.keys(d))this[c]=d[c]||[]},data(){const e=this.$store.getters["currentCluster"],t=e.isHarvester?x.T:"cluster",a=this.$store.getters[`${t}/all`](h.yx);let o;this.value.spec=this.value.spec||{},this.value.spec.filters?.length?o=g().dump(this.value.spec.filters):(o=(0,f.mH)(a,h.cm.SPOOFED.FILTERS,{}),o=o.substring(o.indexOf("\n")+1).replaceAll("#  ","#"));const l=[];let s=!this.value.id||this.value.canCustomEdit;if(this.value.spec.match?.length)for(const i of this.value.spec.match)(0,V.matchRuleIsPopulated)(i.select)&&(0,V.matchRuleIsPopulated)(i.exclude)?s=!1:(0,V.matchRuleIsPopulated)(i.select)?l.push({select:!0,...i.select}):(0,V.matchRuleIsPopulated)(i.exclude)&&l.push({exclude:!0,...i.exclude});else l.push(te(!0));const r=(this.value.spec.globalOutputRefs||[]).map((e=>({label:e,value:e}))),n=(this.value.spec.localOutputRefs||[]).map((e=>({label:e,value:e})));return{formSupported:s,matches:l,allOutputs:null,allClusterOutputs:null,allNamespaces:null,allNodes:null,allPods:null,filtersYaml:o,initialFiltersYaml:o,globalOutputRefs:r,localOutputRefs:n,loggingType:(0,w.o8)(this.value.loggingType||W)}},computed:{EDITOR_MODES(){return y.j},LOGGING(){return h.cm},outputChoices(){return this.allOutputs?this.allOutputs.filter((e=>{if(!e.namespace)return!0;const t=e.namespace===this.value.namespace;return this.isHarvester?this.loggingType===Z?e.loggingType===Z&&t:e.loggingType!==Z&&t:t})).map((e=>({label:e.metadata.name,value:e.metadata.name}))):[]},clusterOutputChoices(){return this.allClusterOutputs?this.allClusterOutputs.filter((e=>{const t="cattle-logging-system"===e.namespace;return this.isHarvester?this.loggingType===Z?e.loggingType===Z&&t:e.loggingType!==Z&&t:t})).map((e=>({label:e.metadata.name,value:e.metadata.name}))):[]},namespaceChoices(){if(!this.allNamespaces)return[];const e=this.allNamespaces.map((e=>({label:e.nameDisplay,value:e.metadata.name})));return e},nodeChoices(){if(!this.allNodes)return[];const e=this.allNodes.map((e=>({label:e.nameDisplay,value:e.metadata.name})));return e},containerChoices(){const e=[];for(const t of this.allPods)for(const a of t.spec?.containers||[])e.push(a.name);return(0,k.sb)(e).sort()},isHarvester(){return this.$store.getters["currentProduct"].inStore===x.T},flowTypeOptions(){return ee}},watch:{matches:{deep:!0,handler(){const e=this.matches.map((e=>{const t=(0,w.o8)(e);return delete t.exclude,delete t.select,e.exclude?{exclude:t}:{select:t}}));this.value.spec.match=e}},filtersYaml:{deep:!0,handler(){try{const e=g().load(this.filtersYaml);(0,k.cy)(e)?this.value.spec.filters=e:this.value.spec.filters=void 0}catch(e){this.errors=(0,A.rz)(e)}}},globalOutputRefs:{deep:!0,handler(){this.value.spec.globalOutputRefs=this.globalOutputRefs}},localOutputRefs:{deep:!0,handler(){this.value.spec.localOutputRefs=this.localOutputRefs}}},created(){this.isCreate&&this.value.type===h.cm.CLUSTER_FLOW&&(this.value.metadata.namespace="cattle-logging-system"),this.registerBeforeHook(this.willSave,"willSave")},methods:{addMatch(e){this.matches=[...this.matches,te(e)]},removeMatch(e){this.matches.splice(e,1)},updateMatch(e,t){this.matches[t]=e},tabChanged({tab:e}){"filters"===e.name&&this.$nextTick((()=>{this.$refs.yaml&&(this.$refs.yaml.refresh(),this.$refs.yaml.focus())}))},isMatchEmpty(e){return!!S()(e)||e.every((e=>{if(S()(e.select)&&S()(e.exclude))return!0;const t=e.select||{},a=e.exclude||{},o=e=>Object.values(e).every(S());return o(t)&&o(a)}))},willSave(){if(this.value.spec.filters&&S()(this.value.spec.filters)&&delete this.value.spec["filters"],this.value.spec.match&&this.isMatchEmpty(this.value.spec.match)&&delete this.value.spec["match"],this.loggingType===Z&&(this.value.spec["loggingRef"]="harvester-kube-audit-log-ref"),this.loggingType===X){const e={select:{labels:{"app.kubernetes.io/name":"event-tailer"}}};this.value.spec.match?this.value.spec.match.push(e):this.value.spec["match"]=[e]}},onYamlEditorReady(e){e.getMode().fold="yamlcomments",e.execCommand("foldAll"),e.execCommand("unfold")},isTag(e,t){return!e.find((e=>e.value===t.value))}}};a(92211);const oe=(0,z.A)(ae,[["render",n],["__scopeId","data-v-18ba8a37"]]);var le=oe},1241:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),d={class:"row"},c={class:"col span-6"},u={class:"row mb-10"},p={class:"col span-6"},m={class:"col span-6"};function v(e,t,a,v,h,b){const g=(0,o.resolveComponent)("LabeledInput"),f=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(g,{value:a.value.endpoint.url,"onUpdate:value":t[0]||(t[0]=e=>a.value.endpoint.url=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.awsElasticsearch.url")},null,8,["value","mode","disabled","label"])])]),i,(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",u,[(0,o.createTextVNode)((0,o.toDisplayString)(a.value.namespace)+" ",1),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(f,{value:a.value.endpoint.access_key_id,"onUpdate:value":t[1]||(t[1]=e=>a.value.endpoint.access_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.awsElasticsearch.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",m,[(0,o.createVNode)(f,{value:a.value.endpoint.secret_access_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.endpoint.secret_access_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.awsElasticsearch.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var h=a(53512),b=a(8524),g={components:{LabeledInput:h.o,SecretSelector:b.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},f=a(47433);const y=(0,f.A)(g,[["render",v]]);var N=y},98698:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"row mb-10"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),p={class:"row"},m={class:"col span-6"},v={class:"row mb-10"},h={class:"col span-6"},b={class:"col span-6"};function g(e,t,a,g,f,y){const N=(0,o.resolveComponent)("LabeledInput"),k=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(N,{value:a.value.azure_container,"onUpdate:value":t[0]||(t[0]=e=>a.value.azure_container=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.azurestorage.container")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(N,{value:a.value.path,"onUpdate:value":t[1]||(t[1]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.azurestorage.path")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createVNode)(N,{value:a.value.store_as,"onUpdate:value":t[2]||(t[2]=e=>a.value.store_as=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.azurestorage.storeAs")},null,8,["value","mode","disabled","label"])])]),u,(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createVNode)(k,{value:a.value.azure_storage_account,"onUpdate:value":t[3]||(t[3]=e=>a.value.azure_storage_account=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.azurestorage.storageAccount"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",b,[(0,o.createVNode)(k,{value:a.value.azure_storage_access_key,"onUpdate:value":t[4]||(t[4]=e=>a.value.azure_storage_access_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.azurestorage.accessKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var f=a(53512),y=a(8524),N={components:{LabeledInput:f.o,SecretSelector:y.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},k=a(47433);const V=(0,k.A)(N,[["render",g]]);var E=V},91106:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u={class:"row mb-10"},p={class:"col span-6"},m={class:"col span-6"},v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f={class:"col span-6"};function y(e,t,a,y,N,k){const V=(0,o.resolveComponent)("LabeledInput"),E=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(V,{value:a.value.region,"onUpdate:value":t[0]||(t[0]=e=>a.value.region=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.region")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(V,{value:a.value.endpoint,"onUpdate:value":t[1]||(t[1]=e=>a.value.endpoint=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.endpoint")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createVNode)(E,{value:a.value.aws_key_id,"onUpdate:value":t[2]||(t[2]=e=>a.value.aws_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.cloudwatch.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",m,[(0,o.createVNode)(E,{value:a.value.aws_sec_key,"onUpdate:value":t[3]||(t[3]=e=>a.value.aws_sec_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.cloudwatch.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.configuration")),1)])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(V,{value:a.value.log_group_name,"onUpdate:value":t[4]||(t[4]=e=>a.value.log_group_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.logGroupName")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",f,[(0,o.createVNode)(V,{value:a.value.log_stream_name,"onUpdate:value":t[5]||(t[5]=e=>a.value.log_stream_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.logStreamName")},null,8,["value","mode","disabled","label"])])])])}var N=a(53512),k=a(8524),V={components:{LabeledInput:N.o,SecretSelector:k.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},E=(a(71997),a(47433));const w=(0,E.A)(V,[["render",y]]);var C=w},46811:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),d={class:"row"},c={class:"col span-6"},u={class:"row"},p={class:"col span-6"},m=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),v={class:"row"},h={class:"col span-6"},b={class:"row mb-10"},g={class:"col span-6"},f={class:"row mb-10"},y={class:"col span-6"};function N(e,t,a,N,k,V){const E=(0,o.resolveComponent)("LabeledInput"),w=(0,o.resolveComponent)("SecretSelector"),C=(0,o.resolveComponent)("Checkbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(E,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.datadog.host")},null,8,["value","mode","disabled","label"])])]),i,(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createVNode)(w,{value:a.value.api_key,"onUpdate:value":t[1]||(t[1]=e=>a.value.api_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.datadog.apiKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),m,(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(C,{value:a.value.use_ssl,"onUpdate:value":t[2]||(t[2]=e=>a.value.use_ssl=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.datadog.useSSL")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",y,[(0,o.createVNode)(C,{value:a.value.use_compression,"onUpdate:value":t[3]||(t[3]=e=>a.value.use_compression=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.datadog.useCompression")},null,8,["value","mode","disabled","label"])])])])}var k=a(3276),V=a(53512),E=a(8524),w={components:{Checkbox:k.S,LabeledInput:V.o,SecretSelector:E.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},C=a(47433);const S=(0,C.A)(w,[["render",N]]);var B=S},25963:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return q}});var o=a(9274);const l={class:"elasticsearch"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-2"},d={class:"col span-8"},c={class:"col span-2"},u={class:"row"},p={class:"col span-6"},m=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f={class:"col span-6"},y=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),N={class:"row"},k={class:"col span-6"},V={class:"row mb-10"},E={class:"col span-6"},w={class:"col span-6"},C={class:"row"},S={class:"col span-6"},B={class:"col span-6"},A={class:"row mb-10"},x={class:"col span-6"},_={class:"col span-6 vertically-center"};function D(e,t,a,D,U,M){const L=(0,o.resolveComponent)("LabeledSelect"),T=(0,o.resolveComponent)("LabeledInput"),O=(0,o.resolveComponent)("SecretSelector"),I=(0,o.resolveComponent)("Checkbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(L,{value:a.value.scheme,"onUpdate:value":t[0]||(t[0]=e=>a.value.scheme=e),mode:a.mode,disabled:a.disabled,class:"scheme",options:U.protocolOptions,label:e.t("logging.elasticsearch.scheme")},null,8,["value","mode","disabled","options","label"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(T,{value:a.value.host,"onUpdate:value":t[1]||(t[1]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.elasticsearch.host")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(T,{value:M.port,"onUpdate:value":t[2]||(t[2]=e=>M.port=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,class:"port",type:"number",min:"1",max:"65535",label:e.t("logging.elasticsearch.port")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createVNode)(T,{value:a.value.index_name,"onUpdate:value":t[3]||(t[3]=e=>a.value.index_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.indexName")},null,8,["value","mode","disabled","label"])])]),m,(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(T,{value:a.value.user,"onUpdate:value":t[4]||(t[4]=e=>a.value.user=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.user")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",f,[(0,o.createVNode)(O,{value:a.value.password,"onUpdate:value":t[5]||(t[5]=e=>a.value.password=e),"secret-name-label":e.t("logging.elasticsearch.password"),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"show-key-selector":!0},null,8,["value","secret-name-label","mode","namespace","disabled"])])]),y,(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",E,[(0,o.createVNode)(O,{value:a.value.ca_file,"onUpdate:value":t[6]||(t[6]=e=>a.value.ca_file=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.caFile.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",w,[(0,o.createVNode)(O,{value:a.value.client_cert,"onUpdate:value":t[7]||(t[7]=e=>a.value.client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",S,[(0,o.createVNode)(O,{value:a.value.client_key,"onUpdate:value":t[8]||(t[8]=e=>a.value.client_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKey.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",B,[(0,o.createVNode)(O,{value:a.value.client_key_pass,"onUpdate:value":t[9]||(t[9]=e=>a.value.client_key_pass=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKeyPass"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",A,[(0,o.createElementVNode)("div",x,[(0,o.createVNode)(L,{value:a.value.ssl_version,"onUpdate:value":t[10]||(t[10]=e=>a.value.ssl_version=e),mode:a.mode,disabled:a.disabled,options:U.sslVersions,label:e.t("logging.elasticsearch.sslVersion")},null,8,["value","mode","disabled","options","label"])]),(0,o.createElementVNode)("div",_,[(0,o.createVNode)(I,{value:a.value.ssl_verify,"onUpdate:value":t[11]||(t[11]=e=>a.value.ssl_verify=e),label:e.t("logging.elasticsearch.verifySsl"),disabled:a.disabled,mode:a.mode},null,8,["value","label","disabled","mode"]),(0,o.createVNode)(I,{value:a.value.suppress_type_name,"onUpdate:value":t[12]||(t[12]=e=>a.value.suppress_type_name=e),label:e.t("logging.elasticsearch.suppressTypeName.label"),tooltip:e.t("logging.elasticsearch.suppressTypeName.elasticSearchTips"),disabled:a.disabled,mode:a.mode},null,8,["value","label","tooltip","disabled","mode"])])])])}var U=a(53512),M=a(70052),L=a(8524),T=a(3276),O=a(75040),I=a(89914),R={components:{LabeledInput:U.o,LabeledSelect:M.A,SecretSelector:L.A,Checkbox:T.S},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return this.mode===O.YQ&&("undefined"===typeof this.value.ssl_verify&&(this.value["ssl_verify"]=!0),"undefined"===typeof this.value.ssl_version&&(this.value["ssl_version"]=I.sslVersions[0]),"undefined"===typeof this.value.suppress_type_name&&(this.value["suppress_type_name"]=!0)),{protocolOptions:I.protocol,sslVersions:I.sslVersions}},computed:{port:{get(){return this.value.port},set(e){(0,I.updatePort)((e=>this.value["port"]=e),e)}}}},$=(a(14625),a(47433));const P=(0,$.A)(R,[["render",D]]);var q=P},56893:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var o=a(9274);const l={class:"forward"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(p,{value:a.value.path,"onUpdate:value":t[0]||(t[0]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.file.path")},null,8,["value","mode","disabled","label"])])])])}var c=a(53512),u={components:{LabeledInput:c.o},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},p=a(47433);const m=(0,p.A)(u,[["render",d]]);var v=m},63079:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var o=a(9274);const l={class:"forward"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-10"},d={class:"col span-2"},c=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),u={class:"row"},p={class:"col span-6"},m={class:"row mb-10"},v={class:"col span-6"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),y={class:"row"},N={class:"col span-6"},k={class:"row"},V={class:"col span-6"},E={class:"col span-6"},w={class:"row mt-10"},C={class:"col span-6"};function S(e,t,a,S,B,A){const x=(0,o.resolveComponent)("LabeledInput"),_=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(x,{value:a.value.servers[0].host,"onUpdate:value":t[0]||(t[0]=e=>a.value.servers[0].host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.forward.host")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(x,{value:A.port,"onUpdate:value":t[1]||(t[1]=e=>A.port=e),mode:a.mode,disabled:a.disabled,type:"number",min:"1",max:"65535",label:e.t("logging.forward.port")},null,8,["value","mode","disabled","label"])])]),c,(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(_,{value:a.value.servers[0].username,"onUpdate:value":t[2]||(t[2]=e=>a.value.servers[0].username=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.username"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",h,[(0,o.createVNode)(_,{value:a.value.servers[0].password,"onUpdate:value":t[3]||(t[3]=e=>a.value.servers[0].password=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.password"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(_,{value:a.value.servers[0].shared_key,"onUpdate:value":t[4]||(t[4]=e=>a.value.servers[0].shared_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.sharedKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),f,(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("div",V,[(0,o.createVNode)(_,{value:a.value.tls_client_cert_path,"onUpdate:value":t[5]||(t[5]=e=>a.value.tls_client_cert_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.clientCertPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",E,[(0,o.createVNode)(_,{value:a.value.tls_client_private_key_path,"onUpdate:value":t[6]||(t[6]=e=>a.value.tls_client_private_key_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.clientPrivateKeyPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",w,[(0,o.createElementVNode)("div",C,[(0,o.createVNode)(_,{value:a.value.tls_client_private_key_passphrase,"onUpdate:value":t[7]||(t[7]=e=>a.value.tls_client_private_key_passphrase=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.clientPrivateKeyPassphrase"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var B=a(53512),A=a(8524),x=a(89914),_={components:{LabeledInput:B.o,SecretSelector:A.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},computed:{port:{get(){return this.value.servers[0].port},set(e){(0,x.updatePort)((e=>this.value.servers[0]["port"]=e),e)}}}},D=a(47433);const U=(0,D.A)(_,[["render",S]]);var M=U},61864:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-2d797dba"),e=e(),(0,o.popScopeId)(),e),s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row"},u={class:"col span-6"},p={class:"col span-6 overwrite"},m=l((()=>(0,o.createElementVNode)("div",{class:"spacer"},null,-1))),v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"};function f(e,t,a,l,f,y){const N=(0,o.resolveComponent)("LabeledInput"),k=(0,o.resolveComponent)("Checkbox"),V=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(N,{value:a.value.project,"onUpdate:value":t[0]||(t[0]=e=>a.value.project=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.project")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(N,{value:a.value.bucket,"onUpdate:value":t[1]||(t[1]=e=>a.value.bucket=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.bucket")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(N,{value:a.value.path,"onUpdate:value":t[2]||(t[2]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.path")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(k,{value:a.value.overwrite,"onUpdate:value":t[3]||(t[3]=e=>a.value.overwrite=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.overwriteExistingPath")},null,8,["value","mode","disabled","label"])])]),m,(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(V,{value:a.value.credentials_json,"onUpdate:value":t[4]||(t[4]=e=>a.value.credentials_json=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.gcs.credentialsJson"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var y=a(3276),N=a(53512),k=a(8524),V={components:{Checkbox:y.S,LabeledInput:N.o,SecretSelector:k.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},E=(a(11422),a(47433));const w=(0,E.A)(V,[["render",f],["__scopeId","data-v-2d797dba"]]);var C=w},76639:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var o=a(9274);const l={class:"gelf"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-3"},c={class:"col span-3"},u=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),p={class:"row"},m={class:"col span-6"},v={class:"row mb-10"},h={class:"col span-6"},b={class:"col span-6"},g={class:"row mb-10"},f={class:"col span-6"},y={class:"col span-6"},N={class:"row mb-10"},k={class:"col span-6"},V={class:"col span-6"};function E(e,t,a,E,w,C){const S=(0,o.resolveComponent)("LabeledInput"),B=(0,o.resolveComponent)("LabeledSelect"),A=(0,o.resolveComponent)("Checkbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(S,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.gelf.host")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(S,{value:C.port,"onUpdate:value":t[1]||(t[1]=e=>C.port=e),mode:a.mode,disabled:a.disabled,class:"port",type:"number",label:e.t("logging.gelf.port")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(B,{value:a.value.protocol,"onUpdate:value":t[2]||(t[2]=e=>a.value.protocol=e),options:w.protocolOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.protocol")},null,8,["value","options","mode","disabled","label"])])]),u,(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createVNode)(A,{value:a.value.tls,"onUpdate:value":t[3]||(t[3]=e=>a.value.tls=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tls")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",b,[(0,o.createVNode)(A,{value:C.no_verify,"onUpdate:value":t[4]||(t[4]=e=>C.no_verify=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.noVerify")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("div",f,[(0,o.createVNode)(S,{value:a.value.tls_options.cert,"onUpdate:value":t[5]||(t[5]=e=>a.value.tls_options.cert=e),type:"multiline",mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.clientCert")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",y,[(0,o.createVNode)(S,{value:a.value.tls_options.key,"onUpdate:value":t[6]||(t[6]=e=>a.value.tls_options.key=e),type:"multiline",mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.clientKey")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("div",k,[(0,o.createVNode)(S,{value:a.value.tls_options.tls_version,"onUpdate:value":t[7]||(t[7]=e=>a.value.tls_options.tls_version=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.tlsVersion")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",V,[(0,o.createVNode)(A,{value:C.all_ciphers,"onUpdate:value":t[8]||(t[8]=e=>C.all_ciphers=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.allCiphers")},null,8,["value","mode","disabled","label"])])])])}var w=a(53512),C=a(70052),S=a(3276),B={components:{Checkbox:S.S,LabeledInput:w.o,LabeledSelect:C.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){const e=["tcp","udp"];return this.value["tls_options"]=this.value.tls_options||{},this.value["protocol"]=this.value.protocol||e[0],{protocolOptions:e}},computed:{port:{get(){return this.value.port},set(e){this.value["port"]=Number.parseInt(e)}},no_verify:{get(){return"true"===this.value.tls_options.no_verify},set(e){this.value.tls_options["no_verify"]=e?"true":null}},all_ciphers:{get(){return"true"===this.value.tls_options.all_ciphers},set(e){this.value.tls_options["all_ciphers"]=e?"true":null}}}},A=a(47433);const x=(0,A.A)(B,[["render",E]]);var _=x},31761:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var o=a(9274);const l={class:"kafka"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-6"},d={class:"col span-6"},c=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),u={class:"row"},p={class:"col span-6"},m={class:"row mb-10"},v={class:"col span-6"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),y={class:"row"},N={class:"col span-6"},k={class:"row mb-10"},V={class:"col span-6"},E={class:"row mb-10"},w={class:"col span-6"},C={class:"col span-6"},S={class:"row mb-10"},B={class:"col span-6"},A={class:"col span-6"};function x(e,t,a,x,_,D){const U=(0,o.resolveComponent)("LabeledInput"),M=(0,o.resolveComponent)("SecretSelector"),L=(0,o.resolveComponent)("Checkbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(U,{value:a.value.brokers,"onUpdate:value":t[0]||(t[0]=e=>a.value.brokers=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.brokers")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(U,{value:a.value.default_topic,"onUpdate:value":t[1]||(t[1]=e=>a.value.default_topic=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.defaultTopic")},null,8,["value","mode","disabled","label"])])]),c,(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(M,{value:a.value.username,"onUpdate:value":t[2]||(t[2]=e=>a.value.username=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.username"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",h,[(0,o.createVNode)(M,{value:a.value.password,"onUpdate:value":t[3]||(t[3]=e=>a.value.password=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.password"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(U,{value:a.value.scram_mechanism,"onUpdate:value":t[4]||(t[4]=e=>a.value.scram_mechanism=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.scramMechanism")},null,8,["value","mode","disabled","label"])])]),f,(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("div",V,[(0,o.createVNode)(L,{value:a.value.sasl_over_ssl,"onUpdate:value":t[5]||(t[5]=e=>a.value.sasl_over_ssl=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.saslOverSsl")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",E,[(0,o.createElementVNode)("div",w,[(0,o.createVNode)(M,{value:a.value.ssl_ca_cert,"onUpdate:value":t[6]||(t[6]=e=>a.value.ssl_ca_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslCaCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",C,[(0,o.createVNode)(M,{value:a.value.ssl_client_cert,"onUpdate:value":t[7]||(t[7]=e=>a.value.ssl_client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslClientCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("div",B,[(0,o.createVNode)(M,{value:a.value.ssl_client_cert_chain,"onUpdate:value":t[8]||(t[8]=e=>a.value.ssl_client_cert_chain=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslClientCertChain.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",A,[(0,o.createVNode)(M,{value:a.value.ssl_client_cert_key,"onUpdate:value":t[9]||(t[9]=e=>a.value.ssl_client_cert_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslClientCertKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var _=a(53512),D=a(8524),U=a(3276),M=a(89914),L={components:{Checkbox:U.S,LabeledInput:_.o,SecretSelector:D.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{schemes:M.protocol}}},T=a(47433);const O=(0,T.A)(L,[["render",x]]);var I=O},60947:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),d={class:"row"},c={class:"col span-6"},u={class:"row"},p={class:"col span-6"},m={class:"col span-6"};function v(e,t,a,v,h,b){const g=(0,o.resolveComponent)("LabeledInput"),f=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(g,{value:a.value.stream_name,"onUpdate:value":t[0]||(t[0]=e=>a.value.stream_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kinesisStream.streamName")},null,8,["value","mode","disabled","label"])])]),i,(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createVNode)(f,{value:a.value.aws_key_id,"onUpdate:value":t[1]||(t[1]=e=>a.value.aws_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kinesisStream.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",m,[(0,o.createVNode)(f,{value:a.value.aws_sec_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.aws_sec_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kinesisStream.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var h=a(8524),b=a(53512),g={components:{LabeledInput:b.o,SecretSelector:h.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},f=a(47433);const y=(0,f.A)(g,[["render",v]]);var N=y},65913:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"row mb-10"},n={class:"col span-6"},i={class:"col span-6"},d=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),c={class:"row"},u={class:"col span-6"},p={class:"row"},m={class:"col span-6"};function v(e,t,a,v,h,b){const g=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(g,{value:a.value.hostname,"onUpdate:value":t[0]||(t[0]=e=>a.value.hostname=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logdna.hostname")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(g,{value:a.value.app,"onUpdate:value":t[1]||(t[1]=e=>a.value.app=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logdna.app")},null,8,["value","mode","disabled","label"])])]),d,(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",m,[(0,o.createVNode)(g,{value:a.value.api_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.api_key=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logdna.apiKey"),required:!0},null,8,["value","mode","disabled","label"])])])])}var h=a(53512),b={components:{LabeledInput:h.o},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},g=a(47433);const f=(0,g.A)(b,[["render",v]]);var y=f},95885:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"col span-6"},d=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),c={class:"row"},u={class:"col span-6"},p={class:"row"},m={class:"col span-6"},v=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),h={class:"row"},b={class:"col span-6"},g={class:"row"},f={class:"col span-6"};function y(e,t,a,y,N,k){const V=(0,o.resolveComponent)("LabeledInput"),E=(0,o.resolveComponent)("SecretSelector"),w=(0,o.resolveComponent)("Checkbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(V,{value:a.value.endpoint.url,"onUpdate:value":t[0]||(t[0]=e=>a.value.endpoint.url=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logz.url")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(V,{value:k.port,"onUpdate:value":t[1]||(t[1]=e=>k.port=e),mode:a.mode,disabled:a.disabled,type:"number",min:"1",max:"65535",label:e.t("logging.logz.port")},null,8,["value","mode","disabled","label"])])]),d,(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",m,[(0,o.createVNode)(E,{value:a.value.endpoint.token,"onUpdate:value":t[2]||(t[2]=e=>a.value.endpoint.token=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.logz.token"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),v,(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("div",f,[(0,o.createVNode)(w,{value:a.value.gzip,"onUpdate:value":t[3]||(t[3]=e=>a.value.gzip=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logz.enableCompression")},null,8,["value","mode","disabled","label"])])])])}var N=a(3276),k=a(53512),V=a(8524),E=a(89914),w={components:{Checkbox:N.S,LabeledInput:k.o,SecretSelector:V.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},computed:{port:{get(){return this.value.endpoint.port},set(e){(0,E.updatePort)((e=>this.value.endpoint["port"]=e),e)}}}},C=a(47433);const S=(0,C.A)(w,[["render",y]]);var B=S},41335:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var o=a(9274);const l={class:"loki"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-6"},c=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),u={class:"row"},p={class:"col span-6"},m={class:"row"},v={class:"col span-6"},h={class:"col span-6"},b=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),g={class:"row"},f={class:"col span-6"},y={class:"row"},N={class:"col span-6"},k={class:"col span-6 mb-10"},V={class:"row"},E={class:"col span-6"},w=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),C={class:"row"},S={class:"col span-6"},B={class:"row mb-10"},A={class:"col span-12"},x={class:"row mb-10"},_={class:"col span-12"},D={class:"row mb-10"},U={class:"col span-12"};function M(e,t,a,M,L,T){const O=(0,o.resolveComponent)("LabeledInput"),I=(0,o.resolveComponent)("SecretSelector"),R=(0,o.resolveComponent)("Checkbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(O,{value:a.value.url,"onUpdate:value":t[0]||(t[0]=e=>a.value.url=e),mode:a.mode,disabled:a.disabled,class:"url",placeholder:"https://127.0.0.1:8000","data-testid":"loki-url",label:e.t("logging.loki.url")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(O,{value:a.value.tenant,"onUpdate:value":t[1]||(t[1]=e=>a.value.tenant=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.tenant")},null,8,["value","mode","disabled","label"])])]),c,(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(I,{value:a.value.username,"onUpdate:value":t[2]||(t[2]=e=>a.value.username=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.username"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",h,[(0,o.createVNode)(I,{value:a.value.password,"onUpdate:value":t[3]||(t[3]=e=>a.value.password=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.password"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),b,(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",N,[(0,o.createVNode)(I,{value:a.value.ca_cert,"onUpdate:value":t[4]||(t[4]=e=>a.value.ca_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.caCert"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",k,[(0,o.createVNode)(I,{value:a.value.cert,"onUpdate:value":t[5]||(t[5]=e=>a.value.cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.cert"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",E,[(0,o.createVNode)(I,{value:a.value.key,"onUpdate:value":t[6]||(t[6]=e=>a.value.key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.key"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),w,(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.labels")),1)])]),(0,o.createElementVNode)("div",B,[(0,o.createElementVNode)("div",A,[(0,o.createVNode)(R,{value:a.value.configure_kubernetes_labels,"onUpdate:value":t[7]||(t[7]=e=>a.value.configure_kubernetes_labels=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.configureKubernetesLabels")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",x,[(0,o.createElementVNode)("div",_,[(0,o.createVNode)(R,{value:a.value.extract_kubernetes_labels,"onUpdate:value":t[8]||(t[8]=e=>a.value.extract_kubernetes_labels=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.extractKubernetesLabels")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("div",U,[(0,o.createVNode)(R,{value:a.value.drop_single_key,"onUpdate:value":t[9]||(t[9]=e=>a.value.drop_single_key=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.dropSingleKey")},null,8,["value","mode","disabled","label"])])])])}var L=a(53512),T=a(8524),O=a(3276),I={components:{Checkbox:O.S,LabeledInput:L.o,SecretSelector:T.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{}}},R=a(47433);const $=(0,R.A)(I,[["render",M]]);var P=$},66991:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),d={class:"row"},c={class:"col span-6"},u={class:"col span-6"};function p(e,t,a,p,m,v){const h=(0,o.resolveComponent)("LabeledInput"),b=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(h,{value:a.value.base_uri,"onUpdate:value":t[0]||(t[0]=e=>a.value.base_uri=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.newrelic.baseURI")},null,8,["value","mode","disabled","label"])])]),i,(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createVNode)(b,{value:a.value.api_key,"onUpdate:value":t[1]||(t[1]=e=>a.value.api_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.newrelic.apiKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",u,[(0,o.createVNode)(b,{value:a.value.license_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.license_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.newrelic.licenseKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var m=a(53512),v=a(8524),h={components:{LabeledInput:m.o,SecretSelector:v.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},b=a(47433);const g=(0,b.A)(h,[["render",p]]);var f=g},17617:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var o=a(9274);const l={class:"opensearch"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-2"},d={class:"col span-8"},c={class:"col span-2"},u={class:"row"},p={class:"col span-6"},m=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f={class:"col span-6"},y=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),N={class:"row"},k={class:"col span-6"},V={class:"row mb-10"},E={class:"col span-6"},w={class:"col span-6"},C={class:"row"},S={class:"col span-6"},B={class:"col span-6"},A={class:"row mb-10"},x={class:"col span-6 vertically-center"};function _(e,t,a,_,D,U){const M=(0,o.resolveComponent)("LabeledSelect"),L=(0,o.resolveComponent)("LabeledInput"),T=(0,o.resolveComponent)("SecretSelector"),O=(0,o.resolveComponent)("Checkbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(M,{value:a.value.scheme,"onUpdate:value":t[0]||(t[0]=e=>a.value.scheme=e),mode:a.mode,disabled:a.disabled,class:"scheme",options:D.protocolOptions,label:e.t("logging.elasticsearch.scheme")},null,8,["value","mode","disabled","options","label"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(L,{value:a.value.host,"onUpdate:value":t[1]||(t[1]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.elasticsearch.host")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(L,{value:U.port,"onUpdate:value":t[2]||(t[2]=e=>U.port=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,class:"port",type:"number",min:"1",max:"65535",label:e.t("logging.elasticsearch.port")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createVNode)(L,{value:a.value.index_name,"onUpdate:value":t[3]||(t[3]=e=>a.value.index_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.indexName")},null,8,["value","mode","disabled","label"])])]),m,(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(L,{value:a.value.user,"onUpdate:value":t[4]||(t[4]=e=>a.value.user=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.user")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",f,[(0,o.createVNode)(T,{value:a.value.password,"onUpdate:value":t[5]||(t[5]=e=>a.value.password=e),"secret-name-label":e.t("logging.elasticsearch.password"),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"show-key-selector":!0},null,8,["value","secret-name-label","mode","namespace","disabled"])])]),y,(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",E,[(0,o.createVNode)(T,{value:a.value.ca_file,"onUpdate:value":t[6]||(t[6]=e=>a.value.ca_file=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.caFile.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",w,[(0,o.createVNode)(T,{value:a.value.client_cert,"onUpdate:value":t[7]||(t[7]=e=>a.value.client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",S,[(0,o.createVNode)(T,{value:a.value.client_key,"onUpdate:value":t[8]||(t[8]=e=>a.value.client_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKey.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",B,[(0,o.createVNode)(T,{value:a.value.client_key_pass,"onUpdate:value":t[9]||(t[9]=e=>a.value.client_key_pass=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKeyPass"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",A,[(0,o.createElementVNode)("div",x,[(0,o.createVNode)(O,{value:a.value.ssl_verify,"onUpdate:value":t[10]||(t[10]=e=>a.value.ssl_verify=e),label:e.t("logging.elasticsearch.verifySsl"),disabled:a.disabled,mode:a.mode},null,8,["value","label","disabled","mode"]),(0,o.createVNode)(O,{value:a.value.suppress_type_name,"onUpdate:value":t[11]||(t[11]=e=>a.value.suppress_type_name=e),label:e.t("logging.elasticsearch.suppressTypeName.label"),tooltip:e.t("logging.elasticsearch.suppressTypeName.openSearchTips"),disabled:a.disabled,mode:a.mode},null,8,["value","label","tooltip","disabled","mode"])])])])}var D=a(53512),U=a(70052),M=a(8524),L=a(3276),T=a(75040),O=a(89914),I={components:{LabeledInput:D.o,LabeledSelect:U.A,SecretSelector:M.A,Checkbox:L.S},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return this.mode===T.YQ&&("undefined"===typeof this.value.ssl_verify&&(this.value["ssl_verify"]=!0),"undefined"===typeof this.value.ssl_version&&(this.value["ssl_version"]=O.sslVersions[0]),"undefined"===typeof this.value.suppress_type_name&&(this.value["suppress_type_name"]=!0)),{protocolOptions:O.protocol,sslVersions:O.sslVersions}},computed:{port:{get(){return this.value.port},set(e){(0,O.updatePort)((e=>this.value["port"]=e),e)}}}},R=(a(155),a(47433));const $=(0,R.A)(I,[["render",_]]);var P=$},3871:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var o=a(9274);const l={class:"opensearch"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-8"},d={class:"col span-2"},c={class:"row"},u={class:"col span-6"},p={class:"col span-6"},m=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),v={class:"row"},h={class:"col span-6"},b={class:"row mb-10"},g={class:"col span-6"},f=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),y={class:"row"},N={class:"col span-6"},k={class:"row"},V={class:"col span-6"};function E(e,t,a,E,w,C){const S=(0,o.resolveComponent)("LabeledInput"),B=(0,o.resolveComponent)("LabeledSelect"),A=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(S,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.redis.host")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(S,{value:C.port,"onUpdate:value":t[1]||(t[1]=e=>C.port=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,class:"port",type:"number",min:"1",max:"65535",label:e.t("logging.redis.port")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(S,{value:a.value.db_number,"onUpdate:value":t[2]||(t[2]=e=>a.value.db_number=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,type:"number",label:e.t("logging.redis.dbNumber")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(S,{value:a.value.ttl,"onUpdate:value":t[3]||(t[3]=e=>a.value.ttl=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,type:"number",label:e.t("logging.redis.ttl")},null,8,["value","mode","disabled","label"])])]),m,(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.redis.format.title")),1)])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(B,{value:a.value.format.type,"onUpdate:value":t[4]||(t[4]=e=>a.value.format.type=e),options:w.formatTypeOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.redis.format.type")},null,8,["value","options","mode","disabled","label"])])]),f,(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("div",V,[(0,o.createVNode)(A,{value:a.value.password,"onUpdate:value":t[5]||(t[5]=e=>a.value.password=e),"secret-name-label":e.t("logging.elasticsearch.password"),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"show-key-selector":!0},null,8,["value","secret-name-label","mode","namespace","disabled"])])])])}var w=a(53512),C=a(8524),S=a(89914),B=a(70052),A={components:{LabeledInput:w.o,LabeledSelect:B.A,SecretSelector:C.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){const e=["json","out_file","ltsv","csv","msgpack","hash","single_value"];return this.value["format"]=this.value.format||{type:e[0]},{formatTypeOptions:e}},computed:{port:{get(){return this.value.port},set(e){(0,S.updatePort)((e=>this.value.port=e),e)}}}},x=(a(2617),a(47433));const _=(0,x.A)(A,[["render",E]]);var D=_},74401:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-6e7bf91d"),e=e(),(0,o.popScopeId)(),e),s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row"},u={class:"col span-6"},p={class:"col span-6 overwrite"},m=l((()=>(0,o.createElementVNode)("div",{class:"spacer"},null,-1))),v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f={class:"col span-6"};function y(e,t,a,l,y,N){const k=(0,o.resolveComponent)("LabeledInput"),V=(0,o.resolveComponent)("Checkbox"),E=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(k,{value:a.value.s3_endpoint,"onUpdate:value":t[0]||(t[0]=e=>a.value.s3_endpoint=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.endpoint")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(k,{value:a.value.s3_bucket,"onUpdate:value":t[1]||(t[1]=e=>a.value.s3_bucket=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.bucket")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(k,{value:a.value.path,"onUpdate:value":t[2]||(t[2]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.path")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(V,{value:N.overwrite,"onUpdate:value":t[3]||(t[3]=e=>N.overwrite=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.overwriteExistingPath")},null,8,["value","mode","disabled","label"])])]),m,(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(E,{value:a.value.aws_key_id,"onUpdate:value":t[4]||(t[4]=e=>a.value.aws_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.s3.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",f,[(0,o.createVNode)(E,{value:a.value.aws_sec_key,"onUpdate:value":t[5]||(t[5]=e=>a.value.aws_sec_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.s3.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var N=a(3276),k=a(53512),V=a(8524),E={components:{Checkbox:N.S,LabeledInput:k.o,SecretSelector:V.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},computed:{overwrite:{get(){return"true"===this.value.overwrite},set(e){this.value["overwrite"]=e.toString()}}}},w=(a(97641),a(47433));const C=(0,w.A)(E,[["render",y],["__scopeId","data-v-6e7bf91d"]]);var S=C},11448:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var o=a(9274);const l={class:"splunk"},s={class:"row mb-10"},r={class:"col span-2"},n={class:"col span-8"},i={class:"col span-2"},d={class:"row"},c={class:"col span-6"},u={class:"col span-6"},p=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),m={class:"row"},v={class:"col span-6"},h=(0,o.createElementVNode)("div",{class:"spacer"},null,-1),b={class:"row mb-10"},g={class:"col span-6"},f={class:"row mb-10"},y={class:"col span-6"},N={class:"col span-6"},k={class:"row"},V={class:"col span-6"},E={class:"col span-6"};function w(e,t,a,w,C,S){const B=(0,o.resolveComponent)("LabeledSelect"),A=(0,o.resolveComponent)("LabeledInput"),x=(0,o.resolveComponent)("SecretSelector"),_=(0,o.resolveComponent)("Checkbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(B,{value:a.value.protocol,"onUpdate:value":t[0]||(t[0]=e=>a.value.protocol=e),mode:a.mode,disabled:a.disabled,options:C.protocolOptions,label:e.t("logging.splunk.protocol")},null,8,["value","mode","disabled","options","label"])]),(0,o.createElementVNode)("div",n,[(0,o.createVNode)(A,{value:a.value.hec_host,"onUpdate:value":t[1]||(t[1]=e=>a.value.hec_host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.host")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(A,{value:S.port,"onUpdate:value":t[2]||(t[2]=e=>S.port=e),mode:a.mode,disabled:a.disabled,type:"number",min:"1",max:"65535",label:e.t("logging.splunk.port")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",c,[(0,o.createVNode)(A,{value:a.value.index,"onUpdate:value":t[3]||(t[3]=e=>a.value.index=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.indexName")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",u,[(0,o.createVNode)(A,{value:a.value.source,"onUpdate:value":t[4]||(t[4]=e=>a.value.source=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.source")},null,8,["value","mode","disabled","label"])])])]),p,(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.access")),1),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(x,{value:a.value.hec_token,"onUpdate:value":t[5]||(t[5]=e=>a.value.hec_token=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.token"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])]),h,(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[(0,o.createVNode)(_,{value:a.value.insecure_ssl,"onUpdate:value":t[6]||(t[6]=e=>a.value.insecure_ssl=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.insecureSsl")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",y,[(0,o.createVNode)(x,{value:a.value.ca_file,"onUpdate:value":t[7]||(t[7]=e=>a.value.ca_file=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.caFile"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",N,[(0,o.createVNode)(x,{value:a.value.ca_path,"onUpdate:value":t[8]||(t[8]=e=>a.value.ca_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.caPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("div",V,[(0,o.createVNode)(x,{value:a.value.client_cert,"onUpdate:value":t[9]||(t[9]=e=>a.value.client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.clientCert"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,o.createElementVNode)("div",E,[(0,o.createVNode)(x,{value:a.value.client_key,"onUpdate:value":t[10]||(t[10]=e=>a.value.client_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.clientKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var C=a(8524),S=a(53512),B=a(70052),A=a(3276),x=a(89914),_={components:{Checkbox:A.S,LabeledInput:S.o,LabeledSelect:B.A,SecretSelector:C.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{protocolOptions:x.protocol}},computed:{port:{get(){return this.value.hec_port},set(e){(0,x.updatePort)((e=>this.value["hec_port"]=e),e)}}}},D=a(47433);const U=(0,D.A)(_,[["render",w]]);var M=U},77630:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var o=a(9274);const l={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,o.resolveComponent)("LabeledInput"),m=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(p,{value:a.value.source_name,"onUpdate:value":t[0]||(t[0]=e=>a.value.source_name=e),class:"source-name",mode:a.mode,disabled:a.disabled,label:e.t("logging.sumologic.sourceName")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(m,{value:a.value.endpoint,"onUpdate:value":t[1]||(t[1]=e=>a.value.endpoint=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.sumologic.endpoint"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var c=a(53512),u=a(8524),p={components:{LabeledInput:c.o,SecretSelector:u.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},m=a(47433);const v=(0,m.A)(p,[["render",d]]);var h=v},86914:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Q}});var o=a(9274);const l=e=>((0,o.pushScopeId)("data-v-012737f8"),e=e(),(0,o.popScopeId)(),e),s={class:"elasticsearch"},r={class:"row"},n={class:"col span-6"},i={class:"row"},d={class:"col span-8"},c={class:"col span-4"},u=l((()=>(0,o.createElementVNode)("div",{class:"spacer"},null,-1))),p={class:"row"},m={class:"col span-6"},v={class:"row mb-10"},h={class:"col span-6"},b={class:"col span-6 insecure"},g={class:"row mb-10"},f={class:"col span-6"},y=l((()=>(0,o.createElementVNode)("div",{class:"spacer"},null,-1))),N={class:"row"},k={class:"col span-6"},V={class:"row mb-10"},E={class:"col span-6"},w=l((()=>(0,o.createElementVNode)("div",{class:"spacer"},null,-1))),C={class:"row"},S={class:"col span-6"},B={class:"row mb-20"},A={class:"col span-6"},x={class:"row mb-10"},_={class:"col span-6"},D={class:"col span-6"},U={class:"row mb-20"},M={class:"col span-6"},L={class:"row mb-20"},T={class:"col span-6"},O={class:"row mb-10"},I={class:"col span-6"},R={class:"col span-6"},$={class:"row mb-10"},P={class:"col span-6"};function q(e,t,a,l,q,F){const G=(0,o.resolveComponent)("LabeledInput"),K=(0,o.resolveComponent)("LabeledSelect"),j=(0,o.resolveComponent)("Checkbox"),H=(0,o.resolveComponent)("SecretSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(G,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.host")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(G,{value:F.port,"onUpdate:value":t[1]||(t[1]=e=>F.port=e),mode:a.mode,disabled:a.disabled,class:"port",type:"number",label:e.t("logging.syslog.port")},null,8,["value","mode","disabled","label"])])]),u,(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.createVNode)(K,{value:a.value.transport,"onUpdate:value":t[2]||(t[2]=e=>a.value.transport=e),options:q.transportOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.transport")},null,8,["value","options","mode","disabled","label"])]),(0,o.createElementVNode)("div",b,[(0,o.createVNode)(j,{value:a.value.insecure,"onUpdate:value":t[3]||(t[3]=e=>a.value.insecure=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.insecure")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("div",f,[(0,o.createVNode)(H,{value:a.value.trusted_ca_path,"onUpdate:value":t[4]||(t[4]=e=>a.value.trusted_ca_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.syslog.trustedCaPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),y,(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.syslog.format.title")),1)])]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",E,[(0,o.createVNode)(K,{value:a.value.format.type,"onUpdate:value":t[5]||(t[5]=e=>a.value.format.type=e),options:q.formatTypeOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.format.type")},null,8,["value","options","mode","disabled","label"])])]),w,(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("logging.syslog.buffer.title")),1)])]),(0,o.createElementVNode)("div",B,[(0,o.createElementVNode)("div",A,[(0,o.createVNode)(G,{value:a.value.buffer.tags,"onUpdate:value":t[6]||(t[6]=e=>a.value.buffer.tags=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.tags")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",x,[(0,o.createElementVNode)("div",_,[(0,o.createVNode)(G,{value:a.value.buffer.chunk_limit_size,"onUpdate:value":t[7]||(t[7]=e=>a.value.buffer.chunk_limit_size=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.chunkLimitSize")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",D,[(0,o.createVNode)(G,{value:F.chunkLimitRecords,"onUpdate:value":t[8]||(t[8]=e=>F.chunkLimitRecords=e),mode:a.mode,disabled:a.disabled,type:"number",label:e.t("logging.syslog.buffer.chunkLimitRecords")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",U,[(0,o.createElementVNode)("div",M,[(0,o.createVNode)(G,{value:a.value.buffer.total_limit_size,"onUpdate:value":t[9]||(t[9]=e=>a.value.buffer.total_limit_size=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.totalLimitSize")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",L,[(0,o.createElementVNode)("div",T,[(0,o.createVNode)(G,{value:a.value.buffer.flush_interval,"onUpdate:value":t[10]||(t[10]=e=>a.value.buffer.flush_interval=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.flushInterval")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",O,[(0,o.createElementVNode)("div",I,[(0,o.createVNode)(G,{value:a.value.buffer.timekey,"onUpdate:value":t[11]||(t[11]=e=>a.value.buffer.timekey=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.timekey")},null,8,["value","mode","disabled","label"])]),(0,o.createElementVNode)("div",R,[(0,o.createVNode)(G,{value:a.value.buffer.timekey_wait,"onUpdate:value":t[12]||(t[12]=e=>a.value.buffer.timekey_wait=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.timekeyWait")},null,8,["value","mode","disabled","label"])])]),(0,o.createElementVNode)("div",$,[(0,o.createElementVNode)("div",P,[(0,o.createVNode)(j,{value:a.value.buffer.timekey_use_utc,"onUpdate:value":t[13]||(t[13]=e=>a.value.buffer.timekey_use_utc=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.timekeyUseUTC")},null,8,["value","mode","disabled","label"])])])])}var F=a(3276),G=a(53512),K=a(70052),j=a(8524),H={components:{Checkbox:F.S,LabeledInput:G.o,LabeledSelect:K.A,SecretSelector:j.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){const e=["json","out_file","ltsv","csv","msgpack","hash","single_value"],t=["tls","udp","tcp"];return this.value["format"]=this.value.format||{type:e[0]},this.value["buffer"]=this.value.buffer||{},this.value["transport"]=this.value.transport||t[0],{formatTypeOptions:e,transportOptions:t}},computed:{port:{get(){return this.value.port},set(e){this.value["port"]=Number.parseInt(e)}},chunkLimitRecords:{get(){return this.value.buffer.chunk_limit_records},set(e){this.value.buffer["chunk_limit_records"]=Number.parseInt(e)}}}},J=(a(95478),a(47433));const z=(0,J.A)(H,[["render",q],["__scopeId","data-v-012737f8"]]);var Q=z},10907:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(9274);const l={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(c,{value:i.username,"onUpdate:value":t[0]||(t[0]=e=>i.username=e),required:"",label:e.t("secret.basic.username"),mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(c,{value:i.password,"onUpdate:value":t[1]||(t[1]=e=>i.password=e),label:e.t("secret.basic.password"),mode:a.mode,type:"password"},null,8,["value","label","mode"])])])])}var i=a(53512),d={components:{LabeledInput:i.o},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=this.value.decodedData.username||"",t=this.value.decodedData.password||"";return{username:e,password:t}},watch:{username:"update",password:"update"},methods:{update(){this.value.setData("username",this.username),this.value.setData("password",this.password)}}},c=a(47433);const u=(0,c.A)(d,[["render",n]]);var p=u},28725:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var o=a(9274);function l(e,t,a,l,s,r){const n=(0,o.resolveComponent)("KeyValue");return(0,o.openBlock)(),(0,o.createBlock)(n,{key:"data",value:a.value.data,"onUpdate:value":t[0]||(t[0]=e=>a.value.data=e),mode:a.mode,"initial-empty-row":!0,"handle-base64":!0,"value-trim":!1,"add-allowed":!0,"read-allowed":!0,"value-concealed":r.isView&&a.hideSensitiveData,"file-modifier":r.fileModifier,"parse-lines-from-file":!0,"read-icon":"","add-icon":""},null,8,["value","mode","value-concealed","file-modifier"])}var s=a(74457),r=a(75040);const n=/^[-._a-zA-Z0-9]*$/;var i={components:{KeyValue:s.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},hideSensitiveData:{type:Boolean,default:!0}},computed:{isView(){return this.mode===r.nW}},methods:{fileModifier(e,t){return n.test(e)||(e=e.split("").map((e=>n.test(e)?e:"_")).join("")),{name:e,value:t}}}},d=a(47433);const c=(0,d.A)(i,[["render",l]]);var u=c},9711:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var o=a(9274);const l={class:"filled-height"},s={key:0,class:"row"},r={class:"col span-3"},n={class:"col span-3"},i=(0,o.createElementVNode)("div",{class:"spacer"},null,-1);function d(e,t,a,d,c,u){const p=(0,o.resolveComponent)("Loading"),m=(0,o.resolveComponent)("NameNsDescription"),v=(0,o.resolveComponent)("LabeledSelect"),h=(0,o.resolveComponent)("LabeledInput"),b=(0,o.resolveComponent)("Tab"),g=(0,o.resolveComponent)("Labels"),f=(0,o.resolveComponent)("Tabbed"),y=(0,o.resolveComponent)("CruResource"),N=(0,o.resolveDirective)("focus");return(0,o.openBlock)(),(0,o.createElementBlock)("form",l,[e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0})):((0,o.openBlock)(),(0,o.createBlock)(y,{key:1,mode:e.mode,"validation-passed":!0,"selected-subtype":e.value._type,resource:e.value,errors:e.errors,"done-route":u.doneRoute,subtypes:u.secretSubTypes,onFinish:u.saveSecret,onSelectType:u.selectType,onError:t[4]||(t[4]=t=>e.errors=t)},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{value:e.value,mode:e.mode,namespaced:!c.isCloud,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["value","mode","namespaced"]),u.isCustomSecretCreate?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(v,{value:c.secretType,"onUpdate:value":[t[1]||(t[1]=e=>c.secretType=e),u.selectCustomType],options:c.secretTypes,searchable:!1,mode:e.mode,multiple:!1,reduce:e=>e.value,"label-key":"secret.type",required:""},null,8,["value","options","mode","reduce","onUpdate:value"])]),(0,o.createElementVNode)("div",n,[u.showCustomSecretType?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(h,{key:0,ref:"customType",value:e.value._type,"onUpdate:value":t[2]||(t[2]=t=>e.value._type=t),"label-key":"secret.customType",mode:e.mode,required:""},null,8,["value","mode"])),[[N]]):(0,o.createCommentVNode)("",!0)])])):(0,o.createCommentVNode)("",!0),i,c.isCloud?((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(u.cloudComponent),{key:1,ref:"cloudComponent","driver-name":u.driverName,value:e.value,mode:e.mode,"hide-sensitive-data":u.hideSensitiveData},null,8,["driver-name","value","mode","hide-sensitive-data"])):((0,o.openBlock)(),(0,o.createBlock)(f,{key:2,"side-tabs":!0,"default-tab":"data"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(b,{name:"data",label:u.dataLabel,weight:99},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(u.dataComponent),{value:e.value,mode:e.mode,"hide-sensitive-data":u.hideSensitiveData},null,8,["value","mode","hide-sensitive-data"]))])),_:1},8,["label"]),(0,o.createVNode)(b,{name:"labels","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{value:e.value,mode:e.mode,"onUpdate:value":t[3]||(t[3]=t=>e.$emit("input",t))},null,8,["value","mode"])])),_:1})])),_:1}))])),_:1},8,["mode","selected-subtype","resource","errors","done-route","subtypes","onFinish","onSelectType"]))])}var c=a(59433),u=a(4284),p=a(81357),m=a(83504),v=a(53512),h=a(70052),b=a(66210),g=a(75040),f=a(82888),y=a(35244),N=a(12327),k=a(58825),V=a(97538),E=a(71445),w=a(24759),C=a(66382),S=a(49300),B=a(98258),A=a(78359);const x=[c.J.OPAQUE,c.J.DOCKER_JSON,c.J.TLS,c.J.SSH,c.J.BASIC];var _={name:"CruSecret",emits:["set-subtype","input"],components:{LabeledInput:v.o,LabeledSelect:h.A,Loading:f.A,NameNsDescription:m.A,CruResource:b.A,Tabbed:y.A,Tab:N.A,Labels:k.A,SelectIconGrid:S.A},mixins:[p.A],async fetch(){this.isCloud&&(this.nodeDrivers=await this.$store.dispatch("management/findAll",{type:u.Mc.NODE_DRIVER}))},data(){const e=this.$route.query[g.Sd]===g.Qp,t=this.mode===g.G5&&this.value._type===c.J.CLOUD_CREDENTIAL,a=this.realMode===g.dT&&this.liveValue._type===c.J.CLOUD_CREDENTIAL,o=e||t||a;e&&(this.value.metadata.namespace=u.eo,this.value.metadata["name"]="",this.value["data"]={});const l=[{label:"Custom",value:"custom"},{label:"divider",disabled:!0,kind:"divider"}];return Object.values(c.J).forEach((e=>{l.push({label:e,value:e})})),{isCloud:o,nodeDrivers:null,secretTypes:l,secretType:this.value._type,initialSecretType:this.value._type}},computed:{isCustomSecretCreate(){return this.mode===g.YQ&&"custom"===this.$route.query.type},showCustomSecretType(){return"custom"===this.secretType},typeKey(){if(this.isCloud)return"cloud";switch(this.value._type){case c.J.TLS:return"tls";case c.J.BASIC:return"basic";case c.J.DOCKER_JSON:return"registry";case c.J.SSH:return"ssh"}return"generic"},dataComponent(){return a(48254)(`./${this.typeKey}`).default},driverName(){const e=this.value.metadata?.annotations?.[E.qt.CREDENTIAL_DRIVER];return e},cloudComponent(){return this.$store.getters["type-map/hasCustomCloudCredentialComponent"](this.driverName)?this.$store.getters["type-map/importCloudCredential"](this.driverName):this.$store.getters["type-map/importCloudCredential"]("generic")},secretSubTypes(){const e=[];if(this.isCloud){const o=(0,w.sb)(this.nodeDrivers.filter((e=>e.spec.active)).map((e=>e.spec.displayName||e.id)).map((e=>this.$store.getters["plugins/credentialDriverFor"](e))));for(const l of o){let o,s;try{o=a(53588)(`./${l}.svg`)}catch(t){o=null,s=this.initialDisplayFor(l)}e.push({id:l,label:this.typeDisplay(E.qt.CREDENTIAL_DRIVER,l),bannerImage:o,bannerAbbrv:s})}}else{for(const t of x)e.push({id:t,label:this.typeDisplay(t),bannerAbbrv:this.initialDisplayFor(t),description:this.t(`secret.typeDescriptions.'${t}'.description`),docLink:this.t(`secret.typeDescriptions.'${t}'.docLink`)});e.push({id:"custom",label:this.t("secret.customType"),bannerAbbrv:this.initialDisplayFor("custom"),description:this.t("secret.typeDescriptions.custom.description")})}return(0,B.Ul)(e,"label")},namespaces(){return this.$store.getters["cluster/all"](u.CU).map((e=>({label:e.nameDisplay,value:e.id})))},hideSensitiveData(){return this.$store.getters["prefs/get"](V.qv)},dataLabel(){switch(this.value._type){case c.J.TLS:return this.t("secret.certificate.certificate");case c.J.SSH:return this.t("secret.ssh.keys");case c.J.BASIC:return this.t("secret.authentication");default:return this.t("secret.data")}},doneRoute(){return this.$store.getters["currentProduct"].name===C.o?"c-cluster-manager-secret":"c-cluster-product-resource"}},methods:{async saveSecret(e){if(this.errors&&(0,w.IU)(this.errors),"function"===typeof this.$refs.cloudComponent?.test)try{const t=await this.$refs.cloudComponent.test();if(!t||t?.errors)return this.errors=t?.errors?t.errors:["Authentication test failed, please check your credentials"],void e(!1)}catch(t){return this.errors=[t],void e(!1)}return this.save(e)},selectType(e){let t;this.isCloud&&(e===c.J.CLOUD_CREDENTIAL?t=this.driverName:(t=e,e=c.J.CLOUD_CREDENTIAL),this.mode===g.YQ&&this.value.setAnnotation(E.qt.CREDENTIAL_DRIVER,t)),this.value["_type"]=e,this.$emit("set-subtype",this.typeDisplay(e,t)),this.secretType=e,this.mode===g.YQ&&"custom"===e&&(this.value["_type"]="")},typeDisplay(e,t){if(e===E.qt.CREDENTIAL_DRIVER)return this.$store.getters["i18n/withFallback"](`cluster.provider."${t}"`,null,t);{const t=e.replace(/^kubernetes.io\//,"");return this.$store.getters["i18n/withFallback"](`secret.types."${e}"`,null,t)}},initialDisplayFor(e){const t=((0,A.TF)(this.typeDisplay(e)||"").replace(/[^A-Z]/g,"")||e).substr(0,3);return this.$store.getters["i18n/withFallback"](`secret.initials."${e}"`,null,t)},selectCustomType(e){"custom"!==e&&(this.value["_type"]=e)}}},D=a(47433);const U=(0,D.A)(_,[["render",d]]);var M=U},93515:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var o=a(9274);const l={class:"row mb-10"},s={class:"col span-12"},r={key:0,class:"row mb-20"},n={class:"row mb-20"},i={class:"col span-6"},d={class:"col span-6"};function c(e,t,a,c,u,p){const m=(0,o.resolveComponent)("RadioGroup"),v=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(m,{value:u.registryProvider,"onUpdate:value":t[0]||(t[0]=e=>u.registryProvider=e),name:"registryProvider",mode:a.mode,options:p.registryAddresses},null,8,["value","mode","options"])])]),p.needsDockerServer?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(v,{value:u.registryUrl,"onUpdate:value":t[1]||(t[1]=e=>u.registryUrl=e),required:"",label:e.t("secret.registry.domainName"),placeholder:"e.g. index.docker.io",mode:a.mode},null,8,["value","label","mode"])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(v,{value:u.username,"onUpdate:value":t[2]||(t[2]=e=>u.username=e),label:e.t("secret.registry.username"),mode:a.mode},null,8,["value","label","mode"])]),(0,o.createElementVNode)("div",d,[(0,o.createVNode)(v,{value:u.password,"onUpdate:value":t[3]||(t[3]=e=>u.password=e),label:e.t("secret.registry.password"),mode:a.mode,type:"password"},null,8,["value","label","mode"])])])])}var u=a(53512),p=a(83328),m={components:{LabeledInput:u.o,RadioGroup:p.z},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){let e,t="Custom";try{const t=JSON.parse(this.value.decodedData[".dockerconfigjson"]);e=t.auths}catch(s){}e=e||{};const a=Object.keys(e)[0]||"";"index.docker.io/v1/"===a?t="DockerHub":"quay.io"===a?t="Quay.io":a.includes("artifactory")&&(t="Artifactory");const o=e[a]?.username||"",l=e[a]?.password||"";return{registryProvider:t,username:o,password:l,registryUrl:a}},computed:{registryAddresses(){return["Custom","DockerHub","Quay.io","Artifactory"]},needsDockerServer(){return"Artifactory"===this.registryProvider||"Custom"===this.registryProvider},dockerconfigjson(){let e="DockerHub"===this.registryProvider?"index.docker.io/v1/":"quay.io";if(this.needsDockerServer&&(e=this.registryUrl),e){const t={auths:{[e]:{username:this.username,password:this.password}}},a=JSON.stringify(t);return a}return null}},watch:{registryProvider:"update",registryUrl:"update",username:"update",password:"update"},methods:{update(){this.value.setData(".dockerconfigjson",this.dockerconfigjson)}}},v=a(47433);const h=(0,v.A)(m,[["render",c]]);var b=h},13337:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var o=a(9274);const l={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("FileSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(c,{value:i.username,"onUpdate:value":t[0]||(t[0]=e=>i.username=e),type:"multiline",label:e.t("secret.ssh.public"),mode:a.mode,required:"",placeholder:e.t("secret.ssh.publicPlaceholder")},null,8,["value","label","mode","placeholder"]),(0,o.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onUsernameSelected},null,8,["label","onSelected"])]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(c,{value:i.password,"onUpdate:value":t[1]||(t[1]=e=>i.password=e),type:"multiline",label:e.t("secret.ssh.private"),mode:a.mode,required:"",placeholder:e.t("secret.ssh.privatePlaceholder")},null,8,["value","label","mode","placeholder"]),(0,o.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onPasswordSelected},null,8,["label","onSelected"])])])])}var i=a(53512),d=a(58782),c={components:{LabeledInput:i.o,FileSelector:d.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=this.value.decodedData["ssh-publickey"]||"",t=this.value.decodedData["ssh-privatekey"]||"";return{username:e,password:t}},watch:{username:"update",password:"update"},methods:{onUsernameSelected:(0,d.B)("username"),onPasswordSelected:(0,d.B)("password"),update(){this.value.setData("ssh-publickey",this.username),this.value.setData("ssh-privatekey",this.password)}}},u=a(47433);const p=(0,u.A)(c,[["render",n]]);var m=p},99985:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var o=a(9274);const l={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("FileSelector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(c,{value:i.key,"onUpdate:value":t[0]||(t[0]=e=>i.key=e),type:"multiline",label:e.t("secret.certificate.privateKey"),mode:a.mode,placeholder:e.t("secret.certificate.privateKeyPlaceholder")},null,8,["value","label","mode","placeholder"]),(0,o.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onKeySelected},null,8,["label","onSelected"])]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(c,{value:i.crt,"onUpdate:value":t[1]||(t[1]=e=>i.crt=e),required:"",type:"multiline",label:e.t("secret.certificate.certificate"),mode:a.mode,placeholder:e.t("secret.certificate.certificatePlaceholder")},null,8,["value","label","mode","placeholder"]),(0,o.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onCrtSelected},null,8,["label","onSelected"])])])])}var i=a(75040),d=a(53512),c=a(58782),u={components:{LabeledInput:d.o,FileSelector:c.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=this.value.decodedData["tls.key"]||"",t=this.mode===i.G5?"":e,a=this.value.decodedData["tls.crt"]||"";return{originalKey:e,key:t,crt:a}},watch:{key:"update",crt:"update"},methods:{onKeySelected:(0,c.B)("key"),onCrtSelected:(0,c.B)("crt"),update(){let e;e=this.mode!==i.G5||this.key.length?this.key:this.originalKey,this.value.setData("tls.crt",this.crt),this.value.setData("tls.key",e)}}},p=a(47433);const m=(0,p.A)(u,[["render",n]]);var v=m},84763:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"h3{margin-top:10px}",""]),t["default"]=n},58246:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".row{margin-bottom:5px}.vertically-center{padding:20px 0}",""]),t["default"]=n},52674:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".row{margin-bottom:5px}.vertically-center{padding:20px 0}",""]),t["default"]=n},12166:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".row{margin-bottom:5px}",""]),t["default"]=n},5531:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".tag[data-v-6b2f75f1]{border:1px solid var(--primary);border-radius:var(--border-radius);box-sizing:border-box;margin:0;padding:0;font-size:14px;line-height:20px;list-style:none;display:inline-block;height:auto;margin-inline-end:8px;padding-inline:7px;white-space:nowrap;background:var(--accent-btn);opacity:1;text-align:start;color:var(--link);margin-bottom:10px;margin-right:8px;padding-top:8px;padding-bottom:8px}.tag i[data-v-6b2f75f1],.tag.add[data-v-6b2f75f1]{cursor:pointer}.tag.add[data-v-6b2f75f1]{border-style:dashed}.tag.add[data-v-6b2f75f1],.tag.input[data-v-6b2f75f1]{background:var(--body-bg)}.tag.input[data-v-6b2f75f1]{border:none;border-radius:none;padding:0}",""]),t["default"]=n},48952:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-034d9714]  .radio-group{display:flex}[data-v-034d9714]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},18380:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"p[data-v-62a46348]{display:flex;align-items:center}.icon-h-question[data-v-62a46348]{font-size:24px}.tip[data-v-62a46348]{font-size:15px}.goCA[data-v-62a46348]{margin:0 3px}",""]),t["default"]=n},44309:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".box[data-v-d281fc5e]{position:relative;padding-top:40px}.remove[data-v-d281fc5e]{position:absolute;top:10px;right:10px;padding:0}",""]),t["default"]=n},30084:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".box[data-v-34b9f214]{position:relative;padding-top:40px}.remove[data-v-34b9f214]{position:absolute;top:10px;right:10px;padding:0}",""]),t["default"]=n},95083:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".chooseFile[data-v-27a09764]{display:flex;align-items:center}",""]),t["default"]=n},620:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-11b4ae46]  .radio-group{display:flex}[data-v-11b4ae46]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},86373:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".restart-modal[data-v-574c27ab]{z-index:45}.prompt-restart[data-v-574c27ab]{margin:0}.bottom[data-v-574c27ab]{display:flex;flex-direction:column;flex:1}.bottom .banner[data-v-574c27ab]{margin-top:0}.bottom .buttons[data-v-574c27ab]{display:flex;justify-content:flex-end;width:100%}",""]),t["default"]=n},99334:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-24a677c4]  .radio-group{display:flex}[data-v-24a677c4]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},57165:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-4b980a18]  .radio-group{display:flex}[data-v-4b980a18]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},50745:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-14fad698]  .radio-group{display:flex}[data-v-14fad698]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},1814:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-bdc3ab06]  .radio-group{display:flex}[data-v-bdc3ab06]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},96370:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-4ac8f18c]  .radio-group{display:flex}[data-v-4ac8f18c]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},12029:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-077b6bf4]  .radio-group{display:flex}[data-v-077b6bf4]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},46453:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-b9cb7bba]  .radio-group{display:flex}[data-v-b9cb7bba]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},42623:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-b7366024]  .radio-group{display:flex}[data-v-b7366024]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},96716:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-65b4127d]  .yaml-editor{flex:1;min-height:200px}[data-v-65b4127d]  .yaml-editor .code-mirror .CodeMirror{position:static;height:auto;min-height:200px}",""]),t["default"]=n},24175:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".close[data-v-30b402d6]{top:10px;right:10px;padding:0;position:absolute}.disk[data-v-30b402d6]{position:relative}.disk .secret-name[data-v-30b402d6]{height:61px}.disk[data-v-30b402d6]:not(:last-of-type){padding-bottom:10px;margin-bottom:30px}.flex[data-v-30b402d6]{display:flex;justify-content:space-between}.badge-state[data-v-30b402d6]{padding:2px 5px}",""]),t["default"]=n},22051:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"#node[data-v-5f263130]{display:flex;flex-direction:column}#node[data-v-5f263130],#node .content[data-v-5f263130]{flex-grow:1}#node .wrapper[data-v-5f263130]{position:relative}#node .nicOption[data-v-5f263130]{display:flex;justify-content:space-between}",""]),t["default"]=n},30310:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".header[data-v-392bdb63]{display:flex;justify-content:flex-end}",""]),t["default"]=n},9594:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".output{display:flex;flex-direction:column;flex-grow:1}.output .provider h1{display:inline-block}.output .box-container{display:flex;justify-content:flex-start;flex-wrap:wrap;margin:0 -10px}@media only screen and (min-width:480px){.output .box-container .toggle-gradient-box{width:100%}}@media only screen and (min-width:768px){.output .box-container .toggle-gradient-box{width:calc(50% - 20px)}}@media only screen and (min-width:992px){.output .box-container .toggle-gradient-box{width:calc(33.33333% - 20px)}}@media only screen and (min-width:1281px){.output .box-container .toggle-gradient-box{width:calc(25% - 20px)}}.output .box-container .toggle-gradient-box{margin:10px;padding:10px;position:relative;border-radius:calc(var(--border-radius)*1.5)}.output .box-container .toggle-gradient-box:hover{box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer}.output .box-container .toggle-gradient-box .side-label{transform:rotate(180deg);position:absolute;top:0;left:0;bottom:0;min-width:calc(var(--border-radius)*1.5);width:15px;border-top-right-radius:calc(var(--border-radius)*1.5);border-bottom-right-radius:calc(var(--border-radius)*1.5)}.output .box-container .toggle-gradient-box .side-label label{text-align:center;writing-mode:tb;height:100%;padding:0 2px;display:block;white-space:no-wrap;text-overflow:ellipsis}.output .box-container .toggle-gradient-box .logo{text-align:center;width:60px;height:60px;border-radius:calc(var(--border-radius)*2);overflow:hidden;background-color:#fff;display:inline-block;vertical-align:middle}.output .box-container .toggle-gradient-box .logo img{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}.output .box-container .toggle-gradient-box:hover{background-position:100%}.output .box-container .toggle-gradient-box .name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:0;display:inline-block;vertical-align:middle}",""]),t["default"]=n},33100:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"h3[data-v-34ffb89b]{margin-top:2em}input[data-v-34ffb89b]{margin-top:1em}.route[real-mode=view] .label[data-v-34ffb89b]{color:var(--input-label)}button[data-v-34ffb89b]{margin-left:.5em}a[data-v-34ffb89b]:hover{text-decoration:none}",""]),t["default"]=n},99612:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".edit-change[data-v-01b4cf42]{align-items:center;display:flex}.edit-change>h5[data-v-01b4cf42]{flex:1}[data-v-01b4cf42]  .edit-help code{padding:1px 5px}",""]),t["default"]=n},41999:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".custom-headers[data-v-77af4bf8]{align-items:center}",""]),t["default"]=n},18750:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".labeled-input.compact-input[data-v-5c90780c]{padding:7px 10px}",""]),t["default"]=n},83139:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".labeled-input.compact-input[data-v-2460a262]{padding:7px 10px}",""]),t["default"]=n},25936:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".labeled-input.compact-input[data-v-6afc4f36]{padding:7px 10px}",""]),t["default"]=n},30056:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"#restore[data-v-dcf8e7de]{display:flex;flex-grow:1;flex-direction:column}#restore[data-v-dcf8e7de]  .radio-group{display:flex}#restore[data-v-dcf8e7de]  .radio-group .radio-container{margin-right:30px}#restore .content[data-v-dcf8e7de]{flex-grow:1}#restore .footer[data-v-dcf8e7de]{border-top:var(--header-border-size) solid var(--header-border);margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}#restore .footer[data-v-dcf8e7de]  .spacer-small{padding:0}",""]),t["default"]=n},11647:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".kv-item.value>.unlabeled-select[data-v-730da7fd]{height:40px;line-height:1}",""]),t["default"]=n},4689:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"#restore[data-v-6c93c587]{display:flex;flex-grow:1;flex-direction:column}#restore[data-v-6c93c587]  .radio-group{display:flex}#restore[data-v-6c93c587]  .radio-group .radio-container{margin-right:30px}#restore .content[data-v-6c93c587]{flex-grow:1}#restore .footer[data-v-6c93c587]{border-top:var(--header-border-size) solid var(--header-border);margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}#restore .footer[data-v-6c93c587]  .spacer-small{padding:0}",""]),t["default"]=n},33422:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".compat-matrix,.device-col{display:flex}.device-col{flex-direction:column;border-right:1px solid var(--border)}.device-col>*{border-bottom:1px solid var(--border)}.compat-cell{flex-basis:1em;padding:0 10px 0 10px}.compat-cell.has-device{background-color:var(--info-banner-bg)}.device-label,.node-label{display:flex;align-items:center;color:var(--input-label)}.node-label{padding:0 10px;justify-content:center}.blank-corner,.compat-cell,.device-label,.node-label{flex-basis:calc(2em + 10px)}.blank-corner{background:linear-gradient(to top right,#fff 0,#fff calc(50% - 1px),var(--body-text) 50%,#fff calc(50% + 1px),#fff 100%)}.blank-corner DIV.text-right{padding-left:80px}",""]),t["default"]=n},51062:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"#vm[data-v-284b1d80]  .vm-radio-group .radio-group{display:flex}#vm[data-v-284b1d80]  .vm-radio-group .radio-group .radio-container{margin-right:30px}#vm .restart[data-v-284b1d80]{display:flex;justify-content:flex-end}#vm .banner-right[data-v-284b1d80]{width:auto;display:flex;justify-items:center}",""]),t["default"]=n},94379:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".pool-headers[data-v-3ca2ec55]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center;grid-template-columns:40% 40% 15%}.pool-headers.show-project-and-cluster[data-v-3ca2ec55]{grid-template-columns:25% 25% 25% 15%}",""]),t["default"]=n},23560:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".pool-row[data-v-6c39bd05]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center;grid-template-columns:40% 40% 15%}.pool-row.show-project-and-cluster[data-v-6c39bd05]{grid-template-columns:25% 25% 25% 15%}",""]),t["default"]=n},52951:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".pool-headers[data-v-070c8736],.pool-row[data-v-070c8736]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center}.pool-headers.cidr[data-v-070c8736],.pool-row.cidr[data-v-070c8736]{grid-template-columns:41.75% 41.75% 15%}.pool-headers.range[data-v-070c8736],.pool-row.range[data-v-070c8736]{grid-template-columns:20% 20% 20% 20% 15%}",""]),t["default"]=n},48564:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".listener-headers[data-v-602acdc3],.listener-row[data-v-602acdc3]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center;grid-template-columns:35% 15% 15% 15% 15%}",""]),t["default"]=n},38701:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".title[data-v-201c4480]{margin-bottom:10px}.title .read-from-file[data-v-201c4480]{float:right}.ports-headers[data-v-201c4480],.ports-row[data-v-201c4480]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center}.ports-headers.show-protocol[data-v-201c4480],.ports-row.show-protocol[data-v-201c4480]{grid-template-columns:23% 23% 10% 15% 15% 10%}.ports-headers.show-protocol[data-v-201c4480]:not(.show-node-port),.ports-row.show-protocol[data-v-201c4480]:not(.show-node-port){grid-template-columns:31% 31% 10% 15% 10%}.ports-headers.show-node-port[data-v-201c4480]:not(.show-protocol),.ports-row.show-node-port[data-v-201c4480]:not(.show-protocol){grid-template-columns:28% 28% 15% 15% 10%}.ports-headers[data-v-201c4480]{color:var(--input-label)}.toggle-host-ports[data-v-201c4480]{color:var(--primary)}.remove BUTTON[data-v-201c4480]{padding:0}.ports-row>div[data-v-201c4480]{height:100%}.ports-row .port-protocol[data-v-201c4480]  .unlabeled-select .v-select.inline{margin-top:2px}.footer[data-v-201c4480]{margin-top:10px;margin-left:5px}.footer .protip[data-v-201c4480]{float:right;padding:5px 0}",""]),t["default"]=n},56337:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"button[data-v-7d89080c]{all:unset;height:0;position:relative;top:-35px;float:right;margin-right:7px;cursor:pointer}button .align-value[data-v-7d89080c]{padding-top:7px}",""]),t["default"]=n},84021:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".grid[data-v-6be0c6a0]{display:flex;justify-content:flex-start;flex-wrap:wrap;margin:0 -10px}@media only screen and (min-width:480px){.grid .item[data-v-6be0c6a0]{width:100%}}@media only screen and (min-width:768px){.grid .item[data-v-6be0c6a0]{width:calc(50% - 20px)}}@media only screen and (min-width:992px){.grid .item[data-v-6be0c6a0]{width:calc(33.33333% - 20px)}}@media only screen and (min-width:1281px){.grid .item[data-v-6be0c6a0]{width:calc(25% - 20px)}}.grid .item[data-v-6be0c6a0]{height:135px;margin:10px;padding:10px;position:relative;border:1px solid var(--border);text-decoration:none!important;color:var(--body-text)!important}.grid .item[data-v-6be0c6a0]:hover:not(.disabled){box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer;text-decoration:none!important}.grid .item .side-label[data-v-6be0c6a0]{position:absolute;top:10px;right:10px;padding:2px 5px}.grid .item .side-label.indicator[data-v-6be0c6a0]{top:0;right:0;left:0}.grid .item .side-label label[data-v-6be0c6a0],.grid .item label.deploys-os-label[data-v-6be0c6a0],.grid .item label.os-incompatible-label[data-v-6be0c6a0]{font-size:12px;line-height:12px;text-align:center;display:block;white-space:no-wrap;text-overflow:ellipsis;color:var(--card-badge-text);margin:0}.grid .item .deploys-os-label[data-v-6be0c6a0],.grid .item .os-incompatible-label[data-v-6be0c6a0]{position:absolute;bottom:10px;padding:2px 5px;right:10px}.grid .item label.os-incompatible-label[data-v-6be0c6a0]{color:var(--warning);background-color:var(--warning-banner-bg)}.grid .item .logo[data-v-6be0c6a0]{text-align:center;position:absolute;left:25px;top:37.5px;width:60px;height:60px;border-radius:calc(var(--border-radius)*2);overflow:hidden;background-color:#fff}.grid .item .logo img[data-v-6be0c6a0]{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}.grid .item .logo i[data-v-6be0c6a0]{background-position:50%;background-repeat:no-repeat;display:flex;height:56px;margin:2px;width:56px}.grid .item.rancher .deploys-os-label[data-v-6be0c6a0],.grid .item.rancher .side-label[data-v-6be0c6a0]{background-color:var(--app-rancher-accent)}.grid .item.rancher .deploys-os-label label[data-v-6be0c6a0],.grid .item.rancher .side-label label[data-v-6be0c6a0]{color:var(--app-rancher-accent-text)}.grid .item.rancher[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-rancher-accent)}.grid .item.partner .deploys-os-label[data-v-6be0c6a0],.grid .item.partner .side-label[data-v-6be0c6a0]{background-color:var(--app-partner-accent)}.grid .item.partner .deploys-os-label label[data-v-6be0c6a0],.grid .item.partner .side-label label[data-v-6be0c6a0]{color:var(--app-partner-accent-text)}.grid .item.partner[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-partner-accent)}.grid .item.color1 .deploys-os-label[data-v-6be0c6a0],.grid .item.color1 .side-label[data-v-6be0c6a0]{background-color:var(--app-color1-accent)}.grid .item.color1 .deploys-os-label label[data-v-6be0c6a0],.grid .item.color1 .side-label label[data-v-6be0c6a0]{color:var(--app-color1-accent-text)}.grid .item.color1[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-color1-accent)}.grid .item.color2 .deploys-os-label[data-v-6be0c6a0],.grid .item.color2 .side-label[data-v-6be0c6a0]{background-color:var(--app-color2-accent)}.grid .item.color2 .deploys-os-label label[data-v-6be0c6a0],.grid .item.color2 .side-label label[data-v-6be0c6a0]{color:var(--app-color2-accent-text)}.grid .item.color2[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-color2-accent)}.grid .item.color3 .deploys-os-label[data-v-6be0c6a0],.grid .item.color3 .side-label[data-v-6be0c6a0]{background-color:var(--app-color3-accent)}.grid .item.color3 .deploys-os-label label[data-v-6be0c6a0],.grid .item.color3 .side-label label[data-v-6be0c6a0]{color:var(--app-color3-accent-text)}.grid .item.color3[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-color3-accent)}.grid .item.color4 .deploys-os-label[data-v-6be0c6a0],.grid .item.color4 .side-label[data-v-6be0c6a0]{background-color:var(--app-color4-accent)}.grid .item.color4 .deploys-os-label label[data-v-6be0c6a0],.grid .item.color4 .side-label label[data-v-6be0c6a0]{color:var(--app-color4-accent-text)}.grid .item.color4[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-color4-accent)}.grid .item.color5 .deploys-os-label[data-v-6be0c6a0],.grid .item.color5 .side-label[data-v-6be0c6a0]{background-color:var(--app-color5-accent)}.grid .item.color5 .deploys-os-label label[data-v-6be0c6a0],.grid .item.color5 .side-label label[data-v-6be0c6a0]{color:var(--app-color5-accent-text)}.grid .item.color5[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-color5-accent)}.grid .item.color6 .deploys-os-label[data-v-6be0c6a0],.grid .item.color6 .side-label[data-v-6be0c6a0]{background-color:var(--app-color6-accent)}.grid .item.color6 .deploys-os-label label[data-v-6be0c6a0],.grid .item.color6 .side-label label[data-v-6be0c6a0]{color:var(--app-color6-accent-text)}.grid .item.color6[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-color6-accent)}.grid .item.color7 .deploys-os-label[data-v-6be0c6a0],.grid .item.color7 .side-label[data-v-6be0c6a0]{background-color:var(--app-color7-accent)}.grid .item.color7 .deploys-os-label label[data-v-6be0c6a0],.grid .item.color7 .side-label label[data-v-6be0c6a0]{color:var(--app-color7-accent-text)}.grid .item.color7[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-color7-accent)}.grid .item.color8 .deploys-os-label[data-v-6be0c6a0],.grid .item.color8 .side-label[data-v-6be0c6a0]{background-color:var(--app-color8-accent)}.grid .item.color8 .deploys-os-label label[data-v-6be0c6a0],.grid .item.color8 .side-label label[data-v-6be0c6a0]{color:var(--app-color8-accent-text)}.grid .item.color8[data-v-6be0c6a0]:hover:not(.disabled){border-color:var(--app-color8-accent)}.grid .item[data-v-6be0c6a0]:hover:not(.disabled){background-position:100%;border-left-width:1px}.grid .item:hover:not(.disabled) .logo[data-v-6be0c6a0]{left:25px}.grid .item:hover:not(.disabled) .name[data-v-6be0c6a0]{margin-left:85px}.grid .item .name[data-v-6be0c6a0]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:115px;margin:0;margin-left:85px}.grid .item.has-description .name[data-v-6be0c6a0]{margin-top:10px;line-height:normal}.grid .item.has-description.has-side-label .name[data-v-6be0c6a0]{margin-top:15px}.grid .item .description[data-v-6be0c6a0]{margin-top:10px;margin-left:85px;margin-right:10px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;overflow:hidden;text-overflow:ellipsis;color:var(--text-muted)!important}.grid .disabled[data-v-6be0c6a0]{opacity:.5;cursor:not-allowed}",""]),t["default"]=n},24744:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".tip[data-v-0603092f]{color:var(--disabled-text);display:flex;align-items:center}.my-icon[data-v-0603092f]{font-size:16px;margin-right:2px}.text[data-v-0603092f]{font-size:14px}",""]),t["default"]=n},83271:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-38ac1adc]  .unlabeled-select{height:61px}",""]),t["default"]=n},53064:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".role[data-v-6db6a2c5]{display:flex;align-items:center;flex-direction:row}",""]),t["default"]=n},42348:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"button[data-v-4418d0b6]{all:unset;height:0;position:relative;top:-35px;float:right;margin-right:7px;cursor:pointer}button .align-value[data-v-4418d0b6]{padding-top:7px}.row.name-ns-description[data-v-4418d0b6]{max-height:61px}.row .namespace-select[data-v-4418d0b6]  .labeled-select{min-width:40%}.row .namespace-select[data-v-4418d0b6]  .labeled-select .v-select.inline.vs--single{padding-bottom:2px}.row.flip-direction[data-v-4418d0b6]{flex-direction:column}.row.flip-direction.name-ns-description[data-v-4418d0b6]{max-height:none}.row.flip-direction>div>*[data-v-4418d0b6]{margin-bottom:20px}",""]),t["default"]=n},93552:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".headers[data-v-37c130a0]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;border-bottom:1px solid var(--border);height:30px;width:calc(100% - 75px)}.headers div[data-v-37c130a0]{width:100%}",""]),t["default"]=n},32374:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".row[data-v-79592e36]{display:flex;flex-direction:row;justify-content:space-evenly}",""]),t["default"]=n},43097:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".secret-selector{width:100%}.secret-selector label{display:block}.secret-selector .labeled-select{min-height:61px}.secret-selector .vs__selected-options{padding:8px 0 7px 0}.secret-selector label{display:inline-block}.secret-selector.show-key-selector .input-container>*{display:inline-block;width:50%}.secret-selector.show-key-selector .input-container>.labeled-select.focused{z-index:10}.secret-selector.show-key-selector .input-container>:first-child{border-top-right-radius:0;border-bottom-right-radius:0;margin-right:0}.secret-selector.show-key-selector .input-container>:last-child{border-top-left-radius:0;border-bottom-left-radius:0;border-left:none;float:right}",""]),t["default"]=n},12019:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,"[data-v-18ba8a37]  .icon-info{margin-top:-3px;margin-right:4px}",""]),t["default"]=n},82974:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".overwrite[data-v-2d797dba]{display:flex;align-items:center}",""]),t["default"]=n},37929:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".overwrite[data-v-6e7bf91d]{display:flex;align-items:center}",""]),t["default"]=n},54518:function(e,t,a){"use strict";a.r(t);var o=a(36758),l=a.n(o),s=a(40935),r=a.n(s),n=r()(l());n.push([e.id,".insecure[data-v-012737f8]{display:flex;align-items:center}",""]),t["default"]=n},89914:function(e,t,a){"use strict";a.r(t),a.d(t,{normalizePort:function(){return r},protocol:function(){return o},sslVersions:function(){return l},updatePort:function(){return s}});const o=["http","https"],l=["TLSv1_2","TLSv1_1","TLSv1","SSLv23"];function s(e,t){e(0),e(r(t))}function r(e){const t=Number.parseInt(e,10);return t<1?1:t>65535?65535:t}},71997:function(e,t,a){var o=a(84763);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("313b64e0",o,!0,{sourceMap:!1,shadowMode:!1})},14625:function(e,t,a){var o=a(58246);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("04939ce5",o,!0,{sourceMap:!1,shadowMode:!1})},155:function(e,t,a){var o=a(52674);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("4c70d4b6",o,!0,{sourceMap:!1,shadowMode:!1})},2617:function(e,t,a){var o=a(12166);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("6ab11da5",o,!0,{sourceMap:!1,shadowMode:!1})},61051:function(e,t,a){var o=a(5531);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("2ab997d2",o,!0,{sourceMap:!1,shadowMode:!1})},50072:function(e,t,a){var o=a(48952);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("011aed91",o,!0,{sourceMap:!1,shadowMode:!1})},23628:function(e,t,a){var o=a(18380);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("5d7a8812",o,!0,{sourceMap:!1,shadowMode:!1})},88789:function(e,t,a){var o=a(44309);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("4412edfb",o,!0,{sourceMap:!1,shadowMode:!1})},12164:function(e,t,a){var o=a(30084);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("082769ce",o,!0,{sourceMap:!1,shadowMode:!1})},92427:function(e,t,a){var o=a(95083);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("3f5ef292",o,!0,{sourceMap:!1,shadowMode:!1})},93612:function(e,t,a){var o=a(620);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("073cf01f",o,!0,{sourceMap:!1,shadowMode:!1})},38917:function(e,t,a){var o=a(86373);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("37a21e9a",o,!0,{sourceMap:!1,shadowMode:!1})},21030:function(e,t,a){var o=a(99334);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("21824756",o,!0,{sourceMap:!1,shadowMode:!1})},19949:function(e,t,a){var o=a(57165);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("52afd3fe",o,!0,{sourceMap:!1,shadowMode:!1})},29977:function(e,t,a){var o=a(50745);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("77675dd2",o,!0,{sourceMap:!1,shadowMode:!1})},71318:function(e,t,a){var o=a(1814);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("097b633b",o,!0,{sourceMap:!1,shadowMode:!1})},82002:function(e,t,a){var o=a(96370);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("1492605e",o,!0,{sourceMap:!1,shadowMode:!1})},18813:function(e,t,a){var o=a(12029);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("3008a3f0",o,!0,{sourceMap:!1,shadowMode:!1})},11221:function(e,t,a){var o=a(46453);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("27f0bb08",o,!0,{sourceMap:!1,shadowMode:!1})},46655:function(e,t,a){var o=a(42623);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("1bce5bb0",o,!0,{sourceMap:!1,shadowMode:!1})},59852:function(e,t,a){var o=a(96716);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("6b2b15ea",o,!0,{sourceMap:!1,shadowMode:!1})},94287:function(e,t,a){var o=a(24175);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("45099b66",o,!0,{sourceMap:!1,shadowMode:!1})},30115:function(e,t,a){var o=a(22051);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("51547f7a",o,!0,{sourceMap:!1,shadowMode:!1})},54822:function(e,t,a){var o=a(30310);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("2a649d0d",o,!0,{sourceMap:!1,shadowMode:!1})},26925:function(e,t,a){var o=a(9594);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("793131e4",o,!0,{sourceMap:!1,shadowMode:!1})},65548:function(e,t,a){var o=a(33100);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("7673b10d",o,!0,{sourceMap:!1,shadowMode:!1})},97596:function(e,t,a){var o=a(99612);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("3051a4b8",o,!0,{sourceMap:!1,shadowMode:!1})},3823:function(e,t,a){var o=a(41999);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("bf4850ac",o,!0,{sourceMap:!1,shadowMode:!1})},58110:function(e,t,a){var o=a(18750);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("c84bb8fe",o,!0,{sourceMap:!1,shadowMode:!1})},32163:function(e,t,a){var o=a(83139);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("047a7c5e",o,!0,{sourceMap:!1,shadowMode:!1})},83267:function(e,t,a){var o=a(25936);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("24b87eda",o,!0,{sourceMap:!1,shadowMode:!1})},4008:function(e,t,a){var o=a(30056);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("99c9cf44",o,!0,{sourceMap:!1,shadowMode:!1})},59743:function(e,t,a){var o=a(11647);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("fbb531f4",o,!0,{sourceMap:!1,shadowMode:!1})},38673:function(e,t,a){var o=a(4689);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("344e8b72",o,!0,{sourceMap:!1,shadowMode:!1})},91950:function(e,t,a){var o=a(33422);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("5f8696f8",o,!0,{sourceMap:!1,shadowMode:!1})},28438:function(e,t,a){var o=a(51062);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("1f711707",o,!0,{sourceMap:!1,shadowMode:!1})},30347:function(e,t,a){var o=a(94379);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("99e79c7c",o,!0,{sourceMap:!1,shadowMode:!1})},59688:function(e,t,a){var o=a(23560);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("720afeca",o,!0,{sourceMap:!1,shadowMode:!1})},90839:function(e,t,a){var o=a(52951);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("6cebf0b2",o,!0,{sourceMap:!1,shadowMode:!1})},50004:function(e,t,a){var o=a(48564);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("54340006",o,!0,{sourceMap:!1,shadowMode:!1})},62541:function(e,t,a){var o=a(38701);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("41557fde",o,!0,{sourceMap:!1,shadowMode:!1})},59505:function(e,t,a){var o=a(56337);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("676e5870",o,!0,{sourceMap:!1,shadowMode:!1})},73557:function(e,t,a){var o=a(84021);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("4bf0c46e",o,!0,{sourceMap:!1,shadowMode:!1})},81384:function(e,t,a){var o=a(24744);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("1c3248f2",o,!0,{sourceMap:!1,shadowMode:!1})},17831:function(e,t,a){var o=a(83271);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("6fc4f8b6",o,!0,{sourceMap:!1,shadowMode:!1})},82760:function(e,t,a){var o=a(53064);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("7c68aa1d",o,!0,{sourceMap:!1,shadowMode:!1})},45087:function(e,t,a){var o=a(42348);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("59684094",o,!0,{sourceMap:!1,shadowMode:!1})},33680:function(e,t,a){var o=a(93552);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("6be0b1a7",o,!0,{sourceMap:!1,shadowMode:!1})},83190:function(e,t,a){var o=a(32374);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("cd8ced9e",o,!0,{sourceMap:!1,shadowMode:!1})},90649:function(e,t,a){var o=a(43097);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("6ee2c1c5",o,!0,{sourceMap:!1,shadowMode:!1})},92211:function(e,t,a){var o=a(12019);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("5928b7f4",o,!0,{sourceMap:!1,shadowMode:!1})},11422:function(e,t,a){var o=a(82974);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("23335c2b",o,!0,{sourceMap:!1,shadowMode:!1})},97641:function(e,t,a){var o=a(37929);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("621b4f22",o,!0,{sourceMap:!1,shadowMode:!1})},95478:function(e,t,a){var o=a(54518);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=a(74825).A;l("d2647a2a",o,!0,{sourceMap:!1,shadowMode:!1})},28431:function(e,t,a){var o={"./__tests__/loki.test":67862,"./__tests__/loki.test.ts":67862,"./awsElasticsearch":1241,"./awsElasticsearch.vue":1241,"./azurestorage":98698,"./azurestorage.vue":98698,"./cloudwatch":91106,"./cloudwatch.vue":91106,"./datadog":46811,"./datadog.vue":46811,"./elasticsearch":25963,"./elasticsearch.vue":25963,"./file":56893,"./file.vue":56893,"./forward":63079,"./forward.vue":63079,"./gcs":61864,"./gcs.vue":61864,"./gelf":76639,"./gelf.vue":76639,"./kafka":31761,"./kafka.vue":31761,"./kinesisStream":60947,"./kinesisStream.vue":60947,"./logdna":65913,"./logdna.vue":65913,"./logz":95885,"./logz.vue":95885,"./loki":41335,"./loki.vue":41335,"./newrelic":66991,"./newrelic.vue":66991,"./opensearch":17617,"./opensearch.vue":17617,"./redis":3871,"./redis.vue":3871,"./s3":74401,"./s3.vue":74401,"./splunkHec":11448,"./splunkHec.vue":11448,"./sumologic":77630,"./sumologic.vue":77630,"./syslog":86914,"./syslog.vue":86914,"./utils":89914,"./utils.js":89914};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}l.keys=function(){return Object.keys(o)},l.resolve=s,e.exports=l,l.id=28431},48254:function(e,t,a){var o={"./":9711,"./basic":10907,"./basic.vue":10907,"./generic":28725,"./generic.vue":28725,"./index":9711,"./index.vue":9711,"./registry":93515,"./registry.vue":93515,"./ssh":13337,"./ssh.vue":13337,"./tls":99985,"./tls.vue":99985};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}l.keys=function(){return Object.keys(o)},l.resolve=s,e.exports=l,l.id=48254},88292:function(e,t,a){var o={"./additional-ca.vue":36955,"./additional-guest-memory-overhead-ratio.vue":53867,"./auto-rotate-rke2-certs.vue":32158,"./backup-target.vue":65325,"./containerd-registry.vue":90955,"./csi-driver-config.vue":91932,"./default-vm-termination-grace-period-seconds.vue":59392,"./http-proxy.vue":18093,"./ntp-servers.vue":28436,"./overcommit-config.vue":70726,"./ssl-certificates.vue":54122,"./ssl-parameters.vue":13515,"./storage-network.vue":89994,"./support-bundle-image.vue":48749,"./support-bundle-namespaces.vue":30859,"./vm-force-reset-policy.vue":33955};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}l.keys=function(){return Object.keys(o)},l.resolve=s,e.exports=l,l.id=88292},26190:function(e,t,a){var o={"./additional-ca.vue":36955,"./additional-guest-memory-overhead-ratio.vue":53867,"./auto-rotate-rke2-certs.vue":32158,"./backup-target.vue":65325,"./containerd-registry.vue":90955,"./csi-driver-config.vue":91932,"./default-vm-termination-grace-period-seconds.vue":59392,"./http-proxy.vue":18093,"./ntp-servers.vue":28436,"./overcommit-config.vue":70726,"./ssl-certificates.vue":54122,"./ssl-parameters.vue":13515,"./storage-network.vue":89994,"./support-bundle-image.vue":48749,"./support-bundle-namespaces.vue":30859,"./vm-force-reset-policy.vue":33955};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}l.keys=function(){return Object.keys(o)},l.resolve=s,e.exports=l,l.id=26190},2467:function(e,t,a){var o={"./generic.vue":26370,"./harvester-seeder.vue":17438,"./index.vue":81135,"./nvidia-driver-toolkit.vue":57960,"./pcidevices-controller.vue":55821,"./rancher-logging.vue":70927,"./rancher-monitoring.vue":59289,"./rancher-vcluster.vue":95627,"./vm-import-controller.vue":89718};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}l.keys=function(){return Object.keys(o)},l.resolve=s,e.exports=l,l.id=2467},6232:function(e,t,a){var o={"./custom":43868,"./custom.vue":43868,"./driver.longhorn.io_v1":81649,"./driver.longhorn.io_v1.vue":81649,"./driver.longhorn.io_v2":42243,"./driver.longhorn.io_v2.vue":42243,"./lvm.driver.harvesterhci.io":14257,"./lvm.driver.harvesterhci.io.vue":14257};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}l.keys=function(){return Object.keys(o)},l.resolve=s,e.exports=l,l.id=6232},80373:function(e,t,a){var o={"./harvesterhci.io.addon/generic.vue":26370,"./harvesterhci.io.addon/harvester-seeder.vue":17438,"./harvesterhci.io.addon/index.vue":81135,"./harvesterhci.io.addon/nvidia-driver-toolkit.vue":57960,"./harvesterhci.io.addon/pcidevices-controller.vue":55821,"./harvesterhci.io.addon/rancher-logging.vue":70927,"./harvesterhci.io.addon/rancher-monitoring.vue":59289,"./harvesterhci.io.addon/rancher-vcluster.vue":95627,"./harvesterhci.io.addon/vm-import-controller.vue":89718,"./harvesterhci.io.host/HarvesterDisk.vue":13965,"./harvesterhci.io.host/HarvesterKsmtuned.vue":27547,"./harvesterhci.io.host/HarvesterSeeder.vue":65864,"./harvesterhci.io.host/index.vue":83385,"./harvesterhci.io.monitoring.alertmanagerconfig/index.vue":47579,"./harvesterhci.io.storage/index.vue":13190,"./harvesterhci.io.storage/provisioners/custom.vue":43868,"./harvesterhci.io.storage/provisioners/driver.longhorn.io_v1.vue":81649,"./harvesterhci.io.storage/provisioners/driver.longhorn.io_v2.vue":42243,"./harvesterhci.io.storage/provisioners/lvm.driver.harvesterhci.io.vue":14257,"./kubevirt.io.virtualmachine/CompatibilityMatrix.vue":93987,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue":58094,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue":60068,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue":23574,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/sshkey.vue":18933,"./kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue":16369,"./kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue":81559,"./kubevirt.io.virtualmachine/VirtualMachineCpuMemory.vue":75403,"./kubevirt.io.virtualmachine/VirtualMachineNetwork/base.vue":48893,"./kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue":8746,"./kubevirt.io.virtualmachine/VirtualMachinePciDevices/DeviceList.vue":84646,"./kubevirt.io.virtualmachine/VirtualMachinePciDevices/index.vue":7060,"./kubevirt.io.virtualmachine/VirtualMachineReserved.vue":5257,"./kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue":78025,"./kubevirt.io.virtualmachine/VirtualMachineUSBDevices/DeviceList.vue":34529,"./kubevirt.io.virtualmachine/VirtualMachineUSBDevices/index.vue":10707,"./kubevirt.io.virtualmachine/VirtualMachineVGpuDevices/VGpuDeviceList.vue":33212,"./kubevirt.io.virtualmachine/VirtualMachineVGpuDevices/index.vue":23910,"./kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue":83141,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/container.vue":88656,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/existing.vue":40090,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/vmImage.vue":95394,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/volume.vue":18693,"./kubevirt.io.virtualmachine/index.vue":15137,"./loadbalancer.harvesterhci.io.ippool/Priority.vue":89625,"./loadbalancer.harvesterhci.io.ippool/PriorityRow.vue":1214,"./loadbalancer.harvesterhci.io.ippool/Range.vue":52728,"./loadbalancer.harvesterhci.io.ippool/Selector.vue":10788,"./loadbalancer.harvesterhci.io.ippool/index.vue":59405,"./loadbalancer.harvesterhci.io.loadbalancer/HealthCheck.vue":68201,"./loadbalancer.harvesterhci.io.loadbalancer/Listeners.vue":67347,"./loadbalancer.harvesterhci.io.loadbalancer/index.vue":49464,"./network.harvesterhci.io.clusternetwork/index.vue":87544,"./network.harvesterhci.io.vlanconfig/NodeSelector.vue":95058,"./network.harvesterhci.io.vlanconfig/index.vue":56867};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}l.keys=function(){return Object.keys(o)},l.resolve=s,e.exports=l,l.id=80373}}]);
//# sourceMappingURL=harvester-1.0.2.umd.min.edit.js.map