(("undefined"!==typeof self?self:this)["webpackChunkharvester_1_0_1"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_1_0_1"]||[]).push([[715],{5538:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(9274);const a=e=>((0,s.pushScopeId)("data-v-e0f7fbca"),e=e(),(0,s.popScopeId)(),e),o={class:"state"},n=a((()=>(0,s.createElementVNode)("span",{class:"tooltip-target"},[(0,s.createElementVNode)("i",{class:"icon icon-warning icon-lg text-warning"})],-1))),i={class:"warning-message"};function l(e,t,r,a,l,c){const d=(0,s.resolveComponent)("ProgressBarMulti"),u=(0,s.resolveComponent)("VolumeState"),p=(0,s.resolveComponent)("v-dropdown"),h=(0,s.resolveDirective)("clean-tooltip");return(0,s.openBlock)(),(0,s.createElementBlock)("span",null,[(0,s.createElementVNode)("div",null,[c.isRebuilding?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createBlock)(d,{key:0,values:c.percentage,min:0,max:100,class:"mb-10"},null,8,["values"])),[[h,c.rebuildingMessage]]):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("div",o,[(0,s.createVNode)(u,{row:r.row},null,8,["row"]),c.warningMessage?((0,s.openBlock)(),(0,s.createBlock)(p,{key:0,trigger:"hover",offset:"16"},{popper:(0,s.withCtx)((()=>[(0,s.createElementVNode)("p",i,(0,s.toDisplayString)(c.warningMessage),1)])),default:(0,s.withCtx)((()=>[n])),_:1})):(0,s.createCommentVNode)("",!0)])])}var c=r(39105),d=r(2602),u=r(32810),p={components:{VolumeState:u.A,ProgressBarMulti:c.A},props:{row:{type:Object,required:!0}},computed:{warningMessage(){return this.row.relatedPV?.metadata?.annotations?.[d.r.VOLUME_ERROR]},rebuildStatus(){return this.row.longhornEngine?.status?.rebuildStatus},isRebuilding(){return this.rebuildStatus&&Object.keys(this.rebuildStatus).length>0},percentage(){if(!this.isRebuilding)return;const e=Object.values(this.rebuildStatus)?.[0],t=e?.progress;return[{value:t,color:"bg-warning"}]},rebuildingMessage(){return this.$store.getters["i18n/t"]("harvester.volume.rebuildingMessage",{percentage:this.percentage[0].value})}}},h=(r(77726),r(47433));const m=(0,h.A)(p,[["render",l],["__scopeId","data-v-e0f7fbca"]]);var g=m},11590:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(9274);const a={key:1},o={key:3};function n(e,t,r,n,i,l){const c=(0,s.resolveComponent)("Loading"),d=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("DeviceList"),p=(0,s.resolveComponent)("MessageLink");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(c,{key:0})):e.hasAddonSchema?i.hasSchema&&i.enabledPCI?((0,s.openBlock)(),(0,s.createBlock)(u,{key:2,devices:l.rows,schema:l.schema},null,8,["devices","schema"])):((0,s.openBlock)(),(0,s.createElementBlock)("div",o,[(0,s.createVNode)(d,{color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(p,{to:i.to,"prefix-label":"harvester.pci.goSetting.prefix","middle-label":"harvester.pci.goSetting.middle","suffix-label":"harvester.pci.goSetting.suffix"},null,8,["to"])])),_:1})])):((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[(0,s.createVNode)(d,{color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.pci.noPCIPermission")),1)])),_:1})]))}var i=r(21835),l=r(29694),c=r(79332),d=r(39053),u=r(41201),p=r(32766),h=r(84646),m=r(66905);const g={id:p.rk.PCI_DEVICE,type:i.yx,attributes:{kind:p.rk.PCI_DEVICE,namespaced:!1},metadata:{name:p.rk.PCI_DEVICE}};var f={name:"ListPciDevicePage",components:{Banner:c.A,DeviceList:h["default"],Loading:d.A,MessageLink:u.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore;if(this.hasSchema=this.$store.getters[`${e}/schemaFor`](p.rk.PCI_DEVICE),this.hasAddonSchema=this.$store.getters[`${e}/schemaFor`](p.rk.ADD_ONS),this.hasSchema)try{const e=this.$store.getters["currentProduct"].inStore,t=await(0,l.kR)({pcidevice:this.$store.dispatch(`${e}/findAll`,{type:p.rk.PCI_DEVICE}),addons:this.$store.dispatch(`${e}/findAll`,{type:p.rk.ADD_ONS})});this.enabledPCI=!0===t.addons.find((e=>e.name===m.Jo.PCI_DEVICE_CONTROLLER))?.spec?.enabled,this.$store.dispatch("type-map/configureType",{match:p.rk.PCI_DEVICE,isCreatable:this.enabledPCI})}catch(t){}},data(){return{enabledPCI:!1,hasSchema:!1,to:`${p.rk.ADD_ONS}/harvester-system/${m.Jo.PCI_DEVICE_CONTROLLER}?mode=edit`}},computed:{schema(){return g},rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](p.rk.PCI_DEVICE);return t}},typeDisplay(){return this.$store.getters["type-map/labelFor"](g,99)}},v=r(47433);const k=(0,v.A)(f,[["render",n]]);var y=k},40190:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(9274);const a={key:1},o={key:2};function n(e,t,r,n,i,l){const c=(0,s.resolveComponent)("Loading"),d=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("MessageLink"),p=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(c,{key:0})):i.hasAddonSchema?i.hasSriovgpuAddon&&i.hasPCIAddon?l.hasSchema?((0,s.openBlock)(),(0,s.createBlock)(p,(0,s.mergeProps)({key:3},e.$attrs,{groupable:!1,namespaced:!1,headers:l.headers,schema:i.schema,rows:l.rows,"key-field":"_key"}),null,16,["headers","schema","rows"])):(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",o,[i.hasSriovgpuAddon?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(d,{key:0,color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(u,{to:i.toVGpuAddon,"prefix-label":"harvester.sriovgpu.goSetting.prefix","middle-label":"harvester.sriovgpu.goSetting.middle","suffix-label":"harvester.sriovgpu.goSetting.suffix"},null,8,["to"])])),_:1})),i.hasPCIAddon?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(d,{key:1,color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(u,{to:i.toPciAddon,"prefix-label":"harvester.pci.goSetting.prefix","middle-label":"harvester.pci.goSetting.middle","suffix-label":"harvester.pci.goSetting.suffix"},null,8,["to"])])),_:1}))])):((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[(0,s.createVNode)(d,{color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.sriovgpu.noPermission")),1)])),_:1})]))}var i=r(21835),l=r(94385),c=r(29694),d=r(79332),u=r(39053),p=r(41201),h=r(25769),m=r(66905),g=r(32766),f={name:"ListSriovGpuDevices",inheritAttrs:!1,components:{Banner:d.A,Loading:u.A,MessageLink:p.A,ResourceTable:h.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore;if(this.schema=this.$store.getters[`${e}/schemaFor`](g.rk.SR_IOVGPU_DEVICE),this.hasAddonSchema=this.$store.getters[`${e}/schemaFor`](g.rk.ADD_ONS),this.hasSchema)try{const t=await(0,c.kR)({sriovgpus:this.$store.dispatch(`${e}/findAll`,{type:g.rk.SR_IOVGPU_DEVICE}),vGpuDevices:this.$store.dispatch(`${e}/findAll`,{type:g.rk.VGPU_DEVICE}),addons:this.$store.dispatch(`${e}/findAll`,{type:g.rk.ADD_ONS})});this.hasPCIAddon=!0===t.addons.find((e=>e.name===m.Jo.PCI_DEVICE_CONTROLLER))?.spec?.enabled,this.hasSriovgpuAddon=!0===t.addons.find((e=>e.name===m.Jo.NVIDIA_DRIVER_TOOLKIT_CONTROLLER))?.spec?.enabled}catch(t){}},data(){const e=this.$store.getters["currentProduct"].inStore;return{hasAddonSchema:!1,hasPCIAddon:!1,hasSriovgpuAddon:!1,schema:null,hasNode:this.$store.getters[`${e}/schemaFor`](i.NW),toVGpuAddon:`${g.rk.ADD_ONS}/harvester-system/${m.Jo.NVIDIA_DRIVER_TOOLKIT_CONTROLLER}?mode=edit`,toPciAddon:`${g.rk.ADD_ONS}/harvester-system/${m.Jo.PCI_DEVICE_CONTROLLER}?mode=edit`}},computed:{hasSchema(){return!!this.schema},rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](g.rk.SR_IOVGPU_DEVICE);return t},headers(){const e={name:"node",label:"Node",value:"realNodeName",sort:["realNodeName"],formatter:"CopyToClipboard",labelKey:"tableHeaders.node"},t=[l.c4,l.X0,{name:"address",label:"Address",value:"spec.address",sort:["spec.address"]},{name:"vfAddresses",label:"VF Addresses",labelKey:"harvester.sriovgpu.vfAddresses",sort:["status.vfAddresses"],value:"status.vfAddresses",formatter:"HarvesterVFAddress",align:"center",dashIfEmpty:!0},{name:"vGpuDevices",label:"vGPU Devices",labelKey:"harvester.sriovgpu.vGpuDevices",sort:["status.vGPUDevices"],value:"status.vGPUDevices",formatter:"HarvesterVGpuDevices",align:"center",dashIfEmpty:!0},{...l.K,sort:"metadata.creationTimestamp:desc"}];return this.hasNode&&t.splice(-1,0,e),t}}},v=r(47433);const k=(0,v.A)(f,[["render",n]]);var y=k},88426:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var s=r(9274);function a(e,t,r,a,o,n){const i=(0,s.resolveComponent)("ResourceTable");return(0,s.openBlock)(),(0,s.createBlock)(i,(0,s.mergeProps)(e.$attrs,{groupable:!1,namespaced:!1,headers:n.headers,schema:r.schema,rows:r.rows,"key-field":"_key"}),null,16,["headers","schema","rows"])}var o=r(94385),n=r(21835),i=r(25769),l={name:"ListHarvesterSRIOV",components:{ResourceTable:i.A},props:{schema:{type:Object,required:!0},rows:{type:Array,required:!0}},data(){const e=this.$store.getters["currentProduct"].inStore;return{hasNode:this.$store.getters[`${e}/schemaFor`](n.NW)}},computed:{headers(){const e={name:"node",label:"Node",value:"realNodeName",sort:["realNodeName"],formatter:"CopyToClipboard",labelKey:"tableHeaders.node"},t=[o.c4,o.X0,{name:"numVFs",label:"Num VFs",sort:["numVFs"],value:"numVFs",formatter:"HarvesterVFsNum",align:"center",labelKey:"harvester.sriov.numVFs",dashIfEmpty:!0},{name:"vfAddresses",label:"VF Addresses",labelKey:"harvester.sriov.vfAddresses",sort:["status.vfAddresses"],value:"status.vfAddresses",formatter:"HarvesterVFAddress",align:"center",dashIfEmpty:!0},{...o.K,sort:"metadata.creationTimestamp:desc"}];return this.hasNode&&t.splice(-1,0,e),t}}},c=r(47433);const d=(0,c.A)(l,[["render",a]]);var u=d},92217:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var s=r(9274);const a={key:1},o={key:2};function n(e,t,r,n,i,l){const c=(0,s.resolveComponent)("Loading"),d=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("MessageLink"),p=(0,s.resolveComponent)("DeviceList");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(c,{key:0})):i.hasAddonSchema?i.hasPCIAddon?l.hasSchema?((0,s.openBlock)(),(0,s.createBlock)(p,{key:3,devices:l.devices,schema:i.schema},null,8,["devices","schema"])):(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",o,[(0,s.createVNode)(d,{color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(u,{to:i.toPciAddon,"prefix-label":"harvester.usb.goSetting.prefix","middle-label":"harvester.usb.goSetting.middle","suffix-label":"harvester.usb.goSetting.suffix"},null,8,["to"])])),_:1})])):((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[(0,s.createVNode)(d,{color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.usb.noPermission")),1)])),_:1})]))}var i=r(32766),l=r(29694),c=r(79332),d=r(39053),u=r(41201),p=r(66905),h=r(34529),m={name:"ListUsbDevicePage",inheritAttrs:!1,components:{Banner:c.A,DeviceList:h["default"],Loading:d.A,MessageLink:u.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore;if(this.schema=this.$store.getters[`${e}/schemaFor`](i.rk.USB_DEVICE),this.hasAddonSchema=this.$store.getters[`${e}/schemaFor`](i.rk.ADD_ONS),this.hasSchema)try{const t=await(0,l.kR)({usbDevices:this.$store.dispatch(`${e}/findAll`,{type:i.rk.USB_DEVICE}),addons:this.$store.dispatch(`${e}/findAll`,{type:i.rk.ADD_ONS})});this.hasPCIAddon=!0===t.addons.find((e=>e.name===p.Jo.PCI_DEVICE_CONTROLLER))?.spec?.enabled}catch(t){}},data(){return{hasAddonSchema:!1,hasPCIAddon:!1,schema:null,toPciAddon:`${i.rk.ADD_ONS}/harvester-system/${p.Jo.PCI_DEVICE_CONTROLLER}?mode=edit`}},computed:{hasSchema(){return!!this.schema},devices(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/all`](i.rk.USB_DEVICE)||[]}},typeDisplay(){return this.t("harvester.usb.label")}},g=r(47433);const f=(0,g.A)(m,[["render",n]]);var v=f},53774:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var s=r(9274);const a={key:1},o={key:2};function n(e,t,r,n,i,l){const c=(0,s.resolveComponent)("Loading"),d=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("MessageLink"),p=(0,s.resolveComponent)("VGpuDeviceList");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(c,{key:0})):i.hasAddonSchema?i.hasSriovgpuAddon&&i.hasPCIAddon?l.hasSchema?((0,s.openBlock)(),(0,s.createBlock)(p,{key:3,devices:l.rows,schema:i.schema},null,8,["devices","schema"])):(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",o,[i.hasSriovgpuAddon?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(d,{key:0,color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(u,{to:i.toVGpuAddon,"prefix-label":"harvester.vgpu.goSetting.prefix","middle-label":"harvester.vgpu.goSetting.middle","suffix-label":"harvester.vgpu.goSetting.suffix"},null,8,["to"])])),_:1})),i.hasPCIAddon?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(d,{key:1,color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(u,{to:i.toPciAddon,"prefix-label":"harvester.pci.goSetting.prefix","middle-label":"harvester.pci.goSetting.middle","suffix-label":"harvester.pci.goSetting.suffix"},null,8,["to"])])),_:1}))])):((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[(0,s.createVNode)(d,{color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.vgpu.noPermission")),1)])),_:1})]))}var i=r(29694),l=r(79332),c=r(39053),d=r(41201),u=r(32766),p=r(33212),h=r(66905),m={name:"ListVGpuDevices",inheritAttrs:!1,components:{Banner:l.A,Loading:c.A,MessageLink:d.A,VGpuDeviceList:p["default"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;if(this.schema=this.$store.getters[`${e}/schemaFor`](u.rk.VGPU_DEVICE),this.hasAddonSchema=this.$store.getters[`${e}/schemaFor`](u.rk.ADD_ONS),this.hasSchema)try{const t=await(0,i.kR)({vGpuDevices:this.$store.dispatch(`${e}/findAll`,{type:u.rk.VGPU_DEVICE}),addons:this.$store.dispatch(`${e}/findAll`,{type:u.rk.ADD_ONS})});this.hasPCIAddon=!0===t.addons.find((e=>e.name===h.Jo.PCI_DEVICE_CONTROLLER))?.spec?.enabled,this.hasSriovgpuAddon=!0===t.addons.find((e=>e.name===h.Jo.NVIDIA_DRIVER_TOOLKIT_CONTROLLER))?.spec?.enabled,this.hasSRIOVGPUSchema=!!this.$store.getters[`${e}/schemaFor`](u.rk.SR_IOVGPU_DEVICE),this.hasSRIOVGPUSchema&&await this.$store.dispatch(`${e}/findAll`,{type:u.rk.SR_IOVGPU_DEVICE})}catch(t){}},data(){return{hasAddonSchema:!1,hasPCIAddon:!1,hasSriovgpuAddon:!1,hasSRIOVGPUSchema:!1,schema:null,toVGpuAddon:`${u.rk.ADD_ONS}/harvester-system/${h.Jo.NVIDIA_DRIVER_TOOLKIT_CONTROLLER}?mode=edit`,toPciAddon:`${u.rk.ADD_ONS}/harvester-system/${h.Jo.PCI_DEVICE_CONTROLLER}?mode=edit`}},computed:{hasSchema(){return!!this.schema},rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](u.rk.VGPU_DEVICE)||[],r=this.$store.getters[`${e}/all`](u.rk.SR_IOVGPU_DEVICE)||[];return this.hasSRIOVGPUSchema?t.filter((e=>!!r.find((t=>t.isEnabled&&t.spec?.nodeName===e.spec?.nodeName)))):t}},typeDisplay(){return this.t("harvester.vgpu.label")}},g=r(47433);const f=(0,g.A)(m,[["render",n]]);var v=f},33699:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(9274);const a=e=>((0,s.pushScopeId)("data-v-32e4b7cb"),e=e(),(0,s.popScopeId)(),e),o={class:"cell-name"},n=["href"],i=a((()=>(0,s.createElementVNode)("i",{class:"icon icon-external-link"},null,-1))),l=[i];function c(e,t,r,a,i,c){const d=(0,s.resolveComponent)("Loading"),u=(0,s.resolveComponent)("LinkDetail"),p=(0,s.resolveComponent)("ResourceTable"),h=(0,s.resolveDirective)("tooltip");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(d,{key:0})):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(p,{rows:c.rows,groupable:!1,namespaced:!1,schema:c.schema,headers:c.headers},{"cell:name":(0,s.withCtx)((t=>[(0,s.createElementVNode)("div",o,[(0,s.createVNode)(u,{value:t.row.displayName,"onUpdate:value":e=>t.row.displayName=e,row:t.row},null,8,["value","onUpdate:value","row"]),"rancher-vcluster"===t.row.metadata.name&&t.row.spec.enabled?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("a",{key:0,class:"ml-5",rel:"nofollow noopener noreferrer",target:"_blank",href:t.row.rancherHostname},l,8,n)),[[h,e.t("harvester.addons.rancherVcluster.accessRancher")]]):(0,s.createCommentVNode)("",!0)])])),_:1},8,["rows","schema","headers"])])}var d=r(39053),u=r(25769),p=r(29694),h=r(94385),m=r(32766),g={name:"ListHarvesterAddons",components:{ResourceTable:u.A,Loading:d.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,p.kR)({addons:this.$store.dispatch(`${e}/findAll`,{type:m.rk.ADD_ONS})})},computed:{rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](m.rk.ADD_ONS);return t},headers(){return[h.c4,h.o_,{name:"description",labelKey:"tableHeaders.description",value:"metadata.name",align:"left",sort:["status.description"],formatter:"Translate",formatterOpts:{prefix:"harvester.addons.descriptions"}}]},schema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](m.rk.ADD_ONS)}}},f=(r(12122),r(47433));const v=(0,f.A)(g,[["render",c],["__scopeId","data-v-32e4b7cb"]]);var k=v},34317:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(9274);function a(e,t,r,a,o,n){const i=(0,s.resolveComponent)("Loading"),l=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(i,{key:0})):((0,s.openBlock)(),(0,s.createBlock)(l,(0,s.mergeProps)({key:1},e.$attrs,{headers:n.headers,groupable:!0,schema:n.schema,rows:n.filteredRows,"key-field":"_key"}),null,16,["headers","schema","rows"]))}var o=r(25769),n=r(39053),i=r(21835),l=r(94385),c=r(2602),d=r(32766);const u={id:d.rk.CLOUD_TEMPLATE,type:i.yx,attributes:{kind:d.rk.CLOUD_TEMPLATE,namespaced:!0},metadata:{name:d.rk.CLOUD_TEMPLATE}};var p={name:"HarvesterListCloudTemplate",components:{ResourceTable:o.A,Loading:n.A},inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore;this.rows=await this.$store.dispatch(`${e}/findAll`,{type:i.K5});const t=this.$store.getters[`${e}/schemaFor`](i.K5);t?.collectionMethods.find((e=>"post"===e.toLowerCase()))||this.$store.dispatch("type-map/configureType",{match:d.rk.CLOUD_TEMPLATE,isCreatable:!1})},data(){return{rows:[]}},computed:{headers(){return[l.o_,l.CU,{name:"type",labelKey:"tableHeaders.type",value:"metadata.labels",formatter:"CloudInitType"},l.K]},filteredRows(){return this.rows.filter((e=>!!e.metadata?.labels?.[c.r.CLOUD_INIT]))},schema(){return u}},typeDisplay(){return this.$store.getters["type-map/labelFor"](u,99)}},h=r(47433);const m=(0,h.A)(p,[["render",a]]);var g=m},5389:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return je}});var s=r(9274);const a={key:1},o={class:"cluster-dashboard-glance"},n={key:0},i={class:"resource-gauges"},l={class:"mt-40"},c={class:"mb-40 mt-40"},d={class:"text-info"},u={key:0},p={class:"text-info"},h={key:0},m={class:"text-info"},g={key:0},f={class:"text-info"},v={key:0};function k(e,t,r,k,y,b){const C=(0,s.resolveComponent)("Loading"),S=(0,s.resolveComponent)("HarvesterUpgrade"),$=(0,s.resolveComponent)("LiveDate"),w=(0,s.resolveComponent)("MessageLink"),N=(0,s.resolveComponent)("Banner"),E=(0,s.resolveComponent)("ResourceSummary"),V=(0,s.resolveComponent)("HardwareResourceGauge"),A=(0,s.resolveComponent)("DashboardMetrics"),B=(0,s.resolveComponent)("Tab"),x=(0,s.resolveComponent)("Tabbed"),D=(0,s.resolveComponent)("SortableTable"),T=(0,s.resolveDirective)("clean-tooltip");return e.$fetchState.pending||!e.currentCluster?((0,s.openBlock)(),(0,s.createBlock)(C,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("section",a,[(0,s.createVNode)(S),(0,s.createElementVNode)("div",o,[(0,s.createElementVNode)("div",null,[(0,s.createElementVNode)("label",null,(0,s.toDisplayString)(e.t("harvester.dashboard.version"))+": ",1),(0,s.createElementVNode)("span",null,[(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("span",null,[(0,s.createTextVNode)((0,s.toDisplayString)(b.currentVersion),1)])),[[T,{content:b.currentVersion}]])])]),(0,s.createElementVNode)("div",null,[(0,s.createElementVNode)("label",null,(0,s.toDisplayString)(e.t("glance.created"))+": ",1),(0,s.createElementVNode)("span",null,[(0,s.createVNode)($,{value:b.firstNodeCreationTimestamp,"add-suffix":!0,"show-tooltip":!0},null,8,["value"])])])]),!y.enabledMonitoringAddon&&b.canEnableMonitoringAddon?((0,s.openBlock)(),(0,s.createElementBlock)("div",n,[(0,s.createVNode)(N,{color:"info"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(w,{to:b.toEnableMonitoringAddon,"prefix-label":"harvester.monitoring.alertmanagerConfig.disabledAddon.prefix","middle-label":"harvester.monitoring.alertmanagerConfig.disabledAddon.middle","suffix-label":"harvester.monitoring.alertmanagerConfig.disabledAddon.suffix"},null,8,["to"])])),_:1})])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("div",i,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(b.totalCountGaugeInput,((e,t)=>((0,s.openBlock)(),(0,s.createBlock)(E,{key:t,"spoofed-counts":e.isSpoofed?e:null,resource:e.resource},null,8,["spoofed-counts","resource"])))),128))]),y.nodes.length&&b.hasMetricNodeSchema?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createElementVNode)("h3",l,(0,s.toDisplayString)(e.t("clusterIndexPage.sections.capacity.label")),1),(0,s.createElementVNode)("div",{class:(0,s.normalizeClass)(["hardware-resource-gauges",{live:!y.hasLonghornSchema}])},[(0,s.createVNode)(V,{name:e.t("harvester.dashboard.hardwareResourceGauge.cpu"),reserved:b.cpuReserved,used:b.cpuUsed},null,8,["name","reserved","used"]),(0,s.createVNode)(V,{name:e.t("harvester.dashboard.hardwareResourceGauge.memory"),reserved:b.ramReserved,used:b.ramUsed},null,8,["name","reserved","used"]),y.hasLonghornSchema?((0,s.openBlock)(),(0,s.createBlock)(V,{key:0,name:e.t("harvester.dashboard.hardwareResourceGauge.storage"),used:b.storageUsed,reserved:b.storageAllocated,"reserved-title":e.t("harvester.dashboard.hardwareResourceGauge.allocated")},null,8,["name","used","reserved","reserved-title"])):(0,s.createCommentVNode)("",!0)],2)],64)):(0,s.createCommentVNode)("",!0),b.hasMetricsTabs&&y.enabledMonitoringAddon?((0,s.openBlock)(),(0,s.createBlock)(x,{key:2,class:"mt-30"},{default:(0,s.withCtx)((()=>[y.showClusterMetrics?((0,s.openBlock)(),(0,s.createBlock)(B,{key:0,name:"cluster-metrics",label:e.t("clusterIndexPage.sections.clusterMetrics.label"),weight:99},{default:(0,s.withCtx)((e=>[e.active?((0,s.openBlock)(),(0,s.createBlock)(A,{key:0,"detail-url":y.CLUSTER_METRICS_DETAIL_URL,"summary-url":y.CLUSTER_METRICS_SUMMARY_URL,"graph-height":"825px"},null,8,["detail-url","summary-url"])):(0,s.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,s.createCommentVNode)("",!0),y.showVmMetrics?((0,s.openBlock)(),(0,s.createBlock)(B,{key:1,name:"vm-metric",label:e.t("harvester.dashboard.sections.vmMetrics.label"),weight:98},{default:(0,s.withCtx)((e=>[e.active?((0,s.openBlock)(),(0,s.createBlock)(A,{key:0,"detail-url":y.VM_DASHBOARD_METRICS_URL,"graph-height":"825px","has-summary-and-detail":!1},null,8,["detail-url"])):(0,s.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,s.createCommentVNode)("",!0)])),_:1})):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("div",c,[(0,s.createElementVNode)("h3",null,(0,s.toDisplayString)(e.t("clusterIndexPage.sections.events.label")),1),(0,s.createVNode)(x,{class:"mt-20"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(B,{name:"host",label:"Hosts",weight:98},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(D,{rows:b.hostEvents,headers:y.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},{"cell:resource":(0,s.withCtx)((({row:e,value:t})=>[(0,s.createElementVNode)("div",d,(0,s.toDisplayString)(t),1),e.message?((0,s.openBlock)(),(0,s.createElementBlock)("div",u,(0,s.toDisplayString)(e.displayMessage),1)):(0,s.createCommentVNode)("",!0)])),_:1},8,["rows","headers"])])),_:1}),(0,s.createVNode)(B,{name:"vm",label:"VMs",weight:99},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(D,{rows:b.vmEvents,headers:y.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},{"cell:resource":(0,s.withCtx)((({row:e,value:t})=>[(0,s.createElementVNode)("div",p,(0,s.toDisplayString)(t),1),e.message?((0,s.openBlock)(),(0,s.createElementBlock)("div",h,(0,s.toDisplayString)(e.displayMessage),1)):(0,s.createCommentVNode)("",!0)])),_:1},8,["rows","headers"])])),_:1}),(0,s.createVNode)(B,{name:"volume",label:"Volumes",weight:97},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(D,{rows:b.volumeEvents,headers:y.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},{"cell:resource":(0,s.withCtx)((({row:e,value:t})=>[(0,s.createElementVNode)("div",m,(0,s.toDisplayString)(t),1),e.message?((0,s.openBlock)(),(0,s.createElementBlock)("div",g,(0,s.toDisplayString)(e.displayMessage),1)):(0,s.createCommentVNode)("",!0)])),_:1},8,["rows","headers"])])),_:1}),(0,s.createVNode)(B,{name:"image",label:"Images",weight:96},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(D,{rows:b.imageEvents,headers:y.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},{"cell:resource":(0,s.withCtx)((({row:e,value:t})=>[(0,s.createElementVNode)("div",f,(0,s.toDisplayString)(t),1),e.message?((0,s.openBlock)(),(0,s.createElementBlock)("div",v,(0,s.toDisplayString)(e.displayMessage),1)):(0,s.createCommentVNode)("",!0)])),_:1},8,["rows","headers"])])),_:1})])),_:1})])]))}var y=r(23464),b=r.n(y),C=r(3221),S=r.n(C),$=r(57657),w=r.n($),N=r(65359),E=r(39053),V=r(79332),A=r(41201),B=r(18487),x=r(29694),D=r(4390),T=r(94385),_=r(21835);const L={class:"warnings"},M={key:0,class:"warn-count mb-10 chip"},R={key:1,class:"error-count chip"};function O(e,t,r,a,o,n){const i=(0,s.resolveComponent)("SimpleBox");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[(0,s.createVNode)(i,{class:(0,s.normalizeClass)(["container",{"has-link":!!n.location}]),onClick:n.goToResource},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("h1",null,(0,s.toDisplayString)(n.resourceCounts.total),1),(0,s.createElementVNode)("h3",null,(0,s.toDisplayString)(n.name),1),(0,s.createElementVNode)("div",L,[n.resourceCounts.warningCount?((0,s.openBlock)(),(0,s.createElementBlock)("div",M,(0,s.toDisplayString)(n.resourceCounts.warningCount),1)):(0,s.createCommentVNode)("",!0),n.resourceCounts.errorCount?((0,s.openBlock)(),(0,s.createElementBlock)("div",R,(0,s.toDisplayString)(n.resourceCounts.errorCount),1)):(0,s.createCommentVNode)("",!0)])])),_:1},8,["class","onClick"])])}var I=r(16331),P=r(29096);function U(e){switch(e){case"text-success":case"text-info":return"useful";case"text-warning":return"warningCount";default:return"errorCount"}}function F(e,t){const r=e.getters["currentStore"](_.i2),s=e.getters[`${r}/all`](_.i2)?.[0]?.counts,a=s?.[t]?.summary||{},o={total:a.count||0,useful:a.count||0,warningCount:0,errorCount:0};return Object.entries(a.states||{}).forEach((e=>{const t=(0,P.uU)(e[0]),r=e[1],s=U(t);o["useful"]-=r,o[s]+=r})),o}var H={components:{SimpleBox:I.A},props:{resource:{type:String,default:""},spoofedCounts:{type:Object,default:null},cluster:{type:String,default:null}},computed:{resourceCounts(){return this.spoofedCounts?this.spoofedCounts:F(this.$store,this.resource)},location(){if(this.spoofedCounts)return this.spoofedCounts.location;const e={name:"c-cluster-product-resource",params:{product:this.$store.getters["currentProduct"].name,resource:this.resource}};return this.cluster&&(e.params.cluster=this.cluster),e},name(){if(this.spoofedCounts)return this.spoofedCounts.name;const e=this.$store.getters["currentStore"](this.resource),t=this.$store.getters[`${e}/schemaFor`](this.resource);return this.$store.getters["type-map/labelFor"](t,this.resourceCounts.useful)}},methods:{goToResource(){this.location&&this.$router.push(this.location)}}},G=(r(13272),r(47433));const K=(0,G.A)(H,[["render",O],["__scopeId","data-v-6dc847d8"]]);var j=K;const W={class:"chart"},Y={key:0,class:"hw-gauge"},J={class:"values text-muted"},q={key:0},z={key:1},Z={key:2},X={key:3},Q={key:1,class:"hw-gauge"},ee={class:"values text-muted"},te={key:0},re={key:1},se={key:2},ae={key:3};function oe(e,t,r,a,o,n){const i=(0,s.resolveComponent)("ConsumptionGauge"),l=(0,s.resolveComponent)("SimpleBox");return(0,s.openBlock)(),(0,s.createBlock)(l,{class:"hardware-resource-gauge"},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",W,[(0,s.createElementVNode)("h3",null,(0,s.toDisplayString)(r.name),1),!r.reserved||void 0===r.reserved.total&&void 0===r.reserved.useful?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",Y,[(0,s.createVNode)(i,{capacity:r.reserved.total,used:r.reserved.useful,"color-stops":n.colorStops},{title:(0,s.withCtx)((()=>[(0,s.createElementVNode)("span",null,[(0,s.createTextVNode)((0,s.toDisplayString)(r.reservedTitle??e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ",1),(0,s.createElementVNode)("span",J,[r.reserved.formattedUseful?((0,s.openBlock)(),(0,s.createElementBlock)("span",q,(0,s.toDisplayString)(r.reserved.formattedUseful),1)):((0,s.openBlock)(),(0,s.createElementBlock)("span",z,(0,s.toDisplayString)(n.maxDecimalPlaces(r.reserved.useful)),1)),(0,s.createTextVNode)(" / "),r.reserved.formattedTotal?((0,s.openBlock)(),(0,s.createElementBlock)("span",Z,(0,s.toDisplayString)(r.reserved.formattedTotal),1)):((0,s.openBlock)(),(0,s.createElementBlock)("span",X,(0,s.toDisplayString)(n.maxDecimalPlaces(r.reserved.total))+" "+(0,s.toDisplayString)(r.reserved.units),1))])]),(0,s.createElementVNode)("span",null,(0,s.toDisplayString)(n.percentage(r.reserved)),1)])),_:1},8,["capacity","used","color-stops"])])),r.used&&void 0!==r.used.useful?((0,s.openBlock)(),(0,s.createElementBlock)("div",Q,[(0,s.createVNode)(i,{capacity:r.used.total,used:r.used.useful,"color-stops":n.colorStops},{title:(0,s.withCtx)((()=>[(0,s.createElementVNode)("span",null,[(0,s.createTextVNode)((0,s.toDisplayString)(r.usedTitle??e.t("clusterIndexPage.hardwareResourceGauge.used"))+" ",1),(0,s.createElementVNode)("span",ee,[r.used.formattedUseful?((0,s.openBlock)(),(0,s.createElementBlock)("span",te,(0,s.toDisplayString)(r.used.formattedUseful),1)):((0,s.openBlock)(),(0,s.createElementBlock)("span",re,(0,s.toDisplayString)(n.maxDecimalPlaces(r.used.useful)),1)),(0,s.createTextVNode)(" / "),r.used.formattedTotal?((0,s.openBlock)(),(0,s.createElementBlock)("span",se,(0,s.toDisplayString)(r.used.formattedTotal),1)):((0,s.openBlock)(),(0,s.createElementBlock)("span",ae,(0,s.toDisplayString)(n.maxDecimalPlaces(r.used.total))+" "+(0,s.toDisplayString)(r.used.units),1))])]),(0,s.createElementVNode)("span",null,(0,s.toDisplayString)(n.percentage(r.used)),1)])),_:1},8,["capacity","used","color-stops"])])):(0,s.createCommentVNode)("",!0)])])),_:1})}var ne=r(79516),ie={components:{ConsumptionGauge:ne.A,SimpleBox:I.A},props:{name:{type:String,required:!0},units:{type:String,default:""},used:{type:Object,default:null},usedTitle:{type:String,default:null},reserved:{type:Object,default:null},reservedTitle:{type:String,default:null}},computed:{colorStops(){return{0:"--success",30:"--warning",70:"--error"}}},methods:{maxDecimalPlaces(e){return Math.round(100*e)/100},strokes(e,t){return{primaryStrokeColor:this.rgba(e,1),primaryStrokeGradientColor:this.rgba(t,1),secondaryStrokeColor:this.rgba(e,.1),secondaryStrokeGradientColor:this.rgba(t,.1)}},rgba(e,t){return`rgba(var(${e}), ${t})`},percentage(e){return 0===e.total?0:`${(e.useful/e.total*100).toFixed(2)}%`}}};r(926);const le=(0,G.A)(ie,[["render",oe],["__scopeId","data-v-53d7baa6"]]);var ce=le,de=r(12683),ue=r(22760),pe=r(47488),he=r(32069),me=r(92201),ge=r(18872),fe=r(32766);const ve={key:0},ke={class:"header-layout header mb-0"},ye={class:"currentVersion mb-15"},be={class:"version"},Ce={key:0,class:"mb-5"},Se={key:1},$e={class:"mb-10"},we={class:"footer"},Ne=["disabled"];function Ee(e,t,r,a,o,n){const i=(0,s.resolveComponent)("t"),l=(0,s.resolveComponent)("UpgradeInfo"),c=(0,s.resolveComponent)("LabeledSelect"),d=(0,s.resolveComponent)("Checkbox"),u=(0,s.resolveComponent)("Banner"),p=(0,s.resolveComponent)("ModalWithCard"),h=(0,s.resolveDirective)("clean-html");return e.currentCluster?((0,s.openBlock)(),(0,s.createElementBlock)("div",ve,[(0,s.createElementVNode)("header",ke,[(0,s.createElementVNode)("h1",null,[(0,s.createVNode)(i,{k:"harvester.dashboard.header",cluster:e.currentCluster.nameDisplay},null,8,["cluster"])]),n.versionOptions.length&&!n.isUpgradeInProgress?((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:0,type:"button",class:"btn bg-warning btn-sm",onClick:t[0]||(t[0]=(...e)=>n.open&&n.open(...e))},[(0,s.createVNode)(i,{k:"harvester.upgradePage.upgrade"})])):(0,s.createCommentVNode)("",!0)]),o.isOpen?((0,s.openBlock)(),(0,s.createBlock)(p,{key:0,name:"deleteTip",width:850},{title:(0,s.withCtx)((()=>[(0,s.createVNode)(i,{k:"harvester.upgradePage.upgradeApp"})])),content:(0,s.withCtx)((()=>[(0,s.createVNode)(l,{version:o.version},null,8,["version"]),(0,s.createElementVNode)("div",ye,[(0,s.createElementVNode)("span",null,[(0,s.createVNode)(i,{k:"harvester.upgradePage.currentVersion"})]),(0,s.createElementVNode)("span",be,(0,s.toDisplayString)(n.currentVersion),1)]),(0,s.createElementVNode)("div",null,[(0,s.createVNode)(c,{value:o.version,"onUpdate:value":t[1]||(t[1]=e=>o.version=e),class:"mb-10",label:e.t("harvester.upgradePage.versionLabel"),options:n.versionOptions,clearable:!0},null,8,["value","label","options"]),n.canEnableLogging?((0,s.openBlock)(),(0,s.createElementBlock)("div",Ce,[(0,s.createVNode)(d,{value:o.enableLogging,"onUpdate:value":t[2]||(t[2]=e=>o.enableLogging=e),class:"check",type:"checkbox",label:e.t("harvester.upgradePage.enableLogging")},null,8,["value","label"])])):(0,s.createCommentVNode)("",!0),o.version?((0,s.openBlock)(),(0,s.createElementBlock)("div",Se,[(0,s.withDirectives)((0,s.createElementVNode)("p",$e,null,512),[[h,e.t("harvester.upgradePage.releaseTip",{url:n.releaseLink},!0)]]),(0,s.createVNode)(d,{value:o.readyReleaseNote,"onUpdate:value":t[3]||(t[3]=e=>o.readyReleaseNote=e),class:"check",type:"checkbox","label-key":"harvester.upgradePage.checkReady"},null,8,["value"])])):(0,s.createCommentVNode)("",!0),o.errors.length?((0,s.openBlock)(),(0,s.createBlock)(u,{key:2,color:"error"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(o.errors),1)])),_:1})):(0,s.createCommentVNode)("",!0)])])),footer:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",we,[(0,s.createElementVNode)("button",{class:"btn role-secondary mr-20",onClick:t[4]||(t[4]=(0,s.withModifiers)(((...e)=>n.cancel&&n.cancel(...e)),["prevent"]))},[(0,s.createVNode)(i,{k:"generic.close"})]),(0,s.createElementVNode)("button",{disabled:!o.readyReleaseNote,class:"btn role-tertiary bg-primary",onClick:t[5]||(t[5]=(0,s.withModifiers)(((...e)=>n.handleUpgrade&&n.handleUpgrade(...e)),["prevent"]))},[(0,s.createVNode)(i,{k:"harvester.upgradePage.upgrade"})],8,Ne)])])),_:1})):(0,s.createCommentVNode)("",!0)])):(0,s.createCommentVNode)("",!0)}var Ve=r(45001),Ae=r(9390),Be=r(77720),xe=r(35711),De=r(91806),Te={name:"HarvesterUpgrade",components:{Checkbox:Ve.S,ModalWithCard:Ae.A,LabeledSelect:Be.A,Banner:xe.l,UpgradeInfo:De.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=await(0,x.kR)({upgradeVersion:this.$store.dispatch(`${e}/findAll`,{type:fe.rk.SETTING}),versions:this.$store.dispatch(`${e}/findAll`,{type:fe.rk.VERSION}),upgrade:this.$store.dispatch(`${e}/findAll`,{type:fe.rk.UPGRADE})});this.upgrade=t.upgrade},data(){return{upgrade:[],upgradeMessage:[],errors:"",selectMode:!0,version:"",enableLogging:!0,readyReleaseNote:!1,isOpen:!1}},computed:{...(0,N.L8)(["currentCluster"]),latestUpgrade(){return this.upgrade?.find((e=>e.isLatestUpgrade))},isUpgradeInProgress(){return this.latestUpgrade&&!this.latestUpgrade.isUpgradeSucceeded&&!this.latestUpgrade.isUpgradeFailed},versionOptions(){const e=this.$store.getters["harvester/all"](fe.rk.VERSION);return e.map((e=>e.metadata.name))},currentVersion(){const e=this.$store.getters["harvester/byId"](fe.rk.SETTING,"server-version");return e.currentVersion||""},canEnableLogging(){return this.$store.getters["harvester/schemaFor"](fe.rk.UPGRADE_LOG)},releaseLink(){return`https://github.com/harvester/harvester/releases/tag/${this.version}`}},watch:{upgrade:{handler(e){let t=[];const r=e||[],s=r.find((e=>!!e.isLatestUpgrade));t=s?s.upgradeMessage:[],this["upgradeMessage"]=t},deep:!0},version(){this.readyReleaseNote=!1}},methods:{async handleUpgrade(){const e={type:fe.rk.UPGRADE,metadata:{generateName:"hvst-upgrade-",namespace:"harvester-system"},spec:{version:this.version}};this.canEnableLogging&&(e.spec.logEnabled=this.enableLogging);const t=await this.$store.dispatch("harvester/create",e);try{await t.save(),this.cancel()}catch(r){""!==r?.message&&(this.errors=r.message)}},cancel(){this.isOpen=!1,this.errors=""},open(){this.isOpen=!0}}};r(24529);const _e=(0,G.A)(Te,[["render",Ee],["__scopeId","data-v-728529db"]]);var Le=_e,Me=r(20652),Re=r(10257);b().extend(w()),b().extend(S());const Oe={memory:{format:{addSuffix:!0,firstSuffix:"B",increment:1024,maxExponent:99,maxPrecision:2,minExponent:0,startingExponent:0,suffix:"iB"}}},Ie=[{type:_.NW,spoofed:{location:{name:`${Me.KR}-c-cluster-resource`,params:{resource:fe.rk.HOST}},name:fe.rk.HOST}},{type:fe.rk.VM,spoofed:{location:{name:`${Me.KR}-c-cluster-resource`,params:{resource:fe.rk.VM}},name:fe.rk.VM}},{type:_.XG,spoofed:{location:{name:`${Me.KR}-c-cluster-resource`,params:{resource:fe.rk.NETWORK_ATTACHMENT}},name:fe.rk.NETWORK_ATTACHMENT,filterNamespace:["harvester-system"]}},{type:fe.rk.IMAGE,spoofed:{location:{name:`${Me.KR}-c-cluster-resource`,params:{resource:fe.rk.IMAGE}},name:fe.rk.IMAGE}},{type:_.YH,spoofed:{location:{name:`${Me.KR}-c-cluster-resource`,params:{resource:fe.rk.VOLUME}},name:fe.rk.VOLUME,filterNamespace:["cattle-monitoring-system"]}},{type:fe.rk.BLOCK_DEVICE,spoofed:{location:{name:`${Me.KR}-c-cluster-resource`,params:{resource:fe.rk.HOST}},name:fe.rk.BLOCK_DEVICE}}],Pe="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-nodes-1/rancher-cluster-nodes?orgId=1",Ue="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-1/rancher-cluster?orgId=1",Fe="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/harvester-vm-dashboard-1/vm-dashboard?orgId=1",He="cattle-monitoring-system/rancher-monitoring";var Ge={mixins:[he.A],components:{Loading:E.A,HardwareResourceGauge:ce,SortableTable:B.A,HarvesterUpgrade:Le,ResourceSummary:j,Tabbed:de.A,Tab:ue.A,DashboardMetrics:pe.A,Banner:V.A,MessageLink:A.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={vms:this.fetchClusterResources(fe.rk.VM),nodes:this.fetchClusterResources(_.NW),events:this.fetchClusterResources(_.ll),metricNodes:this.fetchClusterResources(_.$v.NODE),settings:this.fetchClusterResources(fe.rk.SETTING),services:this.fetchClusterResources(_.YV),metric:this.fetchClusterResources(_.$v.NODE),longhornNodes:this.fetchClusterResources(_.oe.NODES),longhornSettings:this.fetchClusterResources(_.oe.SETTINGS),_pods:this.$store.dispatch("harvester/findAll",{type:_.Sm})};(this.accessibleResources||[]).map((r=>(t[r.type]=this.$store.dispatch(`${e}/findAll`,{type:r.type}),null))),this.$store.getters[`${e}/schemaFor`](fe.rk.ADD_ONS)&&(t.addons=this.$store.dispatch(`${e}/findAll`,{type:fe.rk.ADD_ONS})),this.$store.getters[`${e}/schemaFor`](_.oe.NODES)&&(this.hasLonghornSchema=!0);const r=await(0,x.kR)(t);for(const a in r)this[a]=r[a];(0,x.DD)((0,me.Qr)(this.$store,this.currentCluster.id,[Pe,Ue],"harvester"),this,"showClusterMetrics","Determine cluster metrics"),(0,x.DD)((0,me.Qr)(this.$store,this.currentCluster.id,[Fe],"harvester"),this,"showVmMetrics","Determine vm metrics");const s=this.$store.getters[`${e}/all`](fe.rk.ADD_ONS);this.monitoring=s.find((e=>e.id===He)),this.enabledMonitoringAddon=this.monitoring?.spec?.enabled},data(){const e={...T.rh,canBeVariable:!0,width:130},t=[e,{name:"resource",label:"Resource",labelKey:"clusterIndexPage.sections.events.resource.label",value:"displayInvolvedObject",sort:["involvedObject.kind","involvedObject.name"],canBeVariable:!0},{align:"right",name:"date",label:"Date",labelKey:"clusterIndexPage.sections.events.date.label",value:"lastTimestamp",sort:"lastTimestamp:desc",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125,defaultSort:!0}];return{eventHeaders:t,constraints:[],events:[],nodeMetrics:[],nodes:[],metricNodes:[],vms:[],monitoring:{},VM_DASHBOARD_METRICS_URL:Fe,CLUSTER_METRICS_SUMMARY_URL:Ue,CLUSTER_METRICS_DETAIL_URL:Pe,showClusterMetrics:!1,showVmMetrics:!1,enabledMonitoringAddon:!1,hasLonghornSchema:!1}},computed:{...(0,N.L8)(["currentCluster"]),accessibleResources(){const e=this.$store.getters["currentProduct"].inStore;return Ie.filter((t=>this.$store.getters[`${e}/schemaFor`](t.type)))},totalCountGaugeInput(){const e={};return this.accessibleResources.forEach((t=>{const r=F(this.$store,t.type);if(e[t.type]={resource:t.type},Object.entries(r).forEach((r=>{e[t.type][r[0]]=r[1]})),t.spoofed){if(t.spoofed?.filterNamespace&&Array.isArray(t.spoofed.filterNamespace)){const r=this.$store.getters["harvester/all"](_.i2)[0].counts,s=r[t.type]||{};for(let a=0;a<t.spoofed.filterNamespace.length;a++){const r=s?.namespaces?.[t.spoofed.filterNamespace[a]]||{};r.count&&(e[t.type]["useful"]-=r.count,e[t.type]["total"]-=r.count),Object.entries(r?.states||{}).forEach((r=>{const s=(0,P.uU)(r[0]),a=r[1],o=U(s);e[t.type]["useful"]-=a,e[t.type][o]+=a}))}}e[t.type]={...e[t.type],...t.spoofed,isSpoofed:!0},e[t.type].name=this.t(`typeLabel."${t.spoofed.name}"`,{count:e[t.type].total})}if(t.type===fe.rk.BLOCK_DEVICE){let r=0,s=0;(this.nodes||[]).map((e=>{r+=e.diskStatusCount.total,s+=e.diskStatusCount.errorCount})),e[t.type]={...e[t.type],total:r,errorCount:s,useful:r-s}}})),e},currentVersion(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](fe.rk.SETTING,"server-version");return t?.value||t?.default},firstNodeCreationTimestamp(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](_.NW).map((e=>b()(e.metadata.creationTimestamp)));return t.length?b().min(t).utc().format():b()().utc().format()},cpusTotal(){let e=0;return this.metricNodes.forEach((t=>{e+=t.cpuCapacity})),e},cpusUsageTotal(){let e=0;return this.metricNodes.forEach((t=>{e+=t.cpuUsage})),e},memoryTotal(){let e=0;return this.metricNodes.forEach((t=>{e+=t.memoryCapacity})),e},memoryUsageTotal(){let e=0;return this.metricNodes.forEach((t=>{e+=t.memoryUsage})),e},storageStats(){const e=this.longhornSettings.find((e=>"longhorn-system/storage-over-provisioning-percentage"===e.id)),t=this.longhornNodes.reduce(((e,t)=>{const r=t?.spec?.disks||{},s=t?.status?.diskStatus||{};return e.used+=t?.spec?.allowScheduling?t.used:0,Object.keys(r).map((a=>{e.scheduled+=t?.spec?.allowScheduling&&s[a]?.storageScheduled||0,e.reserved+=r[a]?.storageReserved||0})),Object.values(s).map((t=>{e.maximum+=t?.storageMaximum||0})),e}),{used:0,scheduled:0,maximum:0,reserved:0,total:0});return t.total=(t.maximum-t.reserved)*Number(e?.value??0)/100,t},storageUsed(){const e=this.storageStats;return this.createMemoryValues(e.maximum,e.used)},storageAllocated(){const e=this.storageStats;return this.createMemoryValues(e.total,e.scheduled)},vmEvents(){return this.events.filter((e=>["VirtualMachineInstance","VirtualMachine"].includes(e.involvedObject.kind)))},volumeEvents(){return this.events.filter((e=>["PersistentVolumeClaim"].includes(e.involvedObject.kind)))},hostEvents(){return this.events.filter((e=>["Node"].includes(e.involvedObject.kind)))},imageEvents(){return this.events.filter((e=>["VirtualMachineImage"].includes(e.involvedObject.kind)))},hasMetricsTabs(){return this.showClusterMetrics||this.showVmMetrics},pods(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](_.Sm)||[];return t.filter((e=>"removing"!==e?.metadata?.name))},cpuReserved(){const e=this.nodes.reduce(((e,t)=>e+t.cpuReserved),0);return{total:this.cpusTotal,useful:e}},ramReserved(){const e=this.nodes.reduce(((e,t)=>e+t.memoryReserved),0);return(0,D.S0)(this.memoryTotal,e)},availableNodes(){return(this.metricNodes||[]).map((e=>e.id))},metricAggregations(){const e=this.nodes,t=this.nodes.some((e=>e.hasARole&&!e.isWorker)),r=this.nodeMetrics.filter((r=>{const s=e.find((e=>e.id===r.id));return s&&(!t||s.isWorker)})),s={cpu:0,memory:0};return(0,ge.Im)(r)?null:r.reduce(((e,t)=>(e.cpu+=(0,D.ao)(t.usage.cpu),e.memory+=(0,D.ao)(t.usage.memory),e)),s)},cpuUsed(){return{total:this.cpusTotal,useful:this.metricAggregations?.cpu}},ramUsed(){return(0,D.S0)(this.memoryTotal,this.metricAggregations?.memory)},hasMetricNodeSchema(){const e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters[`${e}/schemaFor`](_.$v.NODE)},toEnableMonitoringAddon(){return`${fe.rk.ADD_ONS}/cattle-monitoring-system/rancher-monitoring?mode=edit#alertmanager`},canEnableMonitoringAddon(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/schemaFor`](fe.rk.ADD_ONS);return t&&this.monitoring}},methods:{createMemoryValues(e,t){const r=(0,D.ao)((e||"0").toString()),s=(0,D.ao)((t||"0").toString()),a=this.createMemoryFormat(r),o=(0,D.Mo)(r,a);let n=(0,D.Mo)(s,{...a,addSuffix:!1});return!Number.parseFloat(n)>0&&(n=(0,D.Mo)(s,{...a,canRoundToZero:!1})),{total:Number(r),useful:Number(s),formattedTotal:o,formattedUseful:n,units:this.createMemoryUnits(r)}},createMemoryFormat(e){const t=(0,D.$W)(e,Oe.memory.format.increment);return{...Oe.memory.format,maxExponent:t,minExponent:t}},createMemoryUnits(e){const t=(0,D.$W)(e,Oe.memory.format.increment);return`${D.QN[t]}${Oe.memory.format.suffix}`},async fetchClusterResources(e,t={},r){const s=r||this.$store.getters["currentProduct"].inStore,a=this.$store.getters[`${s}/schemaFor`](e);if(a)try{const r=await this.$store.dispatch(`${s}/findAll`,{type:e,opt:t});return r}catch(o){return Re.error(`Failed fetching cluster resource ${e} with error:`,o),[]}return[]},async loadMetrics(){this.nodeMetrics=await this.fetchClusterResources(_.$v.NODE,{force:!0})}}};r(57756);const Ke=(0,G.A)(Ge,[["render",k],["__scopeId","data-v-69bd7a3f"]]);var je=Ke},97341:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var s=r(9274);const a=e=>((0,s.pushScopeId)("data-v-748b0729"),e=e(),(0,s.popScopeId)(),e),o={key:1},n={class:"console-button"},i=["disabled","onClick"],l=["href"],c=a((()=>(0,s.createElementVNode)("i",{class:"icon icon-info"},null,-1))),d=[c];function u(e,t,r,a,c,u){const p=(0,s.resolveComponent)("Loading"),h=(0,s.resolveComponent)("ResourceTable"),m=(0,s.resolveDirective)("clean-tooltip");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(p,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("div",o,[(0,s.createVNode)(h,(0,s.mergeProps)(e.$attrs,{schema:u.schema,groupable:!1,headers:u.headers,rows:[...c.rows],namespaced:!1,"key-field":"_key"}),{"cell:console":(0,s.withCtx)((({row:t})=>[(0,s.createElementVNode)("div",n,[(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("button",{type:"button",class:"mr-5 btn btn-sm role-primary",disabled:!t.consoleUrl,onClick:e=>u.goto(t)},[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.host.console")),1)],8,i)),[[m,u.consoleTooltip(t)]]),t.consoleUrl?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("a",{key:0,href:u.consoleDocLink,target:"_blank"},d,8,l))])])),_:1},16,["schema","headers","rows"])]))}var p=r(25769),h=r(39053),m=r(94385),g=r(21835),f=r(29694),v=r(32069),k=r(32766),y=r(66242),b=r(3791);const C={id:k.rk.HOST,type:g.yx,attributes:{kind:k.rk.HOST,namespaced:!0},metadata:{name:k.rk.HOST}};var S={name:"HarvesterListHost",components:{ResourceTable:p.A,Loading:h.A},mixins:[v.A],async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={nodes:this.$store.dispatch(`${e}/findAll`,{type:g.NW}),pods:this.$store.dispatch(`${e}/findAll`,{type:g.Sm})};this.$store.getters[`${e}/schemaFor`](g.$v.NODE)?t.metric=this.$store.dispatch(`${e}/findAll`,{type:g.$v.NODE}):this.hasMetricSchema=!1,this.$store.getters[`${e}/schemaFor`](g.oe.NODES)?t.longhornNodes=this.$store.dispatch(`${e}/findAll`,{type:g.oe.NODES}):this.hasLonghornSchema=!1,this.$store.getters[`${e}/schemaFor`](k.rk.BLOCK_DEVICE)&&(t.blockDevices=this.$store.dispatch(`${e}/findAll`,{type:k.rk.BLOCK_DEVICE})),this.$store.getters[`${e}/schemaFor`](k.rk.INVENTORY)&&(t.inventories=this.$store.dispatch(`${e}/findAll`,{type:k.rk.INVENTORY})),this.$store.getters[`${e}/schemaFor`](g.qt.MACHINE)&&(t.machines=this.$store.dispatch(`${e}/findAll`,{type:g.qt.MACHINE}));const r=await(0,f.kR)(t);this.rows=r.nodes},data(){return{rows:[],hasMetricSchema:!0,hasLonghornSchema:!0}},computed:{headers(){const e=[{...m.c4,formatter:"StateWithPopover"},{...m.o_,width:130},{name:"host-ip",labelKey:"tableHeaders.hostIp",search:["internalIp"],value:"internalIp",formatter:"CopyToClipboard",sort:["internalIp"],align:"center"}];if(this.hasMetricSchema){const t=[{name:"cpu",labelKey:"node.detail.glance.consumptionGauge.cpu",value:"id",formatter:"HarvesterCPUUsed",formatterOpts:{showUsed:!0}},{name:"memory",labelKey:"node.detail.glance.consumptionGauge.memory",value:"id",formatter:"HarvesterMemoryUsed",formatterOpts:{showUsed:!0}}];e.splice(-1,0,...t)}if(this.hasLonghornSchema){const t={name:"storage",labelKey:"tableHeaders.storage",value:"id",formatter:"HarvesterStorageUsed",formatterOpts:{showAllocated:!0}};e.splice(-1,0,t)}return this.rows.every((e=>e.cpuPinningFeatureEnabled))&&e.push({name:"cpuManager",labelKey:"harvester.tableHeaders.cpuManager",value:"id",formatter:"HarvesterCPUPinning",formatterOpts:{rows:this.rows},width:150,align:"center"}),this.hasLonghornSchema&&e.push({name:"diskState",labelKey:"tableHeaders.diskState",value:"diskState",formatter:"HarvesterDiskState",width:130}),e.push(m.K),e.push({name:"console",label:" ",align:"right",width:80}),e},schema(){return C},consoleDocLink(){const e=this.$store.getters["harvester-common/getServerVersion"]();return(0,b.nn)(y.d.CONSOLE_URL,e)}},methods:{async loadMetrics(){const e=this.$store.getters["harvester/schemaFor"](g.$v.NODE);e&&(await this.$store.dispatch("harvester/findAll",{type:g.$v.NODE,opt:{force:!0}}),this.$forceUpdate())},goto(e){window.open(e.consoleUrl,"_blank")},consoleTooltip(e){return e.consoleUrl?"":this.t("harvester.host.noConsoleUrl")}},typeDisplay(){const{params:{resource:e}}=this.$route;let t=C;return e!==C.id&&(t=this.$store.getters["harvester/schemaFor"](e)),this.$store.getters["type-map/labelFor"](t,99)}},$=(r(59211),r(47433));const w=(0,$.A)(S,[["render",u],["__scopeId","data-v-748b0729"]]);var N=w},78646:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(9274);const a={key:1};function o(e,t,r,o,n,i){const l=(0,s.resolveComponent)("Loading"),c=(0,s.resolveComponent)("MessageLink"),d=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(l,{key:0})):n.listSchema?((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[!1===i.loggingEnabled?((0,s.openBlock)(),(0,s.createBlock)(d,{key:0,color:"info"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(c,{to:i.to,"prefix-label":"harvester.logging.diabledTips.prefix","middle-label":"harvester.logging.diabledTips.middle","suffix-label":"harvester.logging.diabledTips.suffix"},null,8,["to"])])),_:1})):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(u,{schema:i.schema,rows:n.rows,"ignore-filter":!0,groupable:!1},null,8,["schema","rows"])])):((0,s.openBlock)(),(0,s.createBlock)(d,{key:2,color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.generic.noSchema",{schema:i.schema.id})),1)])),_:1}))}var n=r(29694),i=r(25769),l=r(79332),c=r(41201),d=r(39053),u=r(21835),p=r(32766);const h={id:p.rk.CLUSTER_FLOW,type:u.yx,attributes:{kind:p.rk.CLUSTER_FLOW,namespaced:!0},metadata:{name:p.rk.CLUSTER_FLOW}},m="cattle-logging-system/rancher-logging";var g={name:"ListApps",components:{Loading:d.A,ResourceTable:i.A,Banner:l.A,MessageLink:c.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={};this.listSchema=this.$store.getters[`${e}/schemaFor`](u.cm.CLUSTER_FLOW),this.listSchema&&(t.clusteroutput=this.$store.dispatch(`${e}/findAll`,{type:u.cm.CLUSTER_OUTPUT}),t.rows=this.$store.dispatch(`${e}/findAll`,{type:u.cm.CLUSTER_FLOW})),this.$store.getters[`${e}/schemaFor`](p.rk.ADD_ONS)&&(t.loggingAddon=this.$store.dispatch(`${e}/find`,{type:p.rk.ADD_ONS,id:m}));const r=await(0,n.kR)(t);this.rows=r.rows,this.loggingAddon=r.loggingAddon,this.$store.dispatch("type-map/configureType",{match:p.rk.CLUSTER_FLOW,isCreatable:this.listSchema&&this.listSchema?.collectionMethods.find((e=>"post"===e.toLowerCase()))})},data(){return{rows:[],listSchema:null,loggingAddon:null}},computed:{schema(){return h},to(){return`${p.rk.ADD_ONS}/cattle-logging-system/rancher-logging?mode=edit#basic`},loggingEnabled(){return this.loggingAddon?.spec?.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](h,99)}},f=r(47433);const v=(0,f.A)(g,[["render",o]]);var k=v},56497:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(9274);const a={key:1};function o(e,t,r,o,n,i){const l=(0,s.resolveComponent)("Loading"),c=(0,s.resolveComponent)("MessageLink"),d=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(l,{key:0})):n.listSchema?((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[!1===i.loggingEnabled?((0,s.openBlock)(),(0,s.createBlock)(d,{key:0,color:"info"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(c,{to:i.to,"prefix-label":"harvester.logging.diabledTips.prefix","middle-label":"harvester.logging.diabledTips.middle","suffix-label":"harvester.logging.diabledTips.suffix"},null,8,["to"])])),_:1})):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(u,{schema:i.schema,rows:n.rows,"ignore-filter":!0,groupable:!1},null,8,["schema","rows"])])):((0,s.openBlock)(),(0,s.createBlock)(d,{key:2,color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.generic.noSchema",{schema:i.schema.id})),1)])),_:1}))}var n=r(29694),i=r(25769),l=r(79332),c=r(41201),d=r(39053),u=r(21835),p=r(32766);const h={id:p.rk.CLUSTER_OUTPUT,type:u.yx,attributes:{kind:p.rk.CLUSTER_OUTPUT,namespaced:!0},metadata:{name:p.rk.CLUSTER_OUTPUT}},m="cattle-logging-system/rancher-logging";var g={name:"ListApps",components:{Loading:d.A,ResourceTable:i.A,Banner:l.A,MessageLink:c.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={};this.listSchema=this.$store.getters[`${e}/schemaFor`](u.cm.CLUSTER_OUTPUT),this.listSchema&&(t.rows=this.$store.dispatch(`${e}/findAll`,{type:u.cm.CLUSTER_OUTPUT})),this.$store.getters[`${e}/schemaFor`](p.rk.ADD_ONS)&&(t.loggingAddon=this.$store.dispatch(`${e}/find`,{type:p.rk.ADD_ONS,id:m}));const r=await(0,n.kR)(t);this.rows=r.rows,this.loggingAddon=r.loggingAddon,this.$store.dispatch("type-map/configureType",{match:p.rk.CLUSTER_OUTPUT,isCreatable:this.listSchema&&this.listSchema?.collectionMethods.find((e=>"post"===e.toLowerCase()))})},data(){return{rows:[],listSchema:null,loggingAddon:null}},computed:{schema(){return h},to(){return`${p.rk.ADD_ONS}/cattle-logging-system/rancher-logging?mode=edit#basic`},loggingEnabled(){return this.loggingAddon?.spec?.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](h,99)}},f=r(47433);const v=(0,f.A)(g,[["render",o]]);var k=v},81342:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(9274);const a={key:1};function o(e,t,r,o,n,i){const l=(0,s.resolveComponent)("Loading"),c=(0,s.resolveComponent)("MessageLink"),d=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(l,{key:0})):n.listSchema?((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[!1===i.loggingEnabled?((0,s.openBlock)(),(0,s.createBlock)(d,{key:0,color:"info"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(c,{to:i.to,"prefix-label":"harvester.logging.diabledTips.prefix","middle-label":"harvester.logging.diabledTips.middle","suffix-label":"harvester.logging.diabledTips.suffix"},null,8,["to"])])),_:1})):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(u,{schema:i.schema,rows:n.rows,"ignore-filter":!0,groupable:!1},null,8,["schema","rows"])])):((0,s.openBlock)(),(0,s.createBlock)(d,{key:2,color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.generic.noSchema",{schema:i.schema.id})),1)])),_:1}))}var n=r(29694),i=r(25769),l=r(79332),c=r(41201),d=r(39053),u=r(21835),p=r(32766);const h={id:p.rk.FLOW,type:u.yx,attributes:{kind:p.rk.FLOW,namespaced:!0},metadata:{name:p.rk.FLOW}},m="cattle-logging-system/rancher-logging";var g={name:"ListApps",components:{Loading:d.A,ResourceTable:i.A,Banner:l.A,MessageLink:c.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={};this.listSchema=this.$store.getters[`${e}/schemaFor`](u.cm.FLOW),this.clusteroutputSchema=this.$store.getters[`${e}/schemaFor`](u.cm.CLUSTER_OUTPUT),this.listSchema&&(t.output=this.$store.dispatch(`${e}/findAll`,{type:u.cm.OUTPUT}),t.rows=this.$store.dispatch(`${e}/findAll`,{type:u.cm.FLOW})),this.clusteroutputSchema&&(t.clusteroutput=this.$store.dispatch(`${e}/findAll`,{type:u.cm.CLUSTER_OUTPUT})),this.$store.getters[`${e}/schemaFor`](p.rk.ADD_ONS)&&(t.loggingAddon=this.$store.dispatch(`${e}/find`,{type:p.rk.ADD_ONS,id:m}));const r=await(0,n.kR)(t);this.rows=r.rows,this.loggingAddon=r.loggingAddon,this.$store.dispatch("type-map/configureType",{match:p.rk.FLOW,isCreatable:this.listSchema&&this.listSchema?.collectionMethods.find((e=>"post"===e.toLowerCase()))})},data(){return{rows:[],listSchema:null,loggingAddon:null}},computed:{schema(){return h},to(){return`${p.rk.ADD_ONS}/cattle-logging-system/rancher-logging?mode=edit#basic`},loggingEnabled(){return this.loggingAddon?.spec?.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](h,99)}},f=r(47433);const v=(0,f.A)(g,[["render",o]]);var k=v},65391:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(9274);const a={key:1};function o(e,t,r,o,n,i){const l=(0,s.resolveComponent)("Loading"),c=(0,s.resolveComponent)("MessageLink"),d=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(l,{key:0})):n.listSchema?((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[!1===i.loggingEnabled?((0,s.openBlock)(),(0,s.createBlock)(d,{key:0,color:"info"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(c,{to:i.to,"prefix-label":"harvester.logging.diabledTips.prefix","middle-label":"harvester.logging.diabledTips.middle","suffix-label":"harvester.logging.diabledTips.suffix"},null,8,["to"])])),_:1})):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(u,{schema:i.schema,rows:n.rows,"ignore-filter":!0,groupable:!1},null,8,["schema","rows"])])):((0,s.openBlock)(),(0,s.createBlock)(d,{key:2,color:"warning"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.generic.noSchema",{schema:i.schema.id})),1)])),_:1}))}var n=r(29694),i=r(25769),l=r(79332),c=r(41201),d=r(39053),u=r(21835),p=r(32766);const h={id:p.rk.OUTPUT,type:u.yx,attributes:{kind:p.rk.OUTPUT,namespaced:!0},metadata:{name:p.rk.OUTPUT}},m="cattle-logging-system/rancher-logging";var g={name:"ListApps",components:{Loading:d.A,ResourceTable:i.A,Banner:l.A,MessageLink:c.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={};this.listSchema=this.$store.getters[`${e}/schemaFor`](u.cm.OUTPUT),this.listSchema&&(t.rows=this.$store.dispatch(`${e}/findAll`,{type:u.cm.OUTPUT})),this.$store.getters[`${e}/schemaFor`](p.rk.ADD_ONS)&&(t.loggingAddon=this.$store.dispatch(`${e}/find`,{type:p.rk.ADD_ONS,id:m}));const r=await(0,n.kR)(t);this.rows=r.rows,this.loggingAddon=r.loggingAddon,this.$store.dispatch("type-map/configureType",{match:p.rk.OUTPUT,isCreatable:this.listSchema&&this.listSchema?.collectionMethods.find((e=>"post"===e.toLowerCase()))})},data(){return{rows:[],listSchema:null,loggingAddon:null}},computed:{schema(){return h},to(){return`${p.rk.ADD_ONS}/cattle-logging-system/rancher-logging?mode=edit#basic`},loggingEnabled(){return this.loggingAddon?.spec?.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](h,99)}},f=r(47433);const v=(0,f.A)(g,[["render",o]]);var k=v},49610:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(9274);const a={key:1};function o(e,t,r,o,n,i){const l=(0,s.resolveComponent)("Loading"),c=(0,s.resolveComponent)("MessageLink"),d=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(l,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[!1===i.monitoringEnabled?((0,s.openBlock)(),(0,s.createBlock)(d,{key:0,color:"info"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(c,{to:i.to,"prefix-label":"harvester.monitoring.alertmanagerConfig.diabledMonitoringTips.prefix","middle-label":"harvester.monitoring.alertmanagerConfig.diabledMonitoringTips.middle","suffix-label":"harvester.monitoring.alertmanagerConfig.diabledMonitoringTips.suffix"},null,8,["to"])])),_:1})):(0,s.createCommentVNode)("",!0),!1===i.alertingEnabled?((0,s.openBlock)(),(0,s.createBlock)(d,{key:1,color:"info"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(c,{to:i.to,"prefix-label":"harvester.monitoring.alertmanagerConfig.diabledAlertingTips.prefix","middle-label":"harvester.monitoring.alertmanagerConfig.diabledAlertingTips.middle","suffix-label":"harvester.monitoring.alertmanagerConfig.diabledAlertingTips.suffix"},null,8,["to"])])),_:1})):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(d,{color:"info"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("monitoring.alertmanagerConfig.description")),1)])),_:1}),(0,s.createVNode)(u,(0,s.mergeProps)(e.$attrs,{groupable:!0,schema:i.schema,rows:n.rows,"key-field":"_key"}),null,16,["schema","rows"])]))}var n=r(20246),i=r.n(n),l=r(29694),c=r(35711),d=r(41201),u=r(25769),p=r(39053),h=r(21835),m=r(32766);const g={id:m.rk.ALERTMANAGERCONFIG,type:h.yx,attributes:{kind:m.rk.ALERTMANAGERCONFIG,namespaced:!0},metadata:{name:m.rk.ALERTMANAGERCONFIG}},f="cattle-monitoring-system/rancher-monitoring";var v={name:"ListAlertManagerConfigs",components:{Banner:c.l,Loading:p.A,ResourceTable:u.A,MessageLink:d.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={rows:this.$store.dispatch(`${e}/findAll`,{type:h.Rp.ALERTMANAGERCONFIG})};this.$store.getters[`${e}/schemaFor`](m.rk.ADD_ONS)&&(t.monitoring=this.$store.dispatch(`${e}/find`,{type:m.rk.ADD_ONS,id:f}));const r=await(0,l.kR)(t);this.rows=r.rows,this.monitoringAddon=r.monitoring;const s=this.$store.getters[`${e}/schemaFor`](h.Rp.ALERTMANAGERCONFIG);this.$store.dispatch("type-map/configureType",{match:m.rk.ALERTMANAGERCONFIG,isCreatable:s?.collectionMethods.find((e=>"post"===e.toLowerCase()))})},data(){return{rows:null,monitoringAddon:null}},computed:{schema(){return g},to(){return`${m.rk.ADD_ONS}/cattle-monitoring-system/rancher-monitoring?mode=edit#alertmanager`},monitoringEnabled(){return this.monitoringAddon?.spec?.enabled},alertingEnabled(){const e=i().load(this.monitoringAddon?.spec?.valuesContent);return e?.alertmanager?.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](g,99)}},k=(r(14614),r(47433));const y=(0,k.A)(v,[["render",o],["__scopeId","data-v-a0eea6e4"]]);var b=y},42148:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(9274);const a={key:1},o={key:1};function n(e,t,r,n,i,l){const c=(0,s.resolveComponent)("Loading"),d=(0,s.resolveComponent)("Masthead"),u=(0,s.resolveComponent)("router-link"),p=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(c,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[(0,s.createVNode)(d,{schema:r.schema,resource:i.resource,"type-display":l.typeDisplay,"parent-name-override":"Virtual Machine schedule","create-button-label":e.t("harvester.schedule.createButtonText")},null,8,["schema","resource","type-display","create-button-label"]),(0,s.createVNode)(p,(0,s.mergeProps)(e.$attrs,{headers:l.headers,groupable:!0,rows:l.filteredRows,schema:r.schema,"key-field":"_key","default-sort-by":"age"}),{"col:name":(0,s.withCtx)((({row:e})=>[(0,s.createElementVNode)("td",null,[(0,s.createElementVNode)("span",null,[l.getRow(e)?((0,s.openBlock)(),(0,s.createBlock)(u,{key:0,to:e.detailLocation},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.nameDisplay),1)])),_:2},1032,["to"])):((0,s.openBlock)(),(0,s.createElementBlock)("span",o,(0,s.toDisplayString)(e.nameDisplay),1))])])])),_:1},16,["headers","rows","schema"])]))}var i=r(39053),l=r(43761),c=r(25769),d=r(32766),u=r(5662),p=r(94385),h=r(1371),m=r(41837),g={name:"HarvesterListSchedule",components:{ResourceTable:c.A,Loading:i.A,Masthead:l.A},props:{schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=await(0,u.v)({vms:this.$store.dispatch(`${e}/findAll`,{type:d.rk.VM}),rows:this.$store.dispatch(`${e}/findAll`,{type:d.rk.SCHEDULE_VM_BACKUP})});this.rows=t.rows},data(){const e={...this.$route.params},t=e.resource;return{rows:[],settings:[],resource:t,to:`${d.rk.SETTING}/backup-target?mode=edit`}},computed:{headers(){const e=[p.c4,p.o_,p.CU,{name:"sourceVm",labelKey:"harvester.tableHeaders.sourceVm",value:"spec.vmbackup.source.name",sort:"sourceVm",align:"center",formatter:"AttachVMWithName"},h.lA,h.tC,h.KG,h.iu,p.K];return e},filteredRows(){return this.rows.filter((e=>e.spec?.type!==m.a.SNAPSHOT))},typeDisplay(){return this.t("harvester.schedule.label")}},methods:{getRow(e){return e.spec?.vmbackup?.source?.name}}},f=r(47433);const v=(0,f.A)(g,[["render",n]]);var k=v},60633:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(9274);function a(e,t,r,a,o,n){const i=(0,s.resolveComponent)("Loading"),l=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(i,{key:0})):((0,s.openBlock)(),(0,s.createBlock)(l,(0,s.mergeProps)({key:1},e.$attrs,{groupable:!0,schema:n.schema,rows:o.rows,"key-field":"_key"}),null,16,["schema","rows"]))}var o=r(25769),n=r(39053),i=r(21835),l=r(32766);const c={id:l.rk.SECRET,type:i.yx,attributes:{kind:l.rk.SECRET,namespaced:!0},metadata:{name:l.rk.SECRET}};var d={name:"HarvesterSecret",components:{ResourceTable:o.A,Loading:n.A},inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore;this.rows=await this.$store.dispatch(`${e}/findAll`,{type:i.bB});const t=this.$store.getters[`${e}/schemaFor`](i.bB);t?.collectionMethods.find((e=>"post"===e.toLowerCase()))||this.$store.dispatch("type-map/configureType",{match:l.rk.SECRET,isCreatable:!1})},data(){return{rows:[]}},computed:{schema(){return c}},typeDisplay(){return this.$store.getters["type-map/labelFor"](c,99)}},u=r(47433);const p=(0,u.A)(d,[["render",a]]);var h=p},36441:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return W}});var s=r(9274);const a={key:1};function o(e,t,r,o,n,i){const l=(0,s.resolveComponent)("Loading"),c=(0,s.resolveComponent)("Banner"),d=(0,s.resolveComponent)("Settings"),u=(0,s.resolveComponent)("Tab"),p=(0,s.resolveComponent)("Tabbed");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(l,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[(0,s.createVNode)(c,{color:"warning",class:"settings-banner"},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",null,(0,s.toDisplayString)(e.t("harvester.setting.modifiedMessage")),1)])),_:1}),(0,s.createVNode)(p,{class:"mt-30"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(u,{name:"advanced",label:e.t("harvester.setting.tabs.advanced"),weight:99},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(d,{settings:i.settings,category:"advanced"},null,8,["settings"])])),_:1},8,["label"]),(0,s.createVNode)(u,{name:"ui",label:e.t("harvester.setting.tabs.ui"),weight:89},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(d,{settings:i.settings,category:"ui"},null,8,["settings"])])),_:1},8,["label"])])),_:1})]))}var n=r(65359),i=r(35711),l=r(39053),c=r(51423),d=r(21835),u=r(29694),p=r(12683),h=r(22760);const m=e=>((0,s.pushScopeId)("data-v-5b7931f6"),e=e(),(0,s.popScopeId)(),e),g={class:"header"},f={class:"title"},v={key:0,class:"modified"},k={key:1,class:"experimental"},y=["id"],b=["onClick"],C=m((()=>(0,s.createElementVNode)("i",{class:"icon icon-actions"},null,-1))),S=[C],$={value:""},w={key:0,class:"settings-value"},N={key:0},E={key:1},V={key:2},A={key:3},B={key:4},x={key:5,class:"text-muted"},D={class:"mt-5"},T=["onClick"],_=["onClick"];function L(e,t,r,a,o,n){const i=(0,s.resolveComponent)("AsyncButton"),l=(0,s.resolveComponent)("Banner"),c=(0,s.resolveDirective)("clean-tooltip"),d=(0,s.resolveDirective)("clean-html");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.categorySettings,((t,r)=>((0,s.openBlock)(),(0,s.createElementBlock)("div",{key:r,class:"advanced-setting mb-20"},[(0,s.createElementVNode)("div",g,[(0,s.createElementVNode)("div",f,[(0,s.createElementVNode)("h1",null,[(0,s.createTextVNode)((0,s.toDisplayString)(t.id)+" ",1),t.customized?((0,s.openBlock)(),(0,s.createElementBlock)("span",v," Modified ")):(0,s.createCommentVNode)("",!0),t.experimental?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("span",k,[(0,s.createTextVNode)(" Experimental ")])),[[c,e.t("advancedSettings.experimental")]]):(0,s.createCommentVNode)("",!0)]),(0,s.withDirectives)((0,s.createElementVNode)("h2",null,null,512),[[d,e.t(t.description,{},!0)]])]),t.hasActions?((0,s.openBlock)(),(0,s.createElementBlock)("div",{key:0,id:t.id,class:"action"},[(0,s.createElementVNode)("button",{"aria-haspopup":"true","aria-expanded":"false",type:"button",class:"btn btn-sm role-multi-action actions",onClick:e=>n.showActionMenu(e,t)},S,8,b)],8,y)):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("div",$,[t.hide?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",w,["json"===t.kind?((0,s.openBlock)(),(0,s.createElementBlock)("pre",N,(0,s.toDisplayString)(t.json),1)):"multiline"===t.kind?((0,s.openBlock)(),(0,s.createElementBlock)("pre",E,(0,s.toDisplayString)(t.data.value||t.data.default),1)):"enum"===t.kind?((0,s.openBlock)(),(0,s.createElementBlock)("pre",V,(0,s.toDisplayString)(e.t(t.enum)),1)):"custom"===t.kind&&t.custom?((0,s.openBlock)(),(0,s.createElementBlock)("pre",A,(0,s.toDisplayString)(t.custom),1)):t.data.value||t.data.default?((0,s.openBlock)(),(0,s.createElementBlock)("pre",B,(0,s.toDisplayString)(t.data.value||t.data.default),1)):((0,s.openBlock)(),(0,s.createElementBlock)("pre",x,"<"+(0,s.toDisplayString)(e.t("advancedSettings.none"))+">",1))])),(0,s.createElementVNode)("div",D,[t.hide?((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:0,class:"btn btn-sm role-primary",onClick:e=>n.toggleHide(t)},(0,s.toDisplayString)(e.t("advancedSettings.show"))+" "+(0,s.toDisplayString)(t.id),9,T)):(0,s.createCommentVNode)("",!0),t.canHide&&!t.hide?((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:1,class:"btn btn-sm role-primary",onClick:e=>n.toggleHide(t)},(0,s.toDisplayString)(e.t("advancedSettings.hide"))+" "+(0,s.toDisplayString)(t.id),9,_)):(0,s.createCommentVNode)("",!0),t.id===o.HCI_SETTING.BACKUP_TARGET?((0,s.openBlock)(),(0,s.createBlock)(i,{key:2,class:"backupButton ml-5",mode:"apply",size:"sm",delay:0,"action-label":e.t("harvester.backup.message.testConnect.actionLabel"),"waiting-label":e.t("harvester.backup.message.testConnect.waitingLabel"),"success-label":e.t("harvester.backup.message.testConnect.successLabel"),onClick:e=>n.testConnect(e,t.data.value)},null,8,["action-label","waiting-label","success-label","onClick"])):(0,s.createCommentVNode)("",!0)])]),t.data.errMessage?((0,s.openBlock)(),(0,s.createBlock)(l,{key:0,color:"error mt-5",class:"settings-banner"},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(t.data.errMessage),1)])),_:2},1024)):(0,s.createCommentVNode)("",!0)])))),128))])}var M=r(48251),R=r(50889);const O={ui:["branding","ui-source","ui-plugin-index","ui-index"]};var I={name:"SettingLists",components:{AsyncButton:M.A,Banner:i.l},props:{settings:{type:Array,required:!0},category:{type:String,required:!0}},data(){const e=this.filterCategorySettings();return{HCI_SETTING:R.EP,categorySettings:e}},computed:{...(0,n.L8)({t:"i18n/t"})},watch:{settings:{deep:!0,handler(){this["categorySettings"]=this.filterCategorySettings()}}},methods:{filterCategorySettings(){return this.settings.filter((e=>{if(!this.getFeatureEnabled(e.featureFlag))return!1;if("advanced"!==this.category)return(O[this.category]||[]).find((t=>t===e.id));if("advanced"===this.category){const t=Object.keys(O);return!t.some((t=>(O[t]||[]).find((t=>t===e.id))))}}))||[]},getFeatureEnabled(e){return!e||this.$store.getters["harvester-common/getFeatureEnabled"](e)},showActionMenu(e,t){const r=e.srcElement;this.$store.commit("action-menu/show",{resources:t.data,elem:r})},getSettingOption(e){return R.gh.find((t=>t.id===e))},toggleHide(e){this.categorySettings.find((t=>{t.id===e.id&&(t.hide=!t.hide)}))},async testConnect(e,t){try{const r=this.$store.getters["harvester-common/getHarvesterClusterUrl"]("v1/harvester/backuptarget/healthz"),s=await this.$store.dispatch("harvester/request",{url:r}),a=JSON.parse(t);200===s?._status&&this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.backup.message.testConnect.successMessage",{endpoint:a?.endpoint})},{root:!0}),e(!0)}catch(r){400!==r?._status&&503!==r?._status||this.$store.dispatch("growl/error",{title:this.t("harvester.notification.title.error"),message:r?.errors[0]},{root:!0}),e(!1)}}}},P=(r(88493),r(47433));const U=(0,P.A)(I,[["render",L],["__scopeId","data-v-5b7931f6"]]);var F=U,H=r(32766),G=r(10257),K={components:{Banner:i.l,Loading:l.A,Tabbed:p.A,Tab:h.A,Settings:F},async fetch(){let e;try{e=this.$store.getters["prefs/get"](c.HZ)}catch{e=this.$store.getters["prefs/get"](c.IJ)}const t=!!this.$store.getters["isSingleProduct"],r=this.$store.getters["currentProduct"].inStore,s={harvesterSettings:this.$store.dispatch(`${r}/findAll`,{type:H.rk.SETTING})};t&&(s.settings=this.$store.dispatch("management/findAll",{type:d.Mc.SETTING}));const a=await(0,u.kR)(s);let o=[];o.push(...a.harvesterSettings),t&&(o=[...a.settings,...o]);const n=o.reduce(((e,t)=>(e[t.id]=t,e)),{}),i=[];let l=R.gh;this.isStandaloneHarvester&&(l={...l,...R.LP}),Object.keys(l).forEach((t=>{if(!n[t])return;const r=l[t]?.alias||t,s={...l[t],id:r,data:n[t]};s.hide=s.canHide="json"===s.kind||"multiline"===s.kind||"json"===s.customFormatter||"json"===s.data.customFormatter,s.hasActions=!s.readOnly||e,i.push(s)})),this.initSettings=i.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0))},data(){return{initSettings:[]}},computed:{...(0,n.L8)({t:"i18n/t"}),...(0,n.L8)(["isStandaloneHarvester"]),settings(){return this.initSettings.map((e=>{const t=e,r=t.data?.type?.includes("harvesterhci");if("json"===t.kind)try{t.json=JSON.stringify(JSON.parse(t.data.value||t.data.default||"{}"),null,2)}catch(s){G.error(`${t.data.id}: wrong format`),t.json={}}else if("enum"===t.kind){const e=t.data.value||t.data.default;t.enum=r?`advancedSettings.enum.harv-${t.id}.${e}`:`advancedSettings.enum.${t.id}.${e}`}else"custom"===t.kind&&(t.custom=t.data.customValue);return{...t,description:r?`advancedSettings.descriptions.harv-${t.id}`:`advancedSettings.descriptions.${t.id}`,customized:!t.readOnly&&t.data.value&&t.data.value!==t.data.default||t.data.hasCustomized}}))}}};r(88288);const j=(0,P.A)(K,[["render",o],["__scopeId","data-v-3fea1646"]]);var W=j},51086:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(9274);function a(e,t,r,a,o,n){const i=(0,s.resolveComponent)("Loading"),l=(0,s.resolveComponent)("ResourceTable");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(i,{key:0})):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(l,{rows:n.rows,schema:o.schema,headers:n.headers},null,8,["rows","schema","headers"])])}var o=r(39053),n=r(25769),i=r(29694),l=r(21835),c=r(94385),d=r(32766);const u={id:d.rk.STORAGE,type:l.yx,attributes:{kind:d.rk.STORAGE,namespaced:!1},metadata:{name:d.rk.STORAGE}};var p={name:"ListHarvesterStorages",components:{ResourceTable:n.A,Loading:o.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,i.kR)({storages:this.$store.dispatch(`${e}/findAll`,{type:l.fJ})});const t=this.$store.getters[`${e}/schemaFor`](l.fJ);t&&!t?.collectionMethods.find((e=>["blocked-post","post"].includes(e.toLowerCase())))&&this.$store.dispatch("type-map/configureType",{match:d.rk.STORAGE,isCreatable:!1})},data(){return{schema:u}},computed:{rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](l.fJ);return t.filter((e=>!e.parameters?.backingImage))},headers(){return[c.c4,c.o_,c.wS,c.X,{name:"numberOfReplicas",labelKey:"harvester.storage.numberOfReplicas.label",value:"parameters.numberOfReplicas",sort:["parameters.numberOfReplicas"],align:"center"},c.K]}},typeDisplay(){return this.$store.getters["type-map/labelFor"](u,99)}},h=r(47433);const m=(0,h.A)(p,[["render",a]]);var g=m},69164:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var s=r(9274);const a={key:1},o={key:1},n={key:1};function i(e,t,r,i,l,c){const d=(0,s.resolveComponent)("Loading"),u=(0,s.resolveComponent)("Masthead"),p=(0,s.resolveComponent)("MessageLink"),h=(0,s.resolveComponent)("Banner"),m=(0,s.resolveComponent)("FilterVMSchedule"),g=(0,s.resolveComponent)("router-link"),f=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(d,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[(0,s.createVNode)(u,{schema:r.schema,resource:l.resource,"create-button-label":e.t("harvester.backup.createText")},null,8,["schema","resource","create-button-label"]),(c.errorMessage||c.isEmptyValue)&&c.canUpdate?((0,s.openBlock)(),(0,s.createBlock)(h,{key:0,color:"error"},{default:(0,s.withCtx)((()=>[c.isEmptyValue?((0,s.openBlock)(),(0,s.createBlock)(p,{key:0,to:l.to,"prefix-label":"harvester.backup.message.noSetting.prefix","middle-label":"harvester.backup.message.noSetting.middle","suffix-label":"harvester.backup.message.noSetting.suffix"},null,8,["to"])):((0,s.openBlock)(),(0,s.createBlock)(p,{key:1,to:l.to,"prefix-label":"harvester.backup.message.errorTip.prefix","middle-label":"harvester.backup.message.errorTip.middle"},{suffix:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.backup.message.errorTip.suffix"))+" "+(0,s.toDisplayString)(c.errorMessage),1)])),_:1},8,["to"]))])),_:1})):c.canUpdate?((0,s.openBlock)(),(0,s.createElementBlock)("div",o,[(0,s.createVNode)(h,{color:"info"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(p,{to:l.to,"prefix-label":"harvester.backup.message.viewSetting.prefix","middle-label":"harvester.backup.message.viewSetting.middle","suffix-label":"harvester.backup.message.viewSetting.suffix"},null,8,["to"])])),_:1})])):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(f,(0,s.mergeProps)(e.$attrs,{headers:c.headers,groupable:!0,rows:c.filteredRows,"sort-generation-fn":c.sortGenerationFn,schema:r.schema,"key-field":"_key","default-sort-by":"age"}),(0,s.createSlots)({"col:name":(0,s.withCtx)((({row:e})=>[(0,s.createElementVNode)("td",null,[(0,s.createElementVNode)("span",null,[c.getRow(e)?((0,s.openBlock)(),(0,s.createBlock)(g,{key:0,to:e.detailLocation},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.nameDisplay),1)])),_:2},1032,["to"])):((0,s.openBlock)(),(0,s.createElementBlock)("span",n,(0,s.toDisplayString)(e.nameDisplay),1))])])])),_:2},[c.schedulingVMBackupFeatureEnabled?{name:"more-header-middle",fn:(0,s.withCtx)((()=>[(0,s.createVNode)(m,{rows:c.getRawRows,onChangeRows:c.changeRows},null,8,["rows","onChangeRows"])])),key:"0"}:void 0]),1040,["headers","rows","sort-generation-fn","schema"])]))}var l=r(35711),c=r(39053),d=r(41201),u=r(43761),p=r(25769),h=r(94385),m=r(59817),g=r(32766),f=r(5662),v=r(41837),k={name:"HarvesterListBackup",components:{ResourceTable:p.A,Banner:l.l,Loading:c.A,Masthead:u.A,MessageLink:d.A,FilterVMSchedule:m.A},props:{schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=await(0,f.v)({vms:this.$store.dispatch(`${e}/findAll`,{type:g.rk.VM}),settings:this.$store.dispatch(`${e}/findAll`,{type:g.rk.SETTING}),backups:this.$store.dispatch(`${e}/findAll`,{type:g.rk.BACKUP}),scheduleList:this.$store.dispatch(`${e}/findAll`,{type:g.rk.SCHEDULE_VM_BACKUP})});if(this.backups=t.backups,this.rows=t.backups,this.settings=t.settings,this.$store.getters[`${e}/schemaFor`](g.rk.SETTING)){const e=t.settings.find((e=>"backup-target"===e.id)),r=this.getBackupTargetValueIsEmpty(e);e&&!r&&this.testConnect()}},data(){const e={...this.$route.params},t=e.resource;return{rows:[],backups:[],settings:[],resource:t,to:`${g.rk.SETTING}/backup-target?mode=edit`,searchSchedule:""}},methods:{async testConnect(){try{const e=this.$store.getters["harvester-common/getHarvesterClusterUrl"]("v1/harvester/backuptarget/healthz");await this.$store.dispatch("harvester/request",{url:e})}catch(e){400!==e?._status&&503!==e?._status||this.$store.dispatch("growl/error",{title:this.t("harvester.notification.title.error"),message:e.errors[0]},{root:!0})}},getBackupTargetValueIsEmpty(e){let t=!0;if(e?.value)try{const r=JSON.parse(e?.value);t=!r.type}catch(r){}return t},getRow(e){return e.status&&e.status.source},changeRows(e,t){this["searchSchedule"]=t,this["backups"]=e},sortGenerationFn(){let e=(0,p.S)(this.schema,this.$store);return e+=this.searchSchedule,e}},computed:{headers(){const e=[h.c4,h.o_,h.CU,{name:"targetVM",labelKey:"harvester.tableHeaders.targetVm",value:"attachVM",align:"left",formatter:"AttachVMWithName"}];return this.schedulingVMBackupFeatureEnabled&&e.push({name:"backupCreatedFrom",labelKey:"harvester.tableHeaders.vmSchedule",value:"sourceSchedule",formatter:"BackupCreatedFrom"}),e.push({name:"backupTarget",labelKey:"tableHeaders.backupTarget",value:"backupTarget",align:"left",formatter:"HarvesterBackupTargetValidation"},{name:"readyToUse",labelKey:"tableHeaders.readyToUse",value:"status.readyToUse",align:"center",formatter:"Checked"}),this.hasBackupProgresses&&e.push({name:"backupProgress",labelKey:"tableHeaders.progress",value:"backupProgress",align:"left",formatter:"HarvesterBackupProgressBar"}),e.push(h.K),e},schedulingVMBackupFeatureEnabled(){return this.$store.getters["harvester-common/getFeatureEnabled"]("schedulingVMBackup")},hasBackupProgresses(){return!!this.backups.find((e=>void 0!==e.status?.progress))},filteredRows(){return this.backups.filter((e=>e.spec?.type!==v.a.SNAPSHOT))},getRawRows(){return this.rows.filter((e=>e.spec?.type===v.a.BACKUP))},backupTargetResource(){return this.settings.find((e=>"backup-target"===e.id))},isEmptyValue(){return this.getBackupTargetValueIsEmpty(this.backupTargetResource)},canUpdate(){return this?.backupTargetResource?.canUpdate},errorMessage(){return this.backupTargetResource?.errMessage}}},y=r(47433);const b=(0,y.A)(k,[["render",i]]);var C=b},95115:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var s=r(9274);const a={key:0,class:"icon icon-lock"},o={key:1};function n(e,t,r,n,i,l){const c=(0,s.resolveComponent)("Banner"),d=(0,s.resolveComponent)("FilterLabel"),u=(0,s.resolveComponent)("router-link"),p=(0,s.resolveComponent)("ResourceTable");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[l.uploadingImages.length>0?((0,s.openBlock)(),(0,s.createBlock)(c,{key:0,color:"warning",label:e.t("harvester.image.warning.uploading",{count:l.uploadingImages.length})},null,8,["label"])):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(p,(0,s.mergeProps)(e.$attrs,{rows:i.filterRows,schema:r.schema,"sort-generation-fn":l.sortGenerationFn,"key-field":"_key"}),{"more-header-middle":(0,s.withCtx)((()=>[(0,s.createVNode)(d,{ref:"filterLabel",rows:r.rows,onChangeRows:l.changeRows},null,8,["rows","onChangeRows"])])),"col:name":(0,s.withCtx)((({row:e})=>[(0,s.createElementVNode)("td",null,[(0,s.createElementVNode)("span",null,[e?.detailLocation?((0,s.openBlock)(),(0,s.createBlock)(u,{key:0,to:e.detailLocation},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.nameDisplay)+" ",1),e.isEncrypted?((0,s.openBlock)(),(0,s.createElementBlock)("i",a)):(0,s.createCommentVNode)("",!0)])),_:2},1032,["to"])):((0,s.openBlock)(),(0,s.createElementBlock)("span",o,(0,s.toDisplayString)(e.nameDisplay),1))])])])),_:1},16,["rows","schema","sort-generation-fn"])])}var i=r(25769),l=r(35711);const c=e=>((0,s.pushScopeId)("data-v-99256476"),e=e(),(0,s.popScopeId)(),e),d={class:"filter"},u=["onClick"],p={ref:"actionDropDown",class:"btn bg-primary mr-10"},h={class:"filter-popup"},m={class:"box"},g={class:"key"},f=c((()=>(0,s.createElementVNode)("span",{class:"required"},"*",-1))),v={class:"value"},k=c((()=>(0,s.createElementVNode)("div",null,null,-1))),y={class:"key"},b={class:"value"},C=["onClick"];function S(e,t,r,a,o,n){const i=(0,s.resolveComponent)("Select"),l=(0,s.resolveComponent)("LabeledInput"),c=(0,s.resolveComponent)("ArrayList"),S=(0,s.resolveComponent)("v-dropdown");return(0,s.openBlock)(),(0,s.createElementBlock)("div",d,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.searchLabels,((e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:t},[e.key?((0,s.openBlock)(),(0,s.createElementBlock)("span",{key:`${e.key}${t}`,class:"banner-item bg-warning"},[(0,s.createTextVNode)((0,s.toDisplayString)(e.key)+(0,s.toDisplayString)(e.value?"=":"")+(0,s.toDisplayString)(e.value),1),(0,s.createElementVNode)("i",{class:"icon icon-close",onClick:t=>n.remove(e)},null,8,u)])):(0,s.createCommentVNode)("",!0)],64)))),128)),(0,s.createVNode)(S,{"popper-class":"filter-label",trigger:"click",placement:"bottom-end",distance:20},{popper:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",h,[(0,s.createElementVNode)("div",null,[(0,s.createVNode)(c,{value:o.searchLabels,"onUpdate:value":[t[1]||(t[1]=e=>o.searchLabels=e),n.filterRows],"show-header":!0,"default-add-value":o.defaultAddValue,"initial-empty-row":!0},{"column-headers":(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",m,[(0,s.createElementVNode)("div",g,[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("generic.key"))+" ",1),f]),(0,s.createElementVNode)("div",v,(0,s.toDisplayString)(e.t("generic.value")),1),k])])),columns:(0,s.withCtx)((e=>[(0,s.createElementVNode)("div",y,[(0,s.createVNode)(i,{ref:"select",key:"label",value:e.row.value.key,"onUpdate:value":[t=>e.row.value.key=t,n.filterRows],"append-to-body":!1,searchable:!0,options:n.optionLabels},null,8,["value","onUpdate:value","options"])]),(0,s.createElementVNode)("div",b,[n.calcValueOptions(e.row.value.key).length>0?((0,s.openBlock)(),(0,s.createBlock)(i,{ref:"select",key:"value",value:e.row.value.value,"onUpdate:value":[t=>e.row.value.value=t,n.filterRows],"append-to-body":!1,searchable:!0,options:n.calcValueOptions(e.row.value.key)},null,8,["value","onUpdate:value","options"])):((0,s.openBlock)(),(0,s.createBlock)(l,{key:1,value:e.row.value.value,"onUpdate:value":[t=>e.row.value.value=t,n.filterRows]},null,8,["value","onUpdate:value"]))])])),add:(0,s.withCtx)((({add:r})=>[(0,s.createElementVNode)("div",null,[(0,s.createElementVNode)("button",{type:"button",class:"btn role-tertiary add","data-testid":"add-item",onClick:e=>r()},(0,s.toDisplayString)(e.t("generic.add")),9,C),(0,s.createElementVNode)("button",{type:"button",class:"btn role-tertiary add","data-testid":"remove-all-item",onClick:t[0]||(t[0]=e=>n.removeAll())},(0,s.toDisplayString)(e.t("generic.clearAll")),1)])])),_:1},8,["value","default-add-value","onUpdate:value"])])])])),default:(0,s.withCtx)((()=>[(0,s.renderSlot)(e.$slots,"header",{},(()=>[(0,s.createElementVNode)("button",p,[(0,s.renderSlot)(e.$slots,"title",{},(()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.fields.filterLabels")),1)]),!0)],512)]),!0)])),_:3})])}var $=r(55675),w=r(46590),N=r(11084),E={name:"HarvesterFilterLabel",emits:["changeRows"],components:{Select:w.A,ArrayList:$.A,LabeledInput:N.A},props:{rows:{type:Array,required:!0}},data(){return{searchLabels:[],defaultAddValue:{key:"",value:""}}},computed:{optionLabels(){const e=this.rows.map((e=>Object.keys(e.labels)));return Array.from(new Set(e.flat()))}},methods:{calcValueOptions(e){const t=[];return this.rows.map((r=>{const s=t.find((t=>t.label===r.labels[e]));Object.keys(r.labels).includes(e)&&e&&r.labels[e]&&!s&&t.push({value:r.labels[e],label:r.labels[e]})})),t},removeAll(){this["searchLabels"]=[],this.filterRows()},remove(e){this.searchLabels.find(((t,r)=>{if(t.key===e.key&&t.value===e.value)return this.searchLabels.splice(r,1),this.filterRows(),!0}))},filterRows(){const e=this.rows.filter((e=>{const t=this.searchLabels.find((e=>e.key));if(!t)return this.rows;const r=e.labels,s=Object.keys(r);return this.searchLabels.find((e=>!(!e.key||!s.includes(e.key))&&(!e.value||(e.value===r[e.key]||e.value===r[e.key]&&void 0))))}));this.$emit("changeRows",e,this.searchLabels)}},watch:{rows:{deep:!0,immediate:!0,handler(){this.filterRows()}}}},V=(r(15716),r(3286),r(47433));const A=(0,V.A)(E,[["render",S],["__scopeId","data-v-99256476"]]);var B=A,x={name:"ListHarvesterImage",components:{ResourceTable:i.A,Banner:l.l,FilterLabel:B},props:{schema:{type:Object,required:!0},rows:{type:Array,required:!0}},data(){return{searchLabels:[],filterRows:[]}},computed:{uploadingImages(){return this.$store.getters["harvester-common/uploadingImages"]||[]}},methods:{changeRows(e,t){this["filterRows"]=e,this["searchLabels"]=t},sortGenerationFn(){let e=(0,i.S)(this.schema,this.$store);return this.searchLabels.map((t=>{e+=t.key,e+=t.value})),e}}};const D=(0,V.A)(x,[["render",n]]);var T=D},84067:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var s=r(9274);const a=e=>((0,s.pushScopeId)("data-v-916d4760"),e=e(),(0,s.popScopeId)(),e),o={class:"group-bar"},n={class:"group-tab"},i={class:"project-name"},l={class:"right"},c={class:"age"},d=["onClick"],u=a((()=>(0,s.createElementVNode)("i",{class:"icon icon-actions"},null,-1))),p=[u],h={key:0},m=a((()=>(0,s.createElementVNode)("i",{class:"icon icon-checkmark"},null,-1))),g=[m],f={key:1};function v(e,t,r,a,u,m){const v=(0,s.resolveComponent)("Loading"),k=(0,s.resolveComponent)("LiveData"),y=(0,s.resolveComponent)("ResourceTable"),b=(0,s.resolveDirective)("clean-html");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(v,{key:0})):((0,s.openBlock)(),(0,s.createBlock)(y,(0,s.mergeProps)({key:1},e.$attrs,{headers:m.headers,"sub-rows":!0,groupable:!1,rows:m.rows,"group-title-by":m.groupTitleBy,"group-by":m.groupBy,schema:r.schema,"group-can-action":!0,"key-field":"_key"}),{"group-by":(0,s.withCtx)((e=>[(0,s.createElementVNode)("div",o,[(0,s.createElementVNode)("div",n,[(0,s.withDirectives)((0,s.createElementVNode)("div",i,null,512),[[b,m.templateLabel(e.group)]])]),(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("div",c,[(0,s.createVNode)(k,{value:m.valueFor(e.group),row:m.templateResource(e.group)},null,8,["value","row"])]),(0,s.createElementVNode)("button",{type:"button",class:"btn btn-sm actions mr-10 role-multi-action",onClick:t=>m.showActions(t,e.group)},p,8,d)])])])),"col:defaultVersion":(0,s.withCtx)((({row:e})=>[e.isDefaultVersion?((0,s.openBlock)(),(0,s.createElementBlock)("td",h,g)):((0,s.openBlock)(),(0,s.createElementBlock)("td",f))])),_:1},16,["headers","rows","group-title-by","group-by","schema"]))}var k=r(39053);const y={key:0,class:"text-muted"},b={key:1,class:"live-date"},C={key:2,class:"live-date"};function S(e,t,r,a,o,n){const i=(0,s.resolveDirective)("clean-tooltip");return n.suffixedLabel?r.showTooltip?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("span",b,[(0,s.createTextVNode)((0,s.toDisplayString)(n.suffixedLabel),1)])),[[i,{content:n.title,placement:r.tooltipPlacement}]]):((0,s.openBlock)(),(0,s.createElementBlock)("span",C,(0,s.toDisplayString)(n.suffixedLabel),1)):((0,s.openBlock)(),(0,s.createElementBlock)("span",y,"  "))}var $=r(47143),w=r.n($),N=r(51423),E=r(71160),V=r(89152),A={props:{value:{type:[String,Number],default:""},addSuffix:{type:Boolean,default:!1},addPrefix:{type:Boolean,default:!1},suffix:{type:String,default:"ago"},tooltipPlacement:{type:String,default:"auto"},showTooltip:{type:Boolean,default:!0},isCountdown:{type:Boolean,default:!1}},mounted(){this.liveUpdate(w()())},data(){return{label:"-"}},computed:{title(){if(!this.value)return"";const e=(0,E.ZD)(this.$store.getters["prefs/get"](N.DX)),t=(0,E.ZD)(this.$store.getters["prefs/get"](N.G$)),r=w()(this.value).format(`${e} ${t}`);return r},suffixedLabel(){if(!this.value)return this.label;let e=this.label||"";if(e&&this.addSuffix){const t=this.$store.getters["i18n/exists"],r=`suffix.${this.suffix}`,s=t(r)?this.t(r):this.suffix;e=`${e} ${s}`}return e},dayValue(){return this.value?w()(this.value):null}},watch:{value(){this.liveUpdate(w()())}},methods:{liveUpdate(e){if(!this.dayValue)return"-"!==this.label&&(this.label="-"),300;if(this.isCountdown&&e.valueOf()>this.dayValue?.valueOf())return this.label="-",300;const t=(0,V.qx)(this.dayValue,e),r=t.diff<0||!this.addPrefix?"":"-";let s=t.label;return 0===t.diff?s="Just now":(s+=` ${r}${this.t(t.unitsKey,{count:t.label})}`,s=s.trim()),this.label!==s&&(this.label=s),t.next||1}}},B=r(47433);const x=(0,B.A)(A,[["render",S]]);var D=x,T=r(25769),_=r(29694),L=r(94385),M=r(32766),R={name:"HarvesterListTemplate",components:{ResourceTable:T.A,LiveData:D,Loading:k.A},inheritAttrs:!1,props:{schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=await(0,_.kR)({template:this.$store.dispatch(`${e}/findAll`,{type:M.rk.VM_TEMPLATE}),templateVersion:this.$store.dispatch(`${e}/findAll`,{type:M.rk.VM_VERSION})});this.template=t.template,this.templateVersion=t.templateVersion},data(){return{template:[],templateVersion:[]}},computed:{headers(){return[L.c4,L.o_,L.CU,{name:"defaultVersion",value:"id",labelKey:"tableHeaders.defaultVersion"},L.K]},rows(){return[...this.templateVersion]},groupBy(){return"spec.templateId"},groupTitleBy(){return M.rk.VM_TEMPLATE}},methods:{showActions(e,t){const r=t.rows[0].template;this.$store.commit("action-menu/show",{resources:[r],elem:e.target})},valueFor(e){const t=e?.rows?.[0].template;return t?.metadata?.creationTimestamp},templateLabel(e){return e.key},templateResource(e){return e?.rows?.[0].template}}};r(59637);const O=(0,B.A)(R,[["render",v],["__scopeId","data-v-916d4760"]]);var I=O},61313:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(9274);const a={class:"state"},o={key:0,class:"icon icon-lock"},n={key:1};function i(e,t,r,i,l,c){const d=(0,s.resolveComponent)("Loading"),u=(0,s.resolveComponent)("HarvesterVolumeState"),p=(0,s.resolveComponent)("router-link"),h=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(d,{key:0})):((0,s.openBlock)(),(0,s.createBlock)(h,(0,s.mergeProps)({key:1},e.$attrs,{headers:c.headers,groupable:!0,"default-sort-by":"age",namespaced:!0,rows:l.rows,schema:c.schema,"key-field":"_key"}),{"cell:state":(0,s.withCtx)((({row:e})=>[(0,s.createElementVNode)("div",a,[(0,s.createVNode)(u,{class:"vmstate",row:e},null,8,["row"])])])),"cell:AttachedVM":(0,s.withCtx)((({row:e})=>[(0,s.createElementVNode)("div",null,[c.getVMName(e)?((0,s.openBlock)(),(0,s.createBlock)(p,{key:0,to:c.goTo(e)},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(c.getVMName(e)),1)])),_:2},1032,["to"])):(0,s.createCommentVNode)("",!0)])])),"col:name":(0,s.withCtx)((({row:e})=>[(0,s.createElementVNode)("td",null,[(0,s.createElementVNode)("span",null,[e?.detailLocation?((0,s.openBlock)(),(0,s.createBlock)(p,{key:0,to:e.detailLocation},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.nameDisplay)+" ",1),e.isEncrypted?((0,s.openBlock)(),(0,s.createElementBlock)("i",o)):(0,s.createCommentVNode)("",!0)])),_:2},1032,["to"])):((0,s.openBlock)(),(0,s.createElementBlock)("span",n,(0,s.toDisplayString)(e.nameDisplay),1))])])])),_:1},16,["headers","rows","schema"]))}var l=r(39053),c=r(25769),d=r(21835),u=r(94385),p=r(5538),h=r(5662),m=r(32766);const g={id:m.rk.VOLUME,type:d.yx,attributes:{kind:m.rk.VOLUME,namespaced:!0},metadata:{name:m.rk.VOLUME}};var f={name:"HarvesterListVolume",components:{Loading:l.A,ResourceTable:c.A,HarvesterVolumeState:p["default"]},inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={pvcs:this.$store.dispatch(`${e}/findAll`,{type:d.YH}),pvs:this.$store.dispatch(`${e}/findAll`,{type:d.PV}),vms:this.$store.dispatch(`${e}/findAll`,{type:m.rk.VM}),scs:this.$store.dispatch(`${e}/findAll`,{type:d.fJ})},r=this.$store.getters[`${e}/schemaFor`](m.qY);r&&(t.snapshots=this.$store.dispatch(`${e}/findAll`,{type:m.qY})),this.$store.getters[`${e}/schemaFor`](d.oe.VOLUMES)&&(t.longhornVolumes=this.$store.dispatch(`${e}/findAll`,{type:d.oe.VOLUMES})),this.$store.getters[`${e}/schemaFor`](d.oe.ENGINES)&&(t.longhornEngines=this.$store.dispatch(`${e}/findAll`,{type:d.oe.ENGINES}));const s=await(0,h.v)(t),a=this.$store.getters[`${e}/schemaFor`](d.YH);a?.collectionMethods.find((e=>"post"===e.toLowerCase()))||this.$store.dispatch("type-map/configureType",{match:m.rk.VOLUME,isCreatable:!1}),this.rows=s.pvcs},data(){return{rows:[]}},computed:{schema(){return g},headers(){return[u.c4,u.o_,u.CU,{name:"size",labelKey:"tableHeaders.size",value:"spec.resources.requests.storage",sort:"volumeSort",formatter:"Si",formatterOpts:{opts:{increment:1024,addSuffix:!0,maxExponent:3,minExponent:3,suffix:"i"},needParseSi:!0}},{name:"storageClass",labelKey:"tableHeaders.storageClass",value:"spec.storageClassName"},{name:"AttachedVM",labelKey:"tableHeaders.attachedVM",type:"attached",value:"spec.claimRef",sort:"name"},{name:"VolumeSnapshotCounts",labelKey:"harvester.tableHeaders.volumeSnapshotCounts",value:"relatedVolumeSnapshotCounts",formatter:"RelatedVolumeSnapshotCounts",sort:"name",align:"center"},{...u.c4,name:"phase",labelKey:"tableHeaders.phase",formatterOpts:{arbitrary:!0},value:"phaseState"},u.K]}},methods:{goTo(e){return e?.attachVM?.detailLocation},getVMName(e){return e.attachVM?.metadata?.name||""}},typeDisplay(){return this.$store.getters["type-map/labelFor"](g,99)}},v=(r(10490),r(47433));const k=(0,v.A)(f,[["render",i],["__scopeId","data-v-1427d3dc"]]);var y=k},32776:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(9274);function a(e,t,r,a,o,n){const i=(0,s.resolveComponent)("Loading"),l=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(i,{key:0})):((0,s.openBlock)(),(0,s.createBlock)(l,(0,s.mergeProps)({key:1},e.$attrs,{groupable:!0,schema:n.schema,rows:n.filteredRows,"key-field":"_key"}),null,16,["schema","rows"]))}var o=r(25769),n=r(39053),i=r(21835),l=r(29694),c=r(32766);const d={id:c.rk.SNAPSHOT,type:i.yx,attributes:{kind:c.rk.SNAPSHOT,namespaced:!0},metadata:{name:c.rk.SNAPSHOT}};var u={name:"HarvesterListSnapshot",components:{ResourceTable:o.A,Loading:n.A},inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={volumes:this.$store.dispatch(`${e}/findAll`,{type:i.YH}),snapshots:this.$store.dispatch(`${e}/findAll`,{type:c.qY})},r=await(0,l.kR)(t);this.rows=r.snapshots;const s=this.$store.getters[`${e}/schemaFor`](c.qY);s?.collectionMethods.find((e=>"post"===e.toLowerCase()))||this.$store.dispatch("type-map/configureType",{match:c.rk.SNAPSHOT,isCreatable:!1})},data(){return{rows:[]}},computed:{filteredRows(){return this.rows.filter((e=>"PersistentVolumeClaim"===e.metadata?.ownerReferences?.[0]?.kind))},schema(){return d}},typeDisplay(){return this.$store.getters["type-map/labelFor"](d,99)}},p=r(47433);const h=(0,p.A)(u,[["render",a]]);var m=h},18144:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var s=r(9274);const a=e=>((0,s.pushScopeId)("data-v-651d7143"),e=e(),(0,s.popScopeId)(),e),o={key:1},n=a((()=>(0,s.createElementVNode)("div",null,null,-1))),i={class:"group-bar"},l={class:"group-tab"},c={class:"right"},d=["onClick"],u=a((()=>(0,s.createElementVNode)("i",{class:"icon icon-actions"},null,-1))),p=[u],h={class:"empty text-center",colspan:"12"};function m(e,t,r,a,u,m){const g=(0,s.resolveComponent)("Loading"),f=(0,s.resolveComponent)("Masthead"),v=(0,s.resolveComponent)("router-link"),k=(0,s.resolveComponent)("ResourceTable");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(g,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("div",o,[(0,s.createVNode)(f,{schema:m.clusterNetworkSchema,"type-display":e.t("harvester.clusterNetwork.title"),resource:u.HCI.CLUSTER_NETWORK,"create-location":m.createClusterNetworkLocation,"create-button-label":e.t("harvester.clusterNetwork.create.button.label")},null,8,["schema","type-display","resource","create-location","create-button-label"]),(0,s.createVNode)(k,{rows:m.rowsWithFakeClusterNetworks,headers:m.headers,groupable:!0,schema:m.vlanConfigSchema,"group-by":"groupByClusterNetwork"},(0,s.createSlots)({"header-middle":(0,s.withCtx)((()=>[n])),"group-by":(0,s.withCtx)((({group:t})=>[(0,s.createElementVNode)("div",i,[(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("span",null,(0,s.toDisplayString)(m.groupLabel(t)),1)]),(0,s.createElementVNode)("div",c,[m.isClusterNetworkCreatable&&"mgmt"!==t.key?((0,s.openBlock)(),(0,s.createBlock)(v,{key:0,class:"btn btn-sm role-secondary mr-5",to:m.createVlanConfigLocation(t)},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.t("harvester.vlanConfig.createNetworkConfig")),1)])),_:2},1032,["to"])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("button",{type:"button",class:(0,s.normalizeClass)(["btn btn-sm role-multi-action actions mr-10",{invisible:!m.showClusterNetworkActionButton(t)}]),onClick:e=>m.showClusterNetworkAction(e,t)},p,10,d)])])])),_:2},[(0,s.renderList)(m.clusterNetworkWithoutConfigs,((t,r)=>({name:m.slotName(t.id),fn:(0,s.withCtx)((()=>[(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("tr",{key:t.id,class:"main-row"},[(0,s.createElementVNode)("td",h,(0,s.toDisplayString)("mgmt"===t.id?e.t("harvester.clusterNetwork.mgmt"):e.t("harvester.clusterNetwork.clusterNetwork")),1)])),[[s.vShow,!t.hasChild]])]))})))]),1032,["rows","headers","schema"])]))])}var g=r(39053),f=r(25769),v=r(43761),k=r(29694),y=r(94385),b=r(51423),C=r(21835),S=r(20652);const $="clusterNetwork";var w=r(32766),N={name:"ListHarvesterVLANConfigs",components:{ResourceTable:f.A,Loading:g.A,Masthead:v.A},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,k.kR)({configs:this.$store.dispatch(`${e}/findAll`,{type:w.rk.VLAN_CONFIG}),clusterNetworks:this.$store.dispatch(`${e}/findAll`,{type:w.rk.CLUSTER_NETWORK}),vlanStatuses:this.$store.dispatch(`${e}/findAll`,{type:w.rk.VLAN_STATUS}),nodes:this.$store.dispatch(`${e}/findAll`,{type:C.NW})})},data(){return{HCI:w.rk}},computed:{groupPreference:(0,b.AN)(b.EI),headers(){return[y.c4,{...y.o_,width:300},{name:"type",labelKey:"tableHeaders.type",value:"typeDisplay",getValue:e=>e.typeDisplay,sort:["typeDisplay"]},y.K]},rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](w.rk.VLAN_CONFIG);return t},vlanConfigSchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](w.rk.VLAN_CONFIG)},clusterNetworkSchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](w.rk.CLUSTER_NETWORK)},isClusterNetworkCreatable(){return(this.clusterNetworkSchema?.collectionMethods||[]).includes("POST")},createClusterNetworkLocation(){const e={name:`${S.KR}-c-cluster-resource-create`,params:{product:S.KR,resource:w.rk.CLUSTER_NETWORK}};return e},clusterNetworkWithoutConfigs(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](w.rk.CLUSTER_NETWORK),r=t.map((e=>{const t=!!this.rows.find((t=>t?.spec?.clusterNetwork===e.id));return{...e,hasChild:t}}));return r},rowsWithFakeClusterNetworks(){const e=this.clusterNetworkWithoutConfigs.map((e=>({groupByLabel:e.id,isFake:!0,mainRowKey:e.id,nameDisplay:e.id,groupByClusterNetwork:e.id,availableActions:[]})));return[...this.rows,...e]}},methods:{showClusterNetworkActionButton(e){const t=this.$store.getters["currentProduct"].inStore,r=e.key,s=this.$store.getters[`${t}/byId`](w.rk.CLUSTER_NETWORK,r);return!!s},showClusterNetworkAction(e,t){const r=this.$store.getters["currentProduct"].inStore,s=t.key,a=this.$store.getters[`${r}/byId`](w.rk.CLUSTER_NETWORK,s);this.$store.commit("action-menu/show",{resources:[a],elem:e.target})},createVlanConfigLocation(e){const t=e.key,r={name:`${S.KR}-c-cluster-resource-create`,params:{product:S.KR,resource:w.rk.VLAN_CONFIG}};return r.query={[$]:t},r},slotName(e){return`main-row:${e}`},groupLabel(e){const t=e.rows[0];return t.isFake?`${this.t("harvester.network.clusterNetwork.label")}: ${t.nameDisplay}`:`${this.t("harvester.network.clusterNetwork.label")}: ${e.key}`}}},E=(r(585),r(89247),r(47433));const V=(0,E.A)(N,[["render",m],["__scopeId","data-v-651d7143"]]);var A=V},39105:function(e,t,r){"use strict";r.d(t,{A:function(){return u}});var s=r(9274);function a(e,t,r,a,o,n){const i=(0,s.resolveDirective)("trim-whitespace");return(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("div",{class:(0,s.normalizeClass)({progress:!0,multi:n.pieces.length>1})},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.pieces,((e,t)=>(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("div",{key:t,class:(0,s.normalizeClass)({piece:!0,[e.color]:!0}),style:(0,s.normalizeStyle)(e.style)},null,6)),[[i]]))),128))],2)),[[i]])}var o=r(29125),n=r(18872),i={props:{values:{type:Array,required:!0},colorKey:{type:String,default:"color"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},min:{type:Number,default:0},max:{type:Number,default:null},minPercent:{type:Number,default:5},showZeros:{type:Boolean,default:!1}},computed:{pieces(){const e=[];for(const o of this.values){const t=(0,n.Jt)(o,this.colorKey),r=(0,n.Jt)(o,this.labelKey),s=(0,n.Jt)(o,this.valueKey);(0!==s||this.showZeros)&&e.push({color:t,label:r,value:s})}const t=this.minPercent||0,r=this.min||0;let s=this.max,a=0;this.max||(s=100,e.length&&(s=e.map((e=>e.value)).reduce(((e,t)=>e+t))));for(const o of e){const e=Math.max(t,l(o.value,r,s));o.percent=e,a+=e}a>100&&((0,o.Ul)(e,"percent",!0)[0].percent-=a-100);for(const o of e)o.style=`width: ${o.percent}%`;return e.filter((e=>e.percent))}}};function l(e,t,r){e=Math.max(t,Math.min(r,e));let s=e/(r-t)*100;return s=Math.floor(100*s)/100,s}r(22091);var c=r(47433);const d=(0,c.A)(i,[["render",a],["__scopeId","data-v-019b5ae7"]]);var u=d},32810:function(e,t,r){"use strict";r.d(t,{A:function(){return u}});var s=r(9274);const a={key:0};function o(e,t,r,o,n,i){const l=(0,s.resolveComponent)("BadgeState");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[r.arbitrary?((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[r.value?((0,s.openBlock)(),(0,s.createBlock)(l,{key:0,color:n.stateBackground,label:n.stateDisplay},null,8,["color","label"])):(0,s.createCommentVNode)("",!0)])):((0,s.openBlock)(),(0,s.createBlock)(l,{key:1,value:r.row},null,8,["value"]))])}var n=r(64069),i=r(29096),l={components:{BadgeState:n.j},props:{value:{type:String,default:""},row:{type:Object,required:!0},col:{type:Object,default:()=>{}},arbitrary:{type:Boolean,default:!1}},data(){return{stateDisplay:"",stateBackground:""}},watch:{value:{handler(){if(this.arbitrary){const e=(0,i.uU)(this.value);this.stateDisplay=(0,i.ch)(this.value),this.stateBackground=e.replace("text-","bg-")}},immediate:!0}}},c=r(47433);const d=(0,c.A)(l,[["render",o]]);var u=d},76868:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".filter[data-v-99256476]{display:inline-block}.filter .banner-item[data-v-99256476]{display:inline-block;font-size:16px;margin-right:10px;padding:6px;border-radius:2px}.filter .banner-item i[data-v-99256476]{cursor:pointer;vertical-align:middle}.filter-popup[data-v-99256476]{width:600px}[data-v-99256476]  .box{display:grid;grid-template-columns:40% 40% 10%;-moz-column-gap:1.75%;column-gap:1.75%;margin-bottom:10px}.required[data-v-99256476]{color:var(--error)}",""]),t["default"]=i},95574:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".filter-label .v-popper__arrow-container{display:none}",""]),t["default"]=i},20177:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".header[data-v-728529db]{display:flex;justify-content:space-between;align-items:center}.footer[data-v-728529db]{width:100%;display:flex;justify-content:flex-end}.banner-icon[data-v-728529db]{display:flex;align-items:center}.banner-content[data-v-728529db]{display:flex}.banner-message[data-v-728529db]{display:flex;flex-direction:column;justify-content:center;padding:0 15px}.icon[data-v-728529db]{font-size:20px;width:20px;line-height:23px}.currentVersion[data-v-728529db]{margin-top:10px;display:flex;justify-content:space-between}.currentVersion .version[data-v-728529db]{font-size:16px;font-weight:700}",""]),t["default"]=i},83853:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".settings-banner[data-v-5b7931f6]{margin-top:0}.advanced-setting[data-v-5b7931f6]{border:1px solid var(--border);padding:20px;border-radius:var(--border-radius)}.advanced-setting h1[data-v-5b7931f6]{font-size:14px}.advanced-setting h2[data-v-5b7931f6]{font-size:12px;margin-bottom:0;opacity:.8}.settings-value pre[data-v-5b7931f6]{margin:0}.header[data-v-5b7931f6]{display:flex;margin-bottom:20px}.title[data-v-5b7931f6]{flex:1}.modified[data-v-5b7931f6]{border:1px solid var(--primary);border-radius:5px}.experimental[data-v-5b7931f6],.modified[data-v-5b7931f6]{margin-left:10px;padding:2px 10px;font-size:12px}.experimental[data-v-5b7931f6]{border:1px solid var(--error);border-radius:5px}",""]),t["default"]=i},11966:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".state[data-v-e0f7fbca]{display:flex}.state .icon-warning[data-v-e0f7fbca]{margin-top:2px}.warning-message[data-v-e0f7fbca]:first-letter{text-transform:uppercase}",""]),t["default"]=i},28954:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,"[data-v-32e4b7cb]  .sortable-table TD .badge-state{max-width:250px;text-overflow:clip}[data-v-32e4b7cb]  .cell-name{white-space:nowrap}",""]),t["default"]=i},16956:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".cluster-dashboard-glance[data-v-69bd7a3f]{border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:20px 0;display:flex}.cluster-dashboard-glance>*[data-v-69bd7a3f]{margin-right:40px}.cluster-dashboard-glance>* SPAN[data-v-69bd7a3f]{font-weight:700}.events[data-v-69bd7a3f]{margin-top:30px}",""]),t["default"]=i},16587:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".console-button[data-v-748b0729]{display:flex}",""]),t["default"]=i},98198:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".empty[data-v-a0eea6e4]{flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:6em;min-height:100%}i[data-v-a0eea6e4]{font-size:10em;opacity:50%}h2[data-v-a0eea6e4],i[data-v-a0eea6e4]{margin:0}h3[data-v-a0eea6e4]{margin-top:2em}",""]),t["default"]=i},93408:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".settings-banner[data-v-3fea1646]{margin-top:0}",""]),t["default"]=i},2357:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,"[data-v-916d4760]  .group-name{line-height:30px}[data-v-916d4760]  .group-bar{display:flex;flex-direction:row;justify-content:space-between}[data-v-916d4760]  .group-bar .right{display:flex;align-items:center}[data-v-916d4760]  .group-bar .right .age{width:100px}[data-v-916d4760]  .group-bar .right .actions{padding-right:7px}[data-v-916d4760]  .group-bar.has-description .right{margin-top:5px}[data-v-916d4760]  .group-bar.has-description .group-tab,[data-v-916d4760]  .group-bar.has-description .group-tab:after{height:50px}[data-v-916d4760]  .group-bar.has-description .group-tab:after{right:-20px}[data-v-916d4760]  .group-bar.has-description .group-tab .description{margin-top:-20px}",""]),t["default"]=i},84250:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".state[data-v-1427d3dc]{display:flex}.state .vmstate[data-v-1427d3dc]{margin-right:6px}",""]),t["default"]=i},83497:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".group-bar[data-v-651d7143]{display:flex;flex-direction:row;justify-content:space-between}.group-bar .right[data-v-651d7143]{margin-top:5px;margin-bottom:3px}.group-bar .group-tab[data-v-651d7143],.group-bar .group-tab[data-v-651d7143]:after{height:50px}.group-bar .group-tab[data-v-651d7143]:after{right:-20px}.group-bar .group-tab SPAN[data-v-651d7143]{color:var(--body-text)!important}",""]),t["default"]=i},64351:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".col-link-detail{min-width:200px}.group-bar .right{display:flex;margin-left:50px}.group-bar .right a{height:30px}",""]),t["default"]=i},24094:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".hardware-resource-gauge[data-v-53d7baa6]{position:relative;display:flex;flex-direction:column}.hardware-resource-gauge .hw-gauge[data-v-53d7baa6]:not(:first-of-type){margin-top:20px}.hardware-resource-gauge .values[data-v-53d7baa6]{font-size:12px;padding-left:10px}",""]),t["default"]=i},61739:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".progress[data-v-019b5ae7]{display:block;border-radius:90px;background-color:var(--progress-bg);height:10px;width:100px}.progress .piece[data-v-019b5ae7]{display:inline-block;height:10px;border-radius:0;border-right:1px solid var(--progress-divider);vertical-align:top}.progress .piece[data-v-019b5ae7]:first-child{border-top-left-radius:90px;border-bottom-left-radius:90px}.progress .piece[data-v-019b5ae7]:last-child{border-top-right-radius:90px;border-bottom-right-radius:90px;border-right:0}.piece.bg-success[data-v-019b5ae7]:only-child{opacity:.5}",""]),t["default"]=i},920:function(e,t,r){"use strict";r.r(t);var s=r(36758),a=r.n(s),o=r(40935),n=r.n(o),i=n()(a());i.push([e.id,".has-link[data-v-6dc847d8]{cursor:pointer}.has-link[data-v-6dc847d8]:hover{border-color:var(--link)}[data-v-6dc847d8]  .content{display:flex;justify-content:space-between;align-items:center}[data-v-6dc847d8]  .content H1,[data-v-6dc847d8]  .content H3{margin:0}[data-v-6dc847d8]  .content .chip{border-radius:2em;color:var(--body-bg);padding:0 1em}[data-v-6dc847d8]  .content .chip.warn-count{background:var(--warning)}[data-v-6dc847d8]  .content .chip.error-count{background:var(--error)}",""]),t["default"]=i},23464:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e=1e3,t=6e4,r=36e5,s="millisecond",a="second",o="minute",n="hour",i="day",l="week",c="month",d="quarter",u="year",p="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},v=function(e,t,r){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(r)+e},k={s:v,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),s=Math.floor(r/60),a=r%60;return(t<=0?"+":"-")+v(s,2,"0")+":"+v(a,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var s=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(s,c),o=r-a<0,n=t.clone().add(s+(o?-1:1),c);return+(-(s+(r-a)/(o?a-n:n-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:l,d:i,D:p,h:n,m:o,s:a,ms:s,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=f;var C="$isDayjsObject",S=function(e){return e instanceof E||!(!e||!e[C])},$=function e(t,r,s){var a;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(a=o),r&&(b[o]=r,a=o);var n=t.split("-");if(!a&&n.length>1)return e(n[0])}else{var i=t.name;b[i]=t,a=i}return!s&&a&&(y=a),a||!s&&y},w=function(e,t){if(S(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new E(r)},N=k;N.l=$,N.i=S,N.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function f(e){this.$L=$(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[C]=!0}var v=f.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(N.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(m);if(s){var a=s[2]-1||0,o=(s[7]||"0").substring(0,3);return r?new Date(Date.UTC(s[1],a,s[3]||1,s[4]||0,s[5]||0,s[6]||0,o)):new Date(s[1],a,s[3]||1,s[4]||0,s[5]||0,s[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return N},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var r=w(e);return this.startOf(t)<=r&&r<=this.endOf(t)},v.isAfter=function(e,t){return w(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<w(e)},v.$g=function(e,t,r){return N.u(e)?this[t]:this.set(r,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var r=this,s=!!N.u(t)||t,d=N.p(e),h=function(e,t){var a=N.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return s?a:a.endOf(i)},m=function(e,t){return N.w(r.toDate()[e].apply(r.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,f=this.$M,v=this.$D,k="set"+(this.$u?"UTC":"");switch(d){case u:return s?h(1,0):h(31,11);case c:return s?h(1,f):h(0,f+1);case l:var y=this.$locale().weekStart||0,b=(g<y?g+7:g)-y;return h(s?v-b:v+(6-b),f);case i:case p:return m(k+"Hours",0);case n:return m(k+"Minutes",1);case o:return m(k+"Seconds",2);case a:return m(k+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var r,l=N.p(e),d="set"+(this.$u?"UTC":""),h=(r={},r[i]=d+"Date",r[p]=d+"Date",r[c]=d+"Month",r[u]=d+"FullYear",r[n]=d+"Hours",r[o]=d+"Minutes",r[a]=d+"Seconds",r[s]=d+"Milliseconds",r)[l],m=l===i?this.$D+(t-this.$W):t;if(l===c||l===u){var g=this.clone().set(p,1);g.$d[h](m),g.init(),this.$d=g.set(p,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[N.p(e)]()},v.add=function(s,d){var p,h=this;s=Number(s);var m=N.p(d),g=function(e){var t=w(h);return N.w(t.date(t.date()+Math.round(e*s)),h)};if(m===c)return this.set(c,this.$M+s);if(m===u)return this.set(u,this.$y+s);if(m===i)return g(1);if(m===l)return g(7);var f=(p={},p[o]=t,p[n]=r,p[a]=e,p)[m]||1,v=this.$d.getTime()+s*f;return N.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var s=e||"YYYY-MM-DDTHH:mm:ssZ",a=N.z(this),o=this.$H,n=this.$m,i=this.$M,l=r.weekdays,c=r.months,d=r.meridiem,u=function(e,r,a,o){return e&&(e[r]||e(t,s))||a[r].slice(0,o)},p=function(e){return N.s(o%12||12,e,"0")},m=d||function(e,t,r){var s=e<12?"AM":"PM";return r?s.toLowerCase():s};return s.replace(g,(function(e,s){return s||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return N.s(t.$y,4,"0");case"M":return i+1;case"MM":return N.s(i+1,2,"0");case"MMM":return u(r.monthsShort,i,c,3);case"MMMM":return u(c,i);case"D":return t.$D;case"DD":return N.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(r.weekdaysMin,t.$W,l,2);case"ddd":return u(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return N.s(o,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return m(o,n,!0);case"A":return m(o,n,!1);case"m":return String(n);case"mm":return N.s(n,2,"0");case"s":return String(t.$s);case"ss":return N.s(t.$s,2,"0");case"SSS":return N.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(s,p,h){var m,g=this,f=N.p(p),v=w(s),k=(v.utcOffset()-this.utcOffset())*t,y=this-v,b=function(){return N.m(g,v)};switch(f){case u:m=b()/12;break;case c:m=b();break;case d:m=b()/3;break;case l:m=(y-k)/6048e5;break;case i:m=(y-k)/864e5;break;case n:m=y/r;break;case o:m=y/t;break;case a:m=y/e;break;default:m=y}return h?m:N.a(m)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),s=$(e,t,!0);return s&&(r.$L=s),r},v.clone=function(){return N.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},f}(),V=E.prototype;return w.prototype=V,[["$ms",s],["$s",a],["$m",o],["$H",n],["$W",i],["$M",c],["$y",u],["$D",p]].forEach((function(e){V[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,E,w),e.$i=!0),w},w.locale=$,w.isDayjs=S,w.unix=function(e){return w(1e3*e)},w.en=b[y],w.Ls=b,w.p={},w}))},3221:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t,r){var s=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var r;1===t.length&&t[0].length>0&&(t=t[0]),r=(t=t.filter((function(e){return e})))[0];for(var s=1;s<t.length;s+=1)t[s].isValid()&&!t[s][e](r)||(r=t[s]);return r};r.max=function(){var e=[].slice.call(arguments,0);return s("isAfter",e)},r.min=function(){var e=[].slice.call(arguments,0);return s("isBefore",e)}}}))},57657:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(s,a,o){var n=a.prototype;o.utc=function(e){var t={date:e,utc:!0,args:arguments};return new a(t)},n.utc=function(t){var r=o(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},n.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var i=n.parse;n.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),i.call(this,e)};var l=n.init;n.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=n.utcOffset;n.utcOffset=function(s,a){var o=this.$utils().u;if(o(s))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof s&&(s=function(e){void 0===e&&(e="");var s=e.match(t);if(!s)return null;var a=(""+s[0]).match(r)||["-",0,0],o=a[0],n=60*+a[1]+ +a[2];return 0===n?0:"+"===o?n:-n}(s),null===s))return this;var n=Math.abs(s)<=16?60*s:s,i=this;if(a)return i.$offset=n,i.$u=0===s,i;if(0!==s){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(i=this.local().add(n+l,e)).$offset=n,i.$x.$localOffset=l}else i=this.utc();return i};var d=n.format;n.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},n.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var u=n.toDate;n.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var p=n.diff;n.diff=function(e,t,r){if(e&&this.$u===e.$u)return p.call(this,e,t,r);var s=this.local(),a=o(e).local();return p.call(s,a,t,r)}}}))},15716:function(e,t,r){var s=r(76868);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("4cc1b774",s,!0,{sourceMap:!1,shadowMode:!1})},3286:function(e,t,r){var s=r(95574);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("5a29acf0",s,!0,{sourceMap:!1,shadowMode:!1})},24529:function(e,t,r){var s=r(20177);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("66ba062a",s,!0,{sourceMap:!1,shadowMode:!1})},88493:function(e,t,r){var s=r(83853);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("11d68e9b",s,!0,{sourceMap:!1,shadowMode:!1})},77726:function(e,t,r){var s=r(11966);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("1c23f151",s,!0,{sourceMap:!1,shadowMode:!1})},12122:function(e,t,r){var s=r(28954);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("667b73de",s,!0,{sourceMap:!1,shadowMode:!1})},57756:function(e,t,r){var s=r(16956);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("7cbf0c66",s,!0,{sourceMap:!1,shadowMode:!1})},59211:function(e,t,r){var s=r(16587);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("532f48ca",s,!0,{sourceMap:!1,shadowMode:!1})},14614:function(e,t,r){var s=r(98198);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("43e0813f",s,!0,{sourceMap:!1,shadowMode:!1})},88288:function(e,t,r){var s=r(93408);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("dd1aafac",s,!0,{sourceMap:!1,shadowMode:!1})},59637:function(e,t,r){var s=r(2357);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("f0bc7e7e",s,!0,{sourceMap:!1,shadowMode:!1})},10490:function(e,t,r){var s=r(84250);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("e3694608",s,!0,{sourceMap:!1,shadowMode:!1})},585:function(e,t,r){var s=r(83497);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("39e02b71",s,!0,{sourceMap:!1,shadowMode:!1})},89247:function(e,t,r){var s=r(64351);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("231d2e5d",s,!0,{sourceMap:!1,shadowMode:!1})},926:function(e,t,r){var s=r(24094);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("0b6cecd6",s,!0,{sourceMap:!1,shadowMode:!1})},22091:function(e,t,r){var s=r(61739);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("9f733582",s,!0,{sourceMap:!1,shadowMode:!1})},13272:function(e,t,r){var s=r(920);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(74825).A;a("207a628b",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=harvester-1.0.1.umd.min.list.js.map