(("undefined"!==typeof self?self:this)["webpackChunkharvester_1_6_0"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_1_6_0"]||[]).push([[902],{59989:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(9274);const a={key:1};function n(e,t,r,n,s,i){const l=(0,o.resolveComponent)("router-link");return i.to?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,to:i.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.value),1)])),_:1},8,["to"])):((0,o.openBlock)(),(0,o.createElementBlock)("span",a,(0,o.toDisplayString)(r.value),1))}var s=r(32766),i={props:{value:{type:String,default:""},row:{type:Object,default:()=>({})}},data(){const e=this.$store.getters["harvester/all"](s.rk.VM)||[];return{vmList:e}},computed:{vm(){const e=this.vmList.find((e=>e.id===`${this.row.metadata.namespace}/${this.value}`));return e},to(){return this.vm?.detailLocation}}},l=r(47433);const c=(0,l.A)(i,[["render",n]]);var u=c},22234:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var o=r(9274);const a={key:1},n={key:2,class:"text-muted"};function s(e,t,r,s,i,l){const c=(0,o.resolveComponent)("router-link");return l.to?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,to:l.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.value),1)])),_:1},8,["to"])):r.value?((0,o.openBlock)(),(0,o.createElementBlock)("span",a,(0,o.toDisplayString)(r.value),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",n," — "))}var i=r(32766),l={props:{value:{type:String,default:""}},data(){const e=this.$store.getters["harvester/all"](i.rk.SCHEDULE_VM_BACKUP)||[];return{scheduleList:e}},computed:{vmSchedule(){return this.value?this.scheduleList.find((e=>e.id===this.value)):""},to(){return this.vmSchedule?.detailLocation}}},c=r(47433);const u=(0,c.A)(l,[["render",s]]);var d=u},32012:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(9274);function a(e,t,r,a,n,s){return(0,o.openBlock)(),(0,o.createElementBlock)("span",null,(0,o.toDisplayString)(s.displayLabel),1)}var n=r(2602),s=r(65359),i={props:{value:{type:Object,default:()=>({})}},computed:{...(0,s.L8)({t:"i18n/t"}),displayLabel(){return"user"===this.value?.[n.r.CLOUD_INIT]?this.t("harvester.cloudTemplate.userData"):this.t("harvester.cloudTemplate.networkData")}}},l=r(47433);const c=(0,l.A)(i,[["render",a]]);var u=c},13396:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var o=r(9274);const a={key:0,class:"empty"},n={key:1,class:"parent"},s={class:"progress-box"},i={class:"text"},l={key:2};function c(e,t,r,c,u,d){const p=(0,o.resolveComponent)("ProgressBarMulti"),v=(0,o.resolveDirective)("clean-tooltip");return d.isEmpty?((0,o.openBlock)(),(0,o.createElementBlock)("div",a,t[0]||(t[0]=[(0,o.createElementVNode)("span",{class:"text-muted"}," — ",-1)]))):"complete"!=d.status?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createElementVNode)("div",s,[(0,o.withDirectives)((0,o.createVNode)(p,{values:d.percentage,min:0,max:100},null,8,["values"]),[[v,d.tooltip]])]),(0,o.createElementVNode)("div",i,(0,o.toDisplayString)(r.value.percentage||0)+"% ",1)])):((0,o.openBlock)(),(0,o.createElementBlock)("div",l,(0,o.toDisplayString)(e.t("generic.completed")),1))}var u=r(74315),d={name:"HarvesterBackupProgressBar",components:{ProgressBarMulti:u.A},props:{value:{type:Object,default:()=>({})}},computed:{isEmpty(){return void 0===this.value?.percentage},status(){switch(this.value?.percentage){case 0:return"starting";case 100:return"complete";default:return"progress"}},percentage(){const e=Number(this.value.percentage);let t="bg-success";return 0===e?t="bg-secondary":e<30?t="bg-darker":e<70&&(t="bg-warning"),[{value:e,color:t}]},tooltip(){if(!this.value?.details?.volumes?.length)return null;const e=this.t(`harvester.${this.value.type}.progress.details`),t=this.value.details.volumes.map((e=>`<br><b>${e.volumeName}</b>:  ${e.progress||0}%`));return t.reduce(((e,t)=>e+t),`${e}<br>`)}}},p=(r(43817),r(47433));const v=(0,p.A)(d,[["render",c],["__scopeId","data-v-fa34696c"]]);var m=v},96736:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var o=r(9274);const a={key:0,class:"text-error"};function n(e,t,r,n,s,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createTextVNode)((0,o.toDisplayString)(r.value)+" ",1),i.shouldShowError?((0,o.openBlock)(),(0,o.createElementBlock)("p",a,(0,o.toDisplayString)(e.t("harvester.backup.matchTarget")),1)):(0,o.createCommentVNode)("",!0)])}var s=r(35664),i=r(32766),l={props:{value:{type:String,default:""}},async fetch(){const e=await this.$store.dispatch("harvester/findAll",{type:i.rk.SETTING});this.harvesterSettings=e;const t=this.$store.getters["rancher/schemaFor"](s.k$.CLUSTER_ROLE_TEMPLATE_BINDING);if(t){const e=await this.$store.dispatch("rancher/findAll",{type:s.k$.CLUSTER_ROLE_TEMPLATE_BINDING},{root:!0});this.clusterRoleTemplateBinding=e}},data(){const e=this.$store.getters["auth/v3User"];return{harvesterSettings:[],clusterRoleTemplateBinding:[],user:e}},computed:{isMatch(){const e=this.$store.getters["harvester/all"](i.rk.SETTING)||[],t=e.find((e=>"backup-target"===e.id));let r=!1;try{r=this.value===t?.parseValue?.endpoint}catch(o){}return r},isClusterOwner(){const e=this.clusterRoleTemplateBinding.find((e=>e.userId===this.user?.id));return"cluster-owner"===e?.roleTemplateId},shouldShowError(){return this.isClusterOwner&&!this.isMatch&&this.value}}},c=r(47433);const u=(0,c.A)(l,[["render",n]]);var d=u},46e3:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var o=r(9274);const a={key:0},n={key:1},s={key:2,class:"text-muted"};function i(e,t,r,i,l,c){const u=(0,o.resolveDirective)("clean-tooltip");return c.row?.isCPUManagerEnableInProgress?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",a,t[0]||(t[0]=[(0,o.createElementVNode)("i",{class:"icon icon-spinner icon-spin"},null,-1)]))),[[u,c.cpuManagerStatus]]):c.row?.isCPUManagerEnabled?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",n,t[1]||(t[1]=[(0,o.createElementVNode)("i",{class:"icon icon-checkmark"},null,-1)]))),[[u,c.cpuManagerStatus]]):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",s,t[2]||(t[2]=[(0,o.createTextVNode)(" — ")]))),[[u,c.cpuManagerStatus]])}var l={name:"HarvesterCPUPinningFormatter",props:{value:{type:String,default:""},rows:{type:Array,required:!0}},computed:{row(){return this.rows.find((e=>e.id===this.value))},cpuManagerStatus(){return this.row?.isCPUManagerEnableInProgress?this.t("generic.loading"):this.row?.isCPUManagerEnabled?this.t("generic.enabled"):this.t("generic.disabled")}}},c=r(47433);const u=(0,c.A)(l,[["render",i]]);var d=u},79211:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(9274);function a(e,t,r,a,n,s){const i=(0,o.resolveDirective)("clean-tooltip");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(r.value),1)])),[[i,s.cronTooltipHint]])}var n=r(37021),s=r.n(n),i={props:{value:{type:String,default:""}},computed:{cronTooltipHint(){let e="";try{e=s().toString(this.value,{verbose:!0})}catch(t){e=this.t("generic.invalidCron")}return e||this.value.spec.cron}}},l=r(47433);const c=(0,l.A)(i,[["render",a]]);var u=c},8579:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var o=r(9274);const a={class:"state"};function n(e,t,r,n,s,i){const l=(0,o.resolveComponent)("BadgeState"),c=(0,o.resolveComponent)("v-dropdown"),u=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.withDirectives)((0,o.createVNode)(l,{color:i.stateBackground,label:i.stateDisplay},null,8,["color","label"]),[[u,i.errorMessage]]),i.warningMessage.length?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,trigger:"hover",offset:"16"},{popper:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.warningMessage,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:t},(0,o.toDisplayString)(t+1)+". "+(0,o.toDisplayString)(e),1)))),128))])),default:(0,o.withCtx)((()=>[t[0]||(t[0]=(0,o.createElementVNode)("span",{class:"tooltip-target ml-5"},[(0,o.createElementVNode)("i",{class:"icon icon-warning icon-lg text-warning"})],-1))])),_:1})):(0,o.createCommentVNode)("",!0)])}var s=r(41418),i=r(73883);const l="healthy",c="warning";var u={components:{BadgeState:s.j},props:{value:{type:String,default:""},row:{type:Object,required:!0}},computed:{diskState(){const e=this.row?.longhornDisks||[],t=e.reduce(((e,t)=>("True"===t?.readyCondition?.status&&"True"===t?.schedulableCondition?.status||(e=c),e)),l);return t},stateDisplay(){return(0,i.ch)(this.diskState)},stateBackground(){return this.diskState===l?"bg-success":"bg-warning"},errorMessage(){return this.diskState!==l?this.t("harvester.host.disk.error"):""},warningMessage(){const e=this.row?.unProvisionedDisks||[],t=[];return e.map((e=>{e?.metadata?.state?.error&&t.push(e.metadata.state.message)})),t}}},d=(r(20978),r(47433));const p=(0,d.A)(u,[["render",n],["__scopeId","data-v-af7a018c"]]);var v=p},18290:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(9274);function a(e,t,r,a,n,s){const i=(0,o.resolveComponent)("CopyToClipboardText"),l=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.withDirectives)((0,o.createVNode)(i,{text:s.nameDisplay},null,8,["text"]),[[l,s.ip]])])}var n=r(35664),s=r(78386),i={components:{CopyToClipboardText:s.A},props:{value:{type:String,default:""}},computed:{node(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/byId`](n.NW,this.value)},ip(){return this.node?.internalIp},nameDisplay(){return this.node?.nameDisplay||""}}},l=r(47433);const c=(0,l.A)(i,[["render",a]]);var u=c},52279:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(9274);function a(e,t,r,a,n,s){const i=(0,o.resolveComponent)("CopyToClipboardText");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.parsed,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t},[(0,o.createVNode)(i,{text:e.label},null,8,["text"])])))),128))])}var n=r(78386),s=r(50667),i={components:{CopyToClipboardText:n.A},props:{row:{type:Object,required:!0},col:{type:Object,required:!0}},computed:{parsed(){const e=this.row||{},t=e?.spec?.listeners||[],r=[],o=e.status?.address;if(o)return t.length>0?t.forEach((e=>{let t;const a=[80,443].includes(e.port);t="TCP"===e?.protocol&&a&&(0,s.E4)(e.port,e?.protocol)?`https://${o}:${e.port}`:`http://${o}:${e.port}`;let n=o;a||(n=`${o}:${e.port}`);const i=`<a href="${t}" target="_blank" rel="noopener noreferrer nofollow">${n}</a>`;r.push({html:i,label:n})})):r.push({html:o,label:o}),r}}},l=r(47433);const c=(0,l.A)(i,[["render",a]]);var u=c},69760:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var o=r(9274);const a={key:0},n={key:0};function s(e,t,r,s,i,l){const c=(0,o.resolveComponent)("BadgeState");return l.migrationState?((0,o.openBlock)(),(0,o.createElementBlock)("div",a,[r.showSuccess?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("span",n,"/")),(0,o.createVNode)(c,{label:l.migrationState,color:l.migrationBackground},null,8,["label","color"])])):(0,o.createCommentVNode)("",!0)}var i=r(41418),l=r(32766),c={emits:["state-changed"],components:{BadgeState:i.j},props:{vmResource:{type:Object,required:!0},showSuccess:{type:Boolean,default:!0}},computed:{vmiResource(){const e=this.$store.getters["harvester/all"](l.rk.VMI)||[],t=e.find((e=>e?.metadata?.ownerReferences?.[0]?.uid===this.vmResource?.metadata?.uid));return t},migrationState(){return this.vmiResource?.migrationState?.status||""},migrationBackground(){return this.vmiResource?.migrationStateBackground||""}},watch:{migrationState(e){this.$emit("state-changed",e)}}},u=(r(50002),r(47433));const d=(0,u.A)(c,[["render",s],["__scopeId","data-v-9e992d88"]]);var p=d},93922:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var o=r(9274);const a={class:"vfs"},n={key:0},s={key:0},i={class:"vfs-popup"},l={key:0};function c(e,t,r,c,u,d){const p=(0,o.resolveComponent)("router-link"),v=(0,o.resolveComponent)("v-dropdown");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.rows.visible,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t},[(0,o.createVNode)(p,{to:e.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.name),1)])),_:2},1032,["to"]),t<d.rows.visible.length-1?((0,o.openBlock)(),(0,o.createElementBlock)("span",n,", ")):(0,o.createCommentVNode)("",!0)])))),128)),(0,o.createVNode)(v,{trigger:"click",placement:"top"},{popper:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.rows.invisible,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t},[(0,o.createVNode)(p,{to:e.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.name),1)])),_:2},1032,["to"]),t<d.rows.invisible.length-1?((0,o.openBlock)(),(0,o.createElementBlock)("span",l,", ")):(0,o.createCommentVNode)("",!0)])))),128))])])])),default:(0,o.withCtx)((()=>[d.allVFs.length>u.limitedNumbers?((0,o.openBlock)(),(0,o.createElementBlock)("span",s,[t[1]||(t[1]=(0,o.createTextVNode)(" , ")),(0,o.createElementVNode)("a",{href:"javascript:void(0)",class:"show-more",onClick:t[0]||(t[0]=(0,o.withModifiers)((e=>u.showAll=!u.showAll),["prevent"]))},(0,o.toDisplayString)(e.t("harvester.sriov.showMore")),1)])):(0,o.createCommentVNode)("",!0)])),_:1})])}var u=r(20652),d={name:"HarvesterVFAddress",props:{row:{type:Object,required:!0}},data(){return{showAll:!1,limitedNumbers:3}},computed:{allVFs(){return this.row.status?.vfAddresses||[]},rows(){const e=this.allVFs.map((e=>{const[t,r,o]=e.split(":"),a=`${this.row.spec?.nodeName}-${t}${r}${o.replace(".","")}`,n={name:`${u.KR}-c-cluster-resource`,params:{cluster:this.$store.getters["clusterId"],resource:this.row.childDevice},query:{q:a}};return{to:n,name:e}}));return{visible:e.slice(0,this.limitedNumbers),invisible:e.slice(this.limitedNumbers)}}}},p=(r(28910),r(47433));const v=(0,p.A)(d,[["render",c],["__scopeId","data-v-3622b06f"]]);var m=v},22011:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(9274);const a={class:"vfs-num"};function n(e,t,r,n,s,i){const l=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createVNode)(l,{to:i.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.row.numVFs),1)])),_:1},8,["to"])])}var s=r(20652),i={name:"HarvesterVFsNum",props:{row:{type:Object,required:!0}},computed:{to(){return{name:`${s.KR}-c-cluster-resource`,params:{cluster:this.$store.getters["clusterId"],resource:this.row.childDevice},query:{parentSriov:this.row.id}}}}},l=r(47433);const c=(0,l.A)(i,[["render",n]]);var u=c},66810:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var o=r(9274);const a={class:"vgpudevices"},n={key:0},s={key:0},i={class:"vgpu-popup"},l={key:0};function c(e,t,r,c,u,d){const p=(0,o.resolveComponent)("router-link"),v=(0,o.resolveComponent)("v-dropdown");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.rows.visible,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t},[(0,o.createVNode)(p,{to:e.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.name),1)])),_:2},1032,["to"]),t<d.rows.visible.length-1?((0,o.openBlock)(),(0,o.createElementBlock)("span",n,", ")):(0,o.createCommentVNode)("",!0)])))),128)),(0,o.createVNode)(v,{trigger:"click",placement:"top"},{popper:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.rows.invisible,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t},[(0,o.createVNode)(p,{to:e.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.name),1)])),_:2},1032,["to"]),t<d.rows.invisible.length-1?((0,o.openBlock)(),(0,o.createElementBlock)("span",l,", ")):(0,o.createCommentVNode)("",!0)])))),128))])])])),default:(0,o.withCtx)((()=>[d.allVGpuDevices.length>u.limitedNumbers?((0,o.openBlock)(),(0,o.createElementBlock)("span",s,[t[1]||(t[1]=(0,o.createTextVNode)(" , ")),(0,o.createElementVNode)("a",{href:"javascript:void(0)",class:"show-more",onClick:t[0]||(t[0]=(0,o.withModifiers)((e=>u.showAll=!u.showAll),["prevent"]))},(0,o.toDisplayString)(e.t("harvester.sriovgpu.showMore")),1)])):(0,o.createCommentVNode)("",!0)])),_:1})])}var u=r(20652),d={name:"HarvesterVGpuDevices",props:{row:{type:Object,required:!0}},data(){return{showAll:!1,limitedNumbers:2}},computed:{allVGpuDevices(){return this.row.status?.vGPUDevices||[]},rows(){const e=this.allVGpuDevices.map((e=>{const t={name:`${u.KR}-c-cluster-resource`,params:{cluster:this.$store.getters["clusterId"],resource:this.row.childDevice},query:{q:e}};return{to:t,name:e}}));return{visible:e.slice(0,this.limitedNumbers),invisible:e.slice(this.limitedNumbers)}}}},p=(r(6987),r(47433));const v=(0,p.A)(d,[["render",c],["__scopeId","data-v-e3909f16"]]);var m=v},98993:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var o=r(9274);const a={class:"state"};function n(e,t,r,n,s,i){const l=(0,o.resolveComponent)("HarvesterMigrationState"),c=(0,o.resolveComponent)("VMState"),u=(0,o.resolveComponent)("v-dropdown");return(0,o.openBlock)(),(0,o.createElementBlock)("span",null,[(0,o.withDirectives)((0,o.createVNode)(l,{"vm-resource":r.row,onStateChanged:i.migrationStateChanged},null,8,["vm-resource","onStateChanged"]),[[o.vShow,s.isMigrating]]),(0,o.withDirectives)((0,o.createElementVNode)("div",a,[(0,o.createVNode)(c,{row:r.row},null,8,["row"]),i.warningMessage.length?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,ref:"popover",trigger:"manual",offset:"16"},{popper:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{onMouseenter:t[3]||(t[3]=e=>i.showMessage(!0)),onMouseleave:t[4]||(t[4]=e=>i.showMessage(!1))},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.warningMessage,((a,n)=>((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:n},[(0,o.createTextVNode)((0,o.toDisplayString)(n+1)+". ",1),i.canMiss(r.row,a)?((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:0,class:"text-link",role:"button",onClick:t[2]||(t[2]=(...e)=>i.dismiss&&i.dismiss(...e))},(0,o.toDisplayString)(e.t("harvester.upgradePage.dismissMessage")),1)):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(a),1)])))),128))],32)])),default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",{class:"tooltip-target",onMouseenter:t[0]||(t[0]=e=>i.showMessage(!0)),onMouseleave:t[1]||(t[1]=e=>i.delayClose())},t[5]||(t[5]=[(0,o.createElementVNode)("i",{class:"icon icon-warning icon-lg text-warning"},null,-1)]),32)])),_:1},512)):(0,o.createCommentVNode)("",!0)],512),[[o.vShow,!s.isMigrating]])])}var s=r(74562),i=r(69760),l={components:{VMState:s.A,HarvesterMigrationState:i["default"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},allNodeNetwork:{type:Array,default:()=>[]},allClusterNetwork:{type:Array,default:()=>[]}},data(){return{isMigrating:!1,timer:null}},beforeUnmount(){this.timer&&clearTimeout(this.timer)},computed:{warningMessage(){const e=[];if("VM error"===this.row?.actualState&&this.row.warningMessage?.message&&e.push(this.row.warningMessage?.message),this.row?.migrationMessage&&e.push(this.row?.migrationMessage.message),this.row.warningMessage?.message)if(this.row.warningMessage?.pod){const t=this.row.warningMessage.pod;t.metadata?.state?.error&&!/pod has unbound immediate PersistentVolumeClaims/.test(t.metadata?.state?.message)&&e.push(t.metadata?.state?.message)}else e.push(this.row.warningMessage?.message);return e}},methods:{migrationStateChanged(e){this.isMigrating="Failed"!==e&&!!e},showMessage(e){this.timer&&clearTimeout(this.timer),this.$refs.popover&&(e?this.$refs.popover.show():this.$refs.popover.hide())},delayClose(){this.timer=setTimeout((()=>{this.showMessage(!1)}),500)},async dismiss(){try{await this.row.doAction("dismissInsufficientResourceQuota")}catch(e){400!==e?._status&&503!==e?._status||this.$store.dispatch("growl/error",{title:this.t("harvester.notification.title.error"),message:e?.errors[0]},{root:!0})}},canMiss(e,t){return e.warningMessage?.message===t&&e.warningMessage?.canDismiss}}},c=(r(84326),r(47433));const u=(0,c.A)(l,[["render",n],["__scopeId","data-v-216558d8"]]);var d=u},5538:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var o=r(9274);const a={class:"state"},n={class:"warning-message"};function s(e,t,r,s,i,l){const c=(0,o.resolveComponent)("ProgressBarMulti"),u=(0,o.resolveComponent)("VolumeState"),d=(0,o.resolveComponent)("v-dropdown"),p=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("span",null,[(0,o.createElementVNode)("div",null,[l.isRebuilding?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,values:l.percentage,min:0,max:100,class:"mb-10"},null,8,["values"])),[[p,l.rebuildingMessage]]):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",a,[(0,o.createVNode)(u,{row:r.row},null,8,["row"]),l.warningMessage?((0,o.openBlock)(),(0,o.createBlock)(d,{key:0,trigger:"hover",offset:"16"},{popper:(0,o.withCtx)((()=>[(0,o.createElementVNode)("p",n,(0,o.toDisplayString)(l.warningMessage),1)])),default:(0,o.withCtx)((()=>[t[0]||(t[0]=(0,o.createElementVNode)("span",{class:"tooltip-target"},[(0,o.createElementVNode)("i",{class:"icon icon-warning icon-lg text-warning"})],-1))])),_:1})):(0,o.createCommentVNode)("",!0)])])}var i=r(74315),l=r(2602),c=r(74562),u={components:{VolumeState:c.A,ProgressBarMulti:i.A},props:{row:{type:Object,required:!0}},computed:{warningMessage(){return this.row.relatedPV?.metadata?.annotations?.[l.r.VOLUME_ERROR]},rebuildStatus(){return this.row.longhornEngine?.status?.rebuildStatus},isRebuilding(){return this.rebuildStatus&&Object.keys(this.rebuildStatus).length>0},percentage(){if(!this.isRebuilding)return;const e=Object.values(this.rebuildStatus)?.[0],t=e?.progress;return[{value:t,color:"bg-warning"}]},rebuildingMessage(){return this.$store.getters["i18n/t"]("harvester.volume.rebuildingMessage",{percentage:this.percentage[0].value})}}},d=(r(77726),r(47433));const p=(0,d.A)(u,[["render",s],["__scopeId","data-v-e0f7fbca"]]);var v=p},47385:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var o=r(9274);const a={key:0,class:"text"},n={key:1,class:"text"};function s(e,t,r,s,i,l){const c=(0,o.resolveComponent)("BadgeStateFormatter");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,["N/A"!==r.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createVNode)(c,{class:"ml-10",arbitrary:r.arbitrary,row:r.row,value:r.value},null,8,["arbitrary","row","value"])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",n,(0,o.toDisplayString)(r.value),1))])}var i=r(74562),l={components:{BadgeStateFormatter:i.A},props:{value:{type:String,default:""},row:{type:Object,required:!0},col:{type:Object,default:()=>{}},arbitrary:{type:Boolean,default:!1}},data(){return{}}},c=(r(77278),r(47433));const u=(0,c.A)(l,[["render",s],["__scopeId","data-v-d543d746"]]);var d=u},40179:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var o=r(9274);function a(e,t,r,a,n,s){const i=(0,o.resolveComponent)("router-link");return r.value.length>0?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,to:s.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.value.length),1)])),_:1},8,["to"])):(0,o.createCommentVNode)("",!0)}var n={props:{value:{type:Array,default:()=>[]},row:{type:Object,default:()=>({})}},computed:{to(){const e=this.row?.detailLocation;return e.hash="#instances",e}}},s=r(47433);const i=(0,s.A)(n,[["render",a]]);var l=i},67359:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(9274);const a={key:1};function n(e,t,r,n,s,i){const l=(0,o.resolveComponent)("router-link");return i.to?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,to:i.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.value),1)])),_:1},8,["to"])):((0,o.openBlock)(),(0,o.createElementBlock)("span",a,(0,o.toDisplayString)(r.value),1))}var s=r(35664),i={props:{value:{type:String,default:""},row:{type:Object,default:()=>({})}},async fetch(){this.volumeList=await this.$store.dispatch("harvester/findAll",{type:s.YH})},data(){return{volumeList:[]}},computed:{volume(){const e=this.row?.metadata?.namespace,t=this.volumeList.find((t=>t.id===`${e}/${this.value}`))||{};return t},to(){return this.volume?.detailLocation}}},l=r(47433);const c=(0,l.A)(i,[["render",n]]);var u=c},12521:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(9274);const a={class:"state"};function n(e,t,r,n,s,i){const l=(0,o.resolveComponent)("State"),c=(0,o.resolveComponent)("v-dropdown");return(0,o.openBlock)(),(0,o.createElementBlock)("span",null,[(0,o.createElementVNode)("div",a,[(0,o.createVNode)(l,{row:r.row},null,8,["row"]),i.warningMessages.length>0?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,trigger:"hover",offset:"16"},{popper:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.warningMessages,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:t},(0,o.toDisplayString)(t+1)+". "+(0,o.toDisplayString)(e.text),1)))),128))])),default:(0,o.withCtx)((()=>[t[0]||(t[0]=(0,o.createElementVNode)("span",{class:"tooltip-target"},[(0,o.createElementVNode)("i",{class:"icon icon-warning icon-lg text-warning"})],-1))])),_:1})):(0,o.createCommentVNode)("",!0)])])}var s=r(74562),i={components:{State:s.A},props:{row:{type:Object,required:!0}},computed:{warningMessages(){return this.row.warningMessages}}},l=(r(26801),r(47433));const c=(0,l.A)(i,[["render",n],["__scopeId","data-v-61fe0c74"]]);var u=c},41929:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),n=r(40935),s=r.n(n),i=s()(a());i.push([e.id,'.parent[data-v-fa34696c]{display:grid;grid-template-areas:"progress text";grid-template-columns:auto 80px;align-items:center}.parent .progress[data-v-fa34696c]{background-color:#b8c3dc;width:100%}.parent .progress-box[data-v-fa34696c]{grid-area:progress}.parent .text[data-v-fa34696c]{grid-area:text;text-align:center}',""]),t["default"]=i},22962:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),n=r(40935),s=r.n(n),i=s()(a());i.push([e.id,".state[data-v-af7a018c]{display:flex;justify-content:left}.state .icon-warning[data-v-af7a018c]{margin-top:2px}",""]),t["default"]=i},99826:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),n=r(40935),s=r.n(n),i=s()(a());i.push([e.id,".badge-state[data-v-9e992d88]{padding:5px 10px;border:1px solid transparent;border-radius:20px}.badge-state.bg-info[data-v-9e992d88]{border-color:var(--primary)}.badge-state.bg-error[data-v-9e992d88]{border-color:var(--error)}.badge-state.bg-warning[data-v-9e992d88]{border-color:var(--warning)}.badge-state.bg-success[data-v-9e992d88]{color:var(--success);border-color:var(--success);background:transparent}.sortable-table TD .badge-state[data-v-9e992d88]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;word-wrap:break-word;display:inline-block;max-width:100%;position:relative;padding:2px 10px 1px 10px;font-size:1em;max-width:200px;font-size:.85em;vertical-align:middle}",""]),t["default"]=i},84910:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),n=r(40935),s=r.n(n),i=s()(a());i.push([e.id,".vfs[data-v-3622b06f]{min-width:380px}.vfs .show-more[data-v-3622b06f]{font-size:12px}.popover .popover-inner .vfs-popup a[data-v-3622b06f]{color:var(--link)}.popover .popover-inner .vfs-popup a[data-v-3622b06f]:hover{text-decoration:underline;color:var(--body-text)}",""]),t["default"]=i},15243:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),n=r(40935),s=r.n(n),i=s()(a());i.push([e.id,".vgpudevices[data-v-e3909f16]{min-width:380px}.vgpudevices .show-more[data-v-e3909f16]{font-size:12px}.popover .popover-inner .vgpu-popup a[data-v-e3909f16]{color:var(--link)}.popover .popover-inner .vgpu-popup a[data-v-e3909f16]:hover{text-decoration:underline;color:var(--body-text)}",""]),t["default"]=i},21126:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),n=r(40935),s=r.n(n),i=s()(a());i.push([e.id,".state[data-v-216558d8]{display:flex;justify-content:space-between}.state .icon-warning[data-v-216558d8]{margin-top:2px}",""]),t["default"]=i},11966:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),n=r(40935),s=r.n(n),i=s()(a());i.push([e.id,".state[data-v-e0f7fbca]{display:flex}.state .icon-warning[data-v-e0f7fbca]{margin-top:2px}.warning-message[data-v-e0f7fbca]:first-letter{text-transform:uppercase}",""]),t["default"]=i},45086:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),n=r(40935),s=r.n(n),i=s()(a());i.push([e.id,".text[data-v-d543d746]{text-align:center}",""]),t["default"]=i},97905:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),n=r(40935),s=r.n(n),i=s()(a());i.push([e.id,".state[data-v-61fe0c74]{display:flex}.state .icon-warning[data-v-61fe0c74]{margin-top:2px}",""]),t["default"]=i},43817:function(e,t,r){var o=r(41929);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("4c5ab4e7",o,!0,{sourceMap:!1,shadowMode:!1})},20978:function(e,t,r){var o=r(22962);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("ca65fb14",o,!0,{sourceMap:!1,shadowMode:!1})},50002:function(e,t,r){var o=r(99826);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("3657a623",o,!0,{sourceMap:!1,shadowMode:!1})},28910:function(e,t,r){var o=r(84910);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("ec71e408",o,!0,{sourceMap:!1,shadowMode:!1})},6987:function(e,t,r){var o=r(15243);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("68ffca1c",o,!0,{sourceMap:!1,shadowMode:!1})},84326:function(e,t,r){var o=r(21126);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("390707e0",o,!0,{sourceMap:!1,shadowMode:!1})},77726:function(e,t,r){var o=r(11966);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("1c23f151",o,!0,{sourceMap:!1,shadowMode:!1})},77278:function(e,t,r){var o=r(45086);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("4ab85800",o,!0,{sourceMap:!1,shadowMode:!1})},26801:function(e,t,r){var o=r(97905);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("c7ee64b6",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=harvester-1.6.0.umd.min.formatters.js.map