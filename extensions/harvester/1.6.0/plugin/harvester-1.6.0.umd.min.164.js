(("undefined"!==typeof self?self:this)["webpackChunkharvester_1_6_0"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_1_6_0"]||[]).push([[164,25],{87964:function(e,t,a){"use strict";a.d(t,{F:function(){return l},Y:function(){return n}});var r=a(95457),s=a(9274),o=a(37069),c=a(65359);const n=e=>{const t=(0,o.lq)(),a=(0,c.Pj)(),r=(0,s.toValue)(e),n=(0,s.computed)((()=>t.params.namespace?`${t.params.namespace}/${t.params.id}`:`${t.params.id}`)),l=(0,s.computed)((()=>a.getters["cluster/schemaFor"](r))),u=(0,s.computed)((()=>t.params.cluster));return{clusterId:u.value,id:n.value,schema:l.value}},l=async(e,t,a="cluster")=>{const o=(0,c.Pj)(),n=(0,r.s)(o),l=(0,s.toValue)(e),u=(0,s.toValue)(t);try{return await o.dispatch(`${a}/find`,{type:l,id:u})}catch(d){404!==d.status&&403!==d.status||o.dispatch("loadingError",new Error(n.t("nav.failWhale.resourceIdNotFound",{resource:e,fqid:t},!0)))}}},83664:function(e,t,a){"use strict";a.d(t,{A:function(){return p}});var r=a(9274);const s={class:"resource-detail-page"},o={key:0,class:"top-area"},c={key:1,class:"middle-area mmt-6"},n={key:2,class:"bottom-area mmt-6"};function l(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",s,[e.$slots["top-area"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.renderSlot)(e.$slots,"top-area",{},void 0,!0)])):(0,r.createCommentVNode)("",!0),e.$slots["middle-area"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.renderSlot)(e.$slots,"middle-area",{},void 0,!0)])):(0,r.createCommentVNode)("",!0),e.$slots["bottom-area"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.renderSlot)(e.$slots,"bottom-area",{},void 0,!0)])):(0,r.createCommentVNode)("",!0)])}a(49627);var u=a(47433);const d={},i=(0,u.A)(d,[["render",l],["__scopeId","data-v-813e316a"]]);var p=i},43164:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var r=a(9274),s=a(27025),o=(0,r.defineComponent)({__name:"projectsecret",setup(e){return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(s["default"],{isProjectSecret:!0}))}});const c=o;var n=c},27025:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Be}});var r=a(9274),s=a(83664),o=a(37528),c=a(5694),n=a(9104),l=a(35664),u=a(87964),d=a(43870),i=a(49584),p=a(67243),m=a(95457),v=a(65359);const k={class:"secret-data-tab-basic"},f={key:0},y={class:"m-20 text-center no-rows"};var h=(0,r.defineComponent)({__name:"Basic",props:{rows:{}},setup(e){const t=(0,v.Pj)(),a=(0,m.s)(t),s=e;return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",k,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.rows,((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"entry"},[(0,r.createVNode)(p.A,{value:e.value,label:e.key,conceal:!0,"conceal-stand-alone":!0},null,8,["value","label"])])))),128)),e.rows.length?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",f,[(0,r.createElementVNode)("div",y,(0,r.toDisplayString)((0,r.unref)(a).t("sortableTable.noRows")),1)]))]))}});const b=h;var w=b;const g={class:"row secret-data-ssh"},B={class:"col span-6 username"},_={class:"col span-6 password"};var V=(0,r.defineComponent)({__name:"Ssh",props:{username:{},password:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",g,[(0,r.createElementVNode)("div",B,[(0,r.createVNode)(p.A,{value:t.username,"label-key":"secret.ssh.public"},null,8,["value"])]),(0,r.createElementVNode)("div",_,[(0,r.createVNode)(p.A,{value:t.password,"label-key":"secret.ssh.private",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])])]))}});const N=V;var A=N;const C={class:"row secret-data-service-account-token"},E={class:"col span-6 crt"},D={class:"col span-6 token"};var P=(0,r.defineComponent)({__name:"ServiceAccountToken",props:{crt:{},token:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",C,[(0,r.createElementVNode)("div",E,[(0,r.createVNode)(p.A,{value:t.crt,"label-key":"secret.serviceAcct.ca"},null,8,["value"])]),(0,r.createElementVNode)("div",D,[(0,r.createVNode)(p.A,{value:t.token,"label-key":"secret.serviceAcct.token",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])])]))}});const S=P;var x=S;const j={class:"row secret-data-certificate"},I={class:"col span-6 token"},L={class:"col span-6 crt"};var $=(0,r.defineComponent)({__name:"Certificate",props:{crt:{},token:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",j,[(0,r.createElementVNode)("div",I,[(0,r.createVNode)(p.A,{value:t.token,"label-key":"secret.certificate.privateKey",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])]),(0,r.createElementVNode)("div",L,[(0,r.createVNode)(p.A,{value:t.crt,"label-key":"secret.certificate.certificate"},null,8,["value"])])]))}});const z=$;var J=z;const H={class:"row mt-20 secret-data-basic-auth"},M={class:"col span-6 username"},R={class:"col span-6 password"};var T=(0,r.defineComponent)({__name:"BasicAuth",props:{username:{},password:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",H,[(0,r.createElementVNode)("div",M,[(0,r.createVNode)(p.A,{value:t.username,"label-key":"secret.registry.username"},null,8,["value"])]),(0,r.createElementVNode)("div",R,[(0,r.createVNode)(p.A,{value:t.password,"label-key":"secret.registry.password",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])])]))}});const F=T;var O=F;const U={class:"row secret-data-registry"},K={class:"col span-12 registry-url"};var q=(0,r.defineComponent)({__name:"Registry",props:{registryUrl:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",U,[(0,r.createElementVNode)("div",K,[(0,r.createVNode)(p.A,{value:t.registryUrl,"label-key":"secret.registry.domainName"},null,8,["value"])])]))}});const Y=q;var W=Y,G=(0,r.defineComponent)({__name:"index",props:{tabLabel:{},secretData:{},weight:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createBlock)(i.A,{class:"secret-data-tab",name:"data",label:t.tabLabel,weight:t.weight},{default:(0,r.withCtx)((()=>[t.secretData.registry?((0,r.openBlock)(),(0,r.createBlock)(W,(0,r.normalizeProps)((0,r.mergeProps)({key:0},t.secretData.registry)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.basicAuth?((0,r.openBlock)(),(0,r.createBlock)(O,(0,r.normalizeProps)((0,r.mergeProps)({key:1},t.secretData.basicAuth)),null,16)):t.secretData.certificate?((0,r.openBlock)(),(0,r.createBlock)(J,(0,r.normalizeProps)((0,r.mergeProps)({key:2},t.secretData.certificate)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.serviceAccount?((0,r.openBlock)(),(0,r.createBlock)(x,(0,r.normalizeProps)((0,r.mergeProps)({key:3},t.secretData.serviceAccount)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.ssh?((0,r.openBlock)(),(0,r.createBlock)(A,(0,r.normalizeProps)((0,r.mergeProps)({key:4},t.secretData.ssh)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.basic?((0,r.openBlock)(),(0,r.createBlock)(w,(0,r.normalizeProps)((0,r.mergeProps)({key:5},t.secretData.basic)),null,16)):(0,r.createCommentVNode)("",!0)])),_:1},8,["label","weight"]))}}),Q=(a(85362),a(47433));const X=(0,Q.A)(G,[["__scopeId","data-v-70247290"]]);var Z=X;const ee={class:"row"},te={class:"col span-12"};var ae=(0,r.defineComponent)({__name:"index",props:{knownHosts:{},weight:{}},setup(e){return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(i.A,{name:"known_hosts","label-key":"secret.ssh.knownHosts",weight:e.weight},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",ee,[(0,r.createElementVNode)("div",te,[(0,r.createVNode)(p.A,{value:e.knownHosts,"label-key":"secret.ssh.knownHosts",conceal:!1},null,8,["value"])])])])),_:1},8,["weight"]))}});const re=ae;var se=re,oe=a(4514),ce=a(17259);const ne=e=>{const t=(0,r.toValue)(e);return(0,r.computed)((()=>{const e=t._type===ce.J.SSH,a=e&&t.supportsSshKnownHosts;if(!a)return;const{data:r={}}=t;return{knownHosts:r.known_hosts?(0,oe.u)(r.known_hosts):""}}))},le=e=>(0,r.computed)((()=>{const t=(0,r.toValue)(e);return{secretType:t._type,secretData:t.data||{}}})),ue=e=>(0,r.computed)((()=>{const t=(0,r.toValue)(e),a=[],{data:s={}}=t;return Object.keys(s).forEach((e=>{const t=(0,oe.u)(s[e]);a.push({key:e,value:t})})),a})),de=e=>{const t=le(e);return(0,r.computed)((()=>{const e=(0,oe.u)(t.value.secretData[".dockerconfigjson"]);return JSON.parse(e).auths}))},ie=e=>{const t=de(e);return(0,r.computed)((()=>({registryUrl:Object.keys(t.value)[0]})))},pe=e=>{const t=de(e),a=ie(e);return(0,r.computed)((()=>({username:t.value[a.value.registryUrl].username,password:t.value[a.value.registryUrl].password})))},me=e=>{const t=ue(e),a=le(e);return(0,r.computed)((()=>({username:(0,oe.u)(a.value.secretData.username||""),password:(0,oe.u)(a.value.secretData.password||""),rows:t.value})))},ve=e=>{const t=le(e);return(0,r.computed)((()=>({username:(0,oe.u)(t.value.secretData["ssh-publickey"]||""),password:(0,oe.u)(t.value.secretData["ssh-privatekey"]||"")})))},ke=e=>{const t=le(e);return(0,r.computed)((()=>({token:(0,oe.u)(t.value.secretData["token"]),crt:(0,oe.u)(t.value.secretData["ca.crt"])})))},fe=e=>{const t=le(e);return(0,r.computed)((()=>({token:(0,oe.u)(t.value.secretData["tls.key"]),crt:(0,oe.u)(t.value.secretData["tls.crt"])})))},ye=e=>{const t=(0,v.Pj)(),a=(0,m.s)(t),s=le(e);return(0,r.computed)((()=>{switch(s.value.secretType){case ce.J.DOCKER_JSON:return{tabLabel:a.t("secret.data"),secretData:{registry:ie(e).value,basicAuth:pe(e).value}};case ce.J.TLS:return{tabLabel:a.t("secret.certificate.certificate"),secretData:{certificate:fe(e).value}};case ce.J.SERVICE_ACCT:return{tabLabel:a.t("secret.data"),secretData:{serviceAccount:ke(e).value}};case ce.J.SSH:return{tabLabel:a.t("secret.ssh.keys"),secretData:{ssh:ve(e).value}};case ce.J.BASIC:return{tabLabel:a.t("secret.data"),secretData:{basicAuth:me(e).value}};default:return{tabLabel:a.t("secret.data"),secretData:{basic:me(e).value}}}}))};var he=a(50960),be=a(22579),we=(0,r.defineComponent)({__name:"secret",props:{isProjectSecret:{type:Boolean,default:!1}},async setup(e){let t,a;const i=e,p=(0,v.Pj)(),{id:m,schema:k}=(0,u.Y)(l.bB),f=i.isProjectSecret?"management":"cluster",y=([t,a]=(0,r.withAsyncContext)((()=>(0,u.F)(l.bB,m,f))),t=await t,a(),t);i.isProjectSecret&&([t,a]=(0,r.withAsyncContext)((()=>p.dispatch("management/find",{id:y.projectId,type:l.Mc.PROJECT}))),await t,a());const h=(0,c.I)(y),b=(0,he._F)(y,i.isProjectSecret),w=(0,be.R3)(y),g=ne(y),B=ye(y);return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(s.A,null,{"top-area":(0,r.withCtx)((()=>[(0,r.createVNode)(o.A,(0,r.normalizeProps)((0,r.guardReactiveProps)((0,r.unref)(h))),null,16),(0,r.createVNode)(n.A,(0,r.mergeProps)({class:"mmt-6"},(0,r.unref)(w),{identifyingInformation:(0,r.unref)(b)}),null,16,["identifyingInformation"])])),"bottom-area":(0,r.withCtx)((()=>[(0,r.createVNode)(d.A,{value:(0,r.unref)(y),schema:(0,r.unref)(k)},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(Z,(0,r.mergeProps)((0,r.unref)(B),{weight:1}),null,16),(0,r.unref)(g)?((0,r.openBlock)(),(0,r.createBlock)(se,(0,r.mergeProps)({key:0},(0,r.unref)(g),{weight:0}),null,16)):(0,r.createCommentVNode)("",!0)])),_:1},8,["value","schema"])])),_:1}))}});const ge=we;var Be=ge},48699:function(e,t,a){"use strict";a.r(t);var r=a(36758),s=a.n(r),o=a(40935),c=a.n(o),n=c()(s());n.push([e.id,".resource-detail-page[data-v-813e316a]{padding:24px}.resource-detail-page[data-v-813e316a]  .tabs.horizontal{border:none}.resource-detail-page[data-v-813e316a]  .tabs.horizontal+.tab-container{border:none;border-top:1px solid var(--border);padding:0;padding-top:24px}",""]),t["default"]=n},87090:function(e,t,a){"use strict";a.r(t);var r=a(36758),s=a.n(r),o=a(40935),c=a.n(o),n=c()(s());n.push([e.id,".secret-data-tab[data-v-70247290]  .entry:not(:first-of-type){margin-top:16px}",""]),t["default"]=n},49627:function(e,t,a){var r=a(48699);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=a(74825).A;s("e43bbd10",r,!0,{sourceMap:!1,shadowMode:!1})},85362:function(e,t,a){var r=a(87090);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=a(74825).A;s("430afe2a",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=harvester-1.6.0.umd.min.164.js.map