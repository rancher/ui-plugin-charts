(("undefined"!==typeof self?self:this)["webpackChunkharvester_1_7_0"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_1_7_0"]||[]).push([[131],{13539:function(e,t,r){"use strict";r.d(t,{A:function(){return C}});var o=r(9274);const n={class:"chart"},a={key:0,class:"hw-gauge"},s={class:"values text-muted"},l={key:0},i={key:1},u={key:2},c={key:3},d={key:1,class:"hw-gauge"},f={class:"values text-muted"},p={key:0},h={key:1},m={key:2},g={key:3};function v(e,t,r,v,y,k){const x=(0,o.resolveComponent)("ConsumptionGauge"),S=(0,o.resolveComponent)("SimpleBox");return(0,o.openBlock)(),(0,o.createBlock)(S,{class:"hardware-resource-gauge"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(r.name),1),!r.reserved||void 0===r.reserved.total&&void 0===r.reserved.useful?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createVNode)(x,{capacity:r.reserved.total,used:r.reserved.useful,"color-stops":k.colorStops},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(r.reservedTitle??e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ",1),(0,o.createElementVNode)("span",s,[r.reserved.formattedUseful?((0,o.openBlock)(),(0,o.createElementBlock)("span",l,(0,o.toDisplayString)(r.reserved.formattedUseful),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",i,(0,o.toDisplayString)(k.maxDecimalPlaces(r.reserved.useful)),1)),t[0]||(t[0]=(0,o.createTextVNode)(" / ",-1)),r.reserved.formattedTotal?((0,o.openBlock)(),(0,o.createElementBlock)("span",u,(0,o.toDisplayString)(r.reserved.formattedTotal),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",c,(0,o.toDisplayString)(k.maxDecimalPlaces(r.reserved.total))+" "+(0,o.toDisplayString)(r.reserved.units),1))])]),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(k.percentage(r.reserved)),1)])),_:1},8,["capacity","used","color-stops"])])),r.used&&void 0!==r.used.useful?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createVNode)(x,{capacity:r.used.total,used:r.used.useful,"color-stops":k.colorStops},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(r.usedTitle??e.t("clusterIndexPage.hardwareResourceGauge.used"))+" ",1),(0,o.createElementVNode)("span",f,[r.used.formattedUseful?((0,o.openBlock)(),(0,o.createElementBlock)("span",p,(0,o.toDisplayString)(r.used.formattedUseful),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",h,(0,o.toDisplayString)(k.maxDecimalPlaces(r.used.useful)),1)),t[1]||(t[1]=(0,o.createTextVNode)(" / ",-1)),r.used.formattedTotal?((0,o.openBlock)(),(0,o.createElementBlock)("span",m,(0,o.toDisplayString)(r.used.formattedTotal),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",g,(0,o.toDisplayString)(k.maxDecimalPlaces(r.used.total))+" "+(0,o.toDisplayString)(r.used.units),1))])]),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(k.percentage(r.used)),1)])),_:1},8,["capacity","used","color-stops"])])):(0,o.createCommentVNode)("",!0)])])),_:1})}var y=r(68732),k=r(87211),x={components:{ConsumptionGauge:y.A,SimpleBox:k.A},props:{name:{type:String,required:!0},units:{type:String,default:""},used:{type:Object,default:null},usedTitle:{type:String,default:null},reserved:{type:Object,default:null},reservedTitle:{type:String,default:null}},computed:{colorStops(){return{0:"--success",30:"--warning",70:"--error"}}},methods:{maxDecimalPlaces(e){return Math.round(100*e)/100},strokes(e,t){return{primaryStrokeColor:this.rgba(e,1),primaryStrokeGradientColor:this.rgba(t,1),secondaryStrokeColor:this.rgba(e,.1),secondaryStrokeGradientColor:this.rgba(t,.1)}},rgba(e,t){return`rgba(var(${e}), ${t})`},percentage(e){return 0===e.total?0:`${(e.useful/e.total*100).toFixed(2)}%`}}},S=(r(32778),r(47433));const B=(0,S.A)(x,[["render",v],["__scopeId","data-v-0e4e8f37"]]);var C=B},96413:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var o=r(9274);function n(e,t,r,n,a,s){const l=(0,o.resolveComponent)("t"),i=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.renderSlot)(e.$slots,"prefix",{},(()=>[r.prefixLabel?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,k:r.prefixLabel,raw:!0},null,8,["k"])):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(r.prefix),1)])),(0,o.createVNode)(i,{to:r.to,target:r.target},{default:(0,o.withCtx)((()=>[(0,o.renderSlot)(e.$slots,"middle",{},(()=>[r.middleLabel?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,k:r.middleLabel,raw:!0},null,8,["k"])):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(r.middle),1)]))])),_:3},8,["to","target"]),(0,o.renderSlot)(e.$slots,"suffix",{},(()=>[r.suffixLabel?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,k:r.suffixLabel,raw:!0},null,8,["k"])):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(r.suffix),1)]))])}var a={props:{to:{type:[String,Object],required:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},middle:{type:String,default:""},prefixLabel:{type:String,default:""},suffixLabel:{type:String,default:""},middleLabel:{type:String,default:""},target:{type:String,default:"self"}}},s=r(47433);const l=(0,s.A)(a,[["render",n]]);var i=l},31855:function(e,t,r){"use strict";r.d(t,{dD:function(){return d},Ay:function(){return g},xS:function(){return f}});var o=r(9274);const n={class:"warnings"},a={key:0,class:"warn-count mb-10 chip"},s={key:1,class:"error-count chip"};function l(e,t,r,l,i,u){const c=(0,o.resolveComponent)("SimpleBox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(c,{class:(0,o.normalizeClass)(["container",{"has-link":!!u.location}]),onClick:u.goToResource},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("h1",null,(0,o.toDisplayString)(u.resourceCounts.total),1),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(u.name),1),(0,o.createElementVNode)("div",n,[u.resourceCounts.warningCount?((0,o.openBlock)(),(0,o.createElementBlock)("div",a,(0,o.toDisplayString)(u.resourceCounts.warningCount),1)):(0,o.createCommentVNode)("",!0),u.resourceCounts.errorCount?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,(0,o.toDisplayString)(u.resourceCounts.errorCount),1)):(0,o.createCommentVNode)("",!0)])])),_:1},8,["class","onClick"])])}var i=r(87211),u=r(35664),c=r(40408);function d(e){switch(e){case"text-success":case"text-info":return"useful";case"text-warning":return"warningCount";default:return"errorCount"}}function f(e,t){const r=e.getters["currentStore"](u.i2),o=e.getters[`${r}/all`](u.i2)?.[0]?.counts,n=o?.[t]?.summary||{},a={total:n.count||0,useful:n.count||0,warningCount:0,errorCount:0};return Object.entries(n.states||{}).forEach((e=>{const t=(0,c.uU)(e[0]),r=e[1],o=d(t);a["useful"]-=r,a[o]+=r})),a}var p={components:{SimpleBox:i.A},props:{resource:{type:String,default:""},spoofedCounts:{type:Object,default:null},cluster:{type:String,default:null}},computed:{resourceCounts(){return this.spoofedCounts?this.spoofedCounts:f(this.$store,this.resource)},location(){if(this.spoofedCounts)return this.spoofedCounts.location;const e={name:"c-cluster-product-resource",params:{product:this.$store.getters["currentProduct"].name,resource:this.resource}};return this.cluster&&(e.params.cluster=this.cluster),e},name(){if(this.spoofedCounts)return this.spoofedCounts.name;const e=this.$store.getters["currentStore"](this.resource),t=this.$store.getters[`${e}/schemaFor`](this.resource);return this.$store.getters["type-map/labelFor"](t,this.resourceCounts.useful)}},methods:{goToResource(){this.location&&this.$router.push(this.location)}}},h=(r(61167),r(47433));const m=(0,h.A)(p,[["render",l],["__scopeId","data-v-39c6e929"]]);var g=m},74562:function(e,t,r){"use strict";r.d(t,{A:function(){return d}});var o=r(9274);const n={key:0};function a(e,t,r,a,s,l){const i=(0,o.resolveComponent)("BadgeState");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[r.arbitrary?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[r.value?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,color:s.stateBackground,label:s.stateDisplay},null,8,["color","label"])):(0,o.createCommentVNode)("",!0)])):((0,o.openBlock)(),(0,o.createBlock)(i,{key:1,value:r.row},null,8,["value"]))])}var s=r(41418),l=r(40408),i={components:{BadgeState:s.j},props:{value:{type:String,default:""},row:{type:Object,required:!0},col:{type:Object,default:()=>{}},arbitrary:{type:Boolean,default:!1}},data(){return{stateDisplay:"",stateBackground:""}},watch:{value:{handler(){if(this.arbitrary){const e=(0,l.uU)(this.value);this.stateDisplay=(0,l.ch)(this.value),this.stateBackground=e.replace("text-","bg-")}},immediate:!0}}},u=r(47433);const c=(0,u.A)(i,[["render",a]]);var d=c},45598:function(e,t,r){"use strict";r.d(t,{A:function(){return g}});var o=r(9274);const n={key:0,class:"text-muted"},a={key:1,tabindex:"0",class:"live-date"},s={key:2,class:"live-date"};function l(e,t,r,l,i,u){const c=(0,o.resolveDirective)("clean-tooltip"),d=(0,o.resolveDirective)("stripped-aria-label");return u.suffixedLabel?r.showTooltip?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",a,[(0,o.createTextVNode)((0,o.toDisplayString)(u.suffixedLabel),1)])),[[c,{content:u.title,placement:r.tooltipPlacement,triggers:["hover","touch","focus"]}],[d,u.title]]):((0,o.openBlock)(),(0,o.createElementBlock)("span",s,(0,o.toDisplayString)(u.suffixedLabel),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",n," â€” "))}var i=r(23464),u=r.n(i),c=r(91462),d=r(92043),f=r(51481),p={props:{value:{type:[String,Number],default:""},addSuffix:{type:Boolean,default:!1},addPrefix:{type:Boolean,default:!1},suffix:{type:String,default:"ago"},tooltipPlacement:{type:String,default:"auto"},showTooltip:{type:Boolean,default:!0},isCountdown:{type:Boolean,default:!1}},mounted(){this.liveUpdate(u()())},data(){return{label:"-"}},computed:{title(){if(!this.value)return"";const e=(0,d.ZD)(this.$store.getters["prefs/get"](c.DX)),t=(0,d.ZD)(this.$store.getters["prefs/get"](c.G$)),r=u()(this.value).format(`${e} ${t}`);return r},suffixedLabel(){if(!this.value)return this.label;let e=this.label||"";if(e&&this.addSuffix){const t=this.$store.getters["i18n/exists"],r=`suffix.${this.suffix}`,o=t(r)?this.t(r):this.suffix;e=`${e} ${o}`}return e},dayValue(){return this.value?u()(this.value):null}},watch:{value(){this.liveUpdate(u()())}},methods:{liveUpdate(e){if(!this.dayValue)return"-"!==this.label&&(this.label="-"),300;if(this.isCountdown&&e.valueOf()>this.dayValue?.valueOf())return this.label="-",300;const t=(0,f.qx)(this.dayValue,e),r=t.diff<0||!this.addPrefix?"":"-";let o=t.label;return 0===t.diff?o="Just now":(o+=` ${r}${this.t(t.unitsKey,{count:t.label})}`,o=o.trim()),this.label!==o&&(this.label=o),t.next||1}}},h=r(47433);const m=(0,h.A)(p,[["render",l]]);var g=m},73322:function(e,t,r){"use strict";r.r(t);var o=r(36758),n=r.n(o),a=r(40935),s=r.n(a),l=s()(n());l.push([e.id,".hardware-resource-gauge[data-v-0e4e8f37]{position:relative;display:flex;flex-direction:column}.hardware-resource-gauge .hw-gauge[data-v-0e4e8f37]:not(:first-of-type){margin-top:20px}.hardware-resource-gauge .values[data-v-0e4e8f37]{font-size:12px;padding-left:10px}",""]),t["default"]=l},15119:function(e,t,r){"use strict";r.r(t);var o=r(36758),n=r.n(o),a=r(40935),s=r.n(a),l=s()(n());l.push([e.id,".has-link[data-v-39c6e929]{cursor:pointer}.has-link[data-v-39c6e929]:hover{border-color:var(--link)}[data-v-39c6e929]  .content{display:flex;justify-content:space-between;align-items:center}[data-v-39c6e929]  .content H1,[data-v-39c6e929]  .content H3{margin:0}[data-v-39c6e929]  .content .chip{border-radius:2em;color:var(--body-bg);padding:0 1em}[data-v-39c6e929]  .content .chip.warn-count{background:var(--warning)}[data-v-39c6e929]  .content .chip.error-count{background:var(--error)}",""]),t["default"]=l},3221:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t,r){var o=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var r;1===t.length&&t[0].length>0&&(t=t[0]),r=(t=t.filter((function(e){return e})))[0];for(var o=1;o<t.length;o+=1)t[o].isValid()&&!t[o][e](r)||(r=t[o]);return r};r.max=function(){var e=[].slice.call(arguments,0);return o("isAfter",e)},r.min=function(){var e=[].slice.call(arguments,0);return o("isBefore",e)}}}))},57657:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(o,n,a){var s=n.prototype;a.utc=function(e){var t={date:e,utc:!0,args:arguments};return new n(t)},s.utc=function(t){var r=a(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},s.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var l=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),l.call(this,e)};var i=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else i.call(this)};var u=s.utcOffset;s.utcOffset=function(o,n){var a=this.$utils().u;if(a(o))return this.$u?0:a(this.$offset)?u.call(this):this.$offset;if("string"==typeof o&&(o=function(e){void 0===e&&(e="");var o=e.match(t);if(!o)return null;var n=(""+o[0]).match(r)||["-",0,0],a=n[0],s=60*+n[1]+ +n[2];return 0===s?0:"+"===a?s:-s}(o),null===o))return this;var s=Math.abs(o)<=16?60*o:o;if(0===s)return this.utc(n);var l=this.clone();if(n)return l.$offset=s,l.$u=!1,l;var i=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(l=this.local().add(s+i,e)).$offset=s,l.$x.$localOffset=i,l};var c=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var d=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=s.diff;s.diff=function(e,t,r){if(e&&this.$u===e.$u)return f.call(this,e,t,r);var o=this.local(),n=a(e).local();return f.call(o,n,t,r)}}}))},32778:function(e,t,r){var o=r(73322);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=r(74825).A;n("1c1305c7",o,!0,{sourceMap:!1,shadowMode:!1})},61167:function(e,t,r){var o=r(15119);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=r(74825).A;n("320454d5",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=harvester-1.7.0.umd.min.131.js.map